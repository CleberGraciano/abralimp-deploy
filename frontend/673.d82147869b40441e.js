"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[673],{673:(ne,F,l)=>{l.r(F),l.d(F,{EnquadramentoModule:()=>te});var u=l(177),m=l(4662),s=l(9417),j=l(4462),k=l(8366),C=l(8423),d=l(5779),e=l(2598),f=l(5371),E=l(5330),q=l(4799),b=l(1141),R=l(8858),v=l(9998),S=l(935),y=l(8542);function I(t,r){if(1&t&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("value",a),e.R7$(1),e.JRh(a)}}function M(t,r){if(1&t&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("value",a.value),e.R7$(1),e.JRh(a.label)}}function $(t,r){if(1&t&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("value",a.nome),e.R7$(1),e.JRh(a.nome)}}function x(t,r){if(1&t){const a=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"label",16),e.EFF(4,"Raz\xe3o Social"),e.k0s(),e.j41(5,"input",17),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.razaoSocial=n)}),e.k0s()(),e.j41(6,"div",15)(7,"label",18),e.EFF(8,"CNPJ"),e.k0s(),e.j41(9,"input",19),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.cnpj=n)}),e.k0s()(),e.j41(10,"div",15)(11,"label",20),e.EFF(12,"Nome Fantasia"),e.k0s(),e.j41(13,"input",21),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.nomeFantasia=n)}),e.k0s()(),e.j41(14,"div",15)(15,"label",22),e.EFF(16,"Estado"),e.k0s(),e.j41(17,"select",23),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.estado=n)}),e.j41(18,"option",24),e.EFF(19,"Todos"),e.k0s(),e.DNE(20,I,2,2,"option",25),e.k0s()(),e.j41(21,"div",15)(22,"label",26),e.EFF(23,"Cidade"),e.k0s(),e.j41(24,"input",27),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.cidade=n)}),e.k0s()(),e.j41(25,"div",15)(26,"label",28),e.EFF(27,"Classifica\xe7\xe3o"),e.k0s(),e.j41(28,"select",29),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.classificacao=n)}),e.j41(29,"option",24),e.EFF(30,"Todas"),e.k0s(),e.DNE(31,M,2,2,"option",25),e.k0s()(),e.j41(32,"div",15)(33,"label",30),e.EFF(34,"Subcategoria"),e.k0s(),e.j41(35,"select",31),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.nomeSubcategoria=n)}),e.j41(36,"option",24),e.EFF(37,"Todas"),e.k0s(),e.DNE(38,$,2,2,"option",25),e.k0s()(),e.j41(39,"div",15)(40,"label",32),e.EFF(41,"Produtos/Servi\xe7os"),e.k0s(),e.j41(42,"input",33),e.bIt("ngModelChange",function(n){e.eBV(a);const i=e.XpG();return e.Njj(i.filtro.apresentacaoProdutosServicos=n)}),e.k0s()(),e.j41(43,"div",34)(44,"button",35),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.limparFiltros())}),e.k0s(),e.j41(45,"button",36),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.buscarComFiltros())}),e.k0s()()()()}if(2&t){const a=e.XpG();e.R7$(5),e.Y8G("ngModel",a.filtro.razaoSocial),e.R7$(4),e.Y8G("ngModel",a.filtro.cnpj),e.R7$(4),e.Y8G("ngModel",a.filtro.nomeFantasia),e.R7$(4),e.Y8G("ngModel",a.filtro.estado),e.R7$(3),e.Y8G("ngForOf",a.estadosBrasil),e.R7$(4),e.Y8G("ngModel",a.filtro.cidade),e.R7$(4),e.Y8G("ngModel",a.filtro.classificacao),e.R7$(3),e.Y8G("ngForOf",a.classificacoes),e.R7$(4),e.Y8G("ngModel",a.filtro.nomeSubcategoria),e.R7$(3),e.Y8G("ngForOf",a.subcategorias),e.R7$(4),e.Y8G("ngModel",a.filtro.apresentacaoProdutosServicos)}}function T(t,r){1&t&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"ID"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Associado"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Classifica\xe7\xe3o"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Valor Contribui\xe7\xe3o"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Data Filia\xe7\xe3o"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Respons\xe1vel Atendimento"),e.k0s(),e.j41(13,"th",38),e.EFF(14,"A\xe7\xf5es"),e.k0s()())}function N(t,r){if(1&t){const a=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.nrm(6,"p-tag",39),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"button",40),e.bIt("click",function(){const i=e.eBV(a).$implicit,c=e.XpG();return e.Njj(c.visualizar(i.id))}),e.k0s(),e.j41(15,"button",41),e.bIt("click",function(){const i=e.eBV(a).$implicit,c=e.XpG();return e.Njj(c.editar(i.id))}),e.k0s(),e.j41(16,"button",42),e.bIt("click",function(){const i=e.eBV(a).$implicit,c=e.XpG();return e.Njj(c.confirmarExclusao(i))}),e.k0s()()()}if(2&t){const a=r.$implicit,o=e.XpG();e.R7$(2),e.JRh(a.id),e.R7$(2),e.JRh((null==a||null==a.associado?null:a.associado.razaoSocial)||"-"),e.R7$(2),e.Y8G("value",a.classificacao)("severity","INSTITUCIONAL"===a.classificacao?"info":"success"),e.R7$(2),e.JRh(o.formatarValor(a.valorContribuicaoMensal)),e.R7$(2),e.JRh(o.formatarData(a.dataFiliacao)),e.R7$(2),e.JRh(a.responsavelAtendimento||"-")}}function D(t,r){1&t&&(e.j41(0,"tr")(1,"td",43),e.nrm(2,"i",44),e.EFF(3," Nenhum enquadramento encontrado. "),e.k0s()())}const G=function(){return[10,25,50]};let O=(()=>{class t{constructor(a,o,n,i,c){this.enquadramentoService=a,this.subcategoriaService=o,this.messageService=n,this.confirmationService=i,this.router=c,this.enquadramentos=[],this.subcategorias=[],this.loading=!1,this.mostrarFiltros=!1,this.filtro={razaoSocial:"",cnpj:"",nomeFantasia:"",estado:"",cidade:"",classificacao:"",nomeSubcategoria:"",apresentacaoProdutosServicos:""},this.estadosBrasil=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],this.classificacoes=[{label:"Institucional",value:"INSTITUCIONAL"},{label:"Benefici\xe1rio",value:"BENEFICIARIO"}]}ngOnInit(){this.carregarEnquadramentos(),this.carregarSubcategorias()}carregarEnquadramentos(){this.loading=!0,this.enquadramentoService.listarTodos().subscribe({next:a=>{this.enquadramentos=a,this.loading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar enquadramentos"}),this.loading=!1}})}carregarSubcategorias(){this.subcategoriaService.listarAtivas().subscribe({next:a=>{this.subcategorias=a},error:()=>{console.error("Erro ao carregar subcategorias")}})}novo(){this.router.navigate(["/admin/enquadramentos/novo"])}editar(a){this.router.navigate(["/admin/enquadramentos",a,"editar"])}visualizar(a){this.router.navigate(["/admin/enquadramentos",a])}confirmarExclusao(a){this.confirmationService.confirm({message:`Deseja realmente excluir o enquadramento do associado "${a?.associado?.razaoSocial||"N/A"}"?`,header:"Confirmar Exclus\xe3o",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"N\xe3o",accept:()=>{this.excluir(a.id)}})}excluir(a){this.enquadramentoService.deletar(a).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Enquadramento exclu\xeddo com sucesso"}),this.carregarEnquadramentos()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao excluir enquadramento"})}})}formatarData(a){return a?new Date(a).toLocaleDateString("pt-BR"):"-"}formatarValor(a){return a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}toggleFiltros(){this.mostrarFiltros=!this.mostrarFiltros}buscarComFiltros(){this.loading=!0;const a={};Object.keys(this.filtro).forEach(o=>{const n=this.filtro[o];n&&""!==n.trim()&&(a[o]=n.trim())}),this.enquadramentoService.buscarComFiltros(a).subscribe({next:o=>{this.enquadramentos=o,this.loading=!1,this.messageService.add({severity:"success",summary:"Busca realizada",detail:`${o.length} enquadramento(s) encontrado(s)`})},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao buscar enquadramentos"}),this.loading=!1}})}limparFiltros(){this.filtro={razaoSocial:"",cnpj:"",nomeFantasia:"",estado:"",cidade:"",classificacao:"",nomeSubcategoria:"",apresentacaoProdutosServicos:""},this.carregarEnquadramentos()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(f.y),e.rXU(E.p),e.rXU(d.bg),e.rXU(d.td),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-enquadramento-list"]],features:[e.Jv_([d.bg,d.td])],decls:17,vars:10,consts:[[1,"container-fluid","py-4"],[1,"card"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"pi","pi-users","me-2"],["pButton","","type","button",1,"p-button-secondary","me-2",3,"label","icon","click"],["pButton","","type","button","label","Novo Enquadramento","icon","pi pi-plus",1,"p-button-success",3,"click"],["class","card-body border-bottom",4,"ngIf"],[1,"card-body"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros","styleClass","p-datatable-sm p-datatable-striped",3,"value","loading","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"card-body","border-bottom"],[1,"row","g-3"],[1,"col-md-3"],["for","razaoSocial",1,"form-label"],["type","text","id","razaoSocial","placeholder","Digite a raz\xe3o social",1,"form-control",3,"ngModel","ngModelChange"],["for","cnpj",1,"form-label"],["type","text","id","cnpj","placeholder","Digite o CNPJ",1,"form-control",3,"ngModel","ngModelChange"],["for","nomeFantasia",1,"form-label"],["type","text","id","nomeFantasia","placeholder","Digite o nome fantasia",1,"form-control",3,"ngModel","ngModelChange"],["for","estado",1,"form-label"],["id","estado",1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","cidade",1,"form-label"],["type","text","id","cidade","placeholder","Digite a cidade",1,"form-control",3,"ngModel","ngModelChange"],["for","classificacao",1,"form-label"],["id","classificacao",1,"form-select",3,"ngModel","ngModelChange"],["for","nomeSubcategoria",1,"form-label"],["id","nomeSubcategoria",1,"form-select",3,"ngModel","ngModelChange"],["for","apresentacaoProdutosServicos",1,"form-label"],["type","text","id","apresentacaoProdutosServicos","placeholder","Buscar em produtos/servi\xe7os",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","d-flex","justify-content-end","gap-2"],["pButton","","type","button","label","Limpar","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","type","button","label","Buscar","icon","pi pi-search",1,"p-button-primary",3,"click"],[3,"value"],[2,"width","250px"],[3,"value","severity"],["pButton","","type","button","icon","pi pi-eye","pTooltip","Visualizar","tooltipPosition","top",1,"p-button-info","p-button-sm","me-2",3,"click"],["pButton","","type","button","icon","pi pi-pencil","pTooltip","Editar","tooltipPosition","top",1,"p-button-warning","p-button-sm","me-2",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Excluir","tooltipPosition","top",1,"p-button-danger","p-button-sm",3,"click"],["colspan","7",1,"text-center"],[1,"pi","pi-info-circle","me-2"]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.nrm(1,"p-toast")(2,"p-confirmDialog"),e.j41(3,"div",1)(4,"div",2)(5,"h3",3),e.nrm(6,"i",4),e.EFF(7," Enquadramento de Associados "),e.k0s(),e.j41(8,"div")(9,"button",5),e.bIt("click",function(){return n.toggleFiltros()}),e.k0s(),e.j41(10,"button",6),e.bIt("click",function(){return n.novo()}),e.k0s()()(),e.DNE(11,x,46,11,"div",7),e.j41(12,"div",8)(13,"p-table",9),e.DNE(14,T,15,0,"ng-template",10),e.DNE(15,N,17,7,"ng-template",11),e.DNE(16,D,4,0,"ng-template",12),e.k0s()()()()),2&o&&(e.R7$(9),e.Y8G("label",n.mostrarFiltros?"Ocultar Filtros":"Mostrar Filtros")("icon",n.mostrarFiltros?"pi pi-times":"pi pi-filter"),e.R7$(2),e.Y8G("ngIf",n.mostrarFiltros),e.R7$(2),e.Y8G("value",n.enquadramentos)("loading",n.loading)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(9,G)))},dependencies:[u.Sq,u.bT,s.xH,s.y7,s.me,s.wz,s.BC,s.vS,d.Ei,q.T,b._f,R.XI,v.y8,S.v,y.m]})}}return t})();var P=l(497),B=l(3864);function V(t,r){if(1&t&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("ngValue",a.id),e.R7$(1),e.Lme(" ",a.razaoSocial," (",a.cnpj,") ")}}function A(t,r){1&t&&(e.j41(0,"small",12),e.EFF(1," Campo obrigat\xf3rio "),e.k0s())}function w(t,r){if(1&t&&(e.j41(0,"div",32),e.nrm(1,"input",33),e.j41(2,"label",34),e.EFF(3),e.k0s()()),2&t){const a=r.$implicit;e.R7$(1),e.Y8G("value",a.value)("id","classif-"+a.value),e.R7$(1),e.Y8G("for","classif-"+a.value),e.R7$(1),e.SpI(" ",a.label," ")}}function L(t,r){1&t&&(e.j41(0,"small",12),e.EFF(1," Campo obrigat\xf3rio "),e.k0s())}function Y(t,r){1&t&&(e.j41(0,"small",12),e.EFF(1," Campo obrigat\xf3rio "),e.k0s())}function X(t,r){1&t&&(e.j41(0,"small",12),e.EFF(1," Campo obrigat\xf3rio "),e.k0s())}function J(t,r){if(1&t&&(e.j41(0,"div",35)(1,"span"),e.EFF(2),e.k0s()()),2&t){const a=r.$implicit;e.R7$(2),e.JRh(a.nome)}}const h=function(){return{height:"300px"}};let _=(()=>{class t{constructor(a,o,n,i,c,p,g){this.fb=a,this.enquadramentoService=o,this.associadoService=n,this.subcategoriaService=i,this.messageService=c,this.router=p,this.route=g,this.isEditMode=!1,this.loading=!1,this.associados=[],this.subcategorias=[],this.subcategoriasSelecionadas=[],this.classificacoes=[{label:"Institucional",value:"INSTITUCIONAL"},{label:"Benefici\xe1rio",value:"BENEFICIARIO"}]}ngOnInit(){this.initForm(),this.carregarAssociados(),this.carregarSubcategorias(),this.route.params.subscribe(a=>{a.id&&(this.isEditMode=!0,this.enquadramentoId=+a.id,this.carregarEnquadramento(this.enquadramentoId))})}initForm(){const a=(new Date).toISOString().split("T")[0];this.enquadramentoForm=this.fb.group({associadoId:[null,s.k0.required],classificacao:["",s.k0.required],valorContribuicaoMensal:[null,[s.k0.required,s.k0.min(0)]],dataFiliacao:[a,s.k0.required],dataDesligacao:[""],responsavelAtendimento:[""],responsavelFiliacao:[""]})}carregarAssociados(){this.associadoService.listarTodos().subscribe({next:a=>{this.associados=a},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar associados"})}})}carregarSubcategorias(){this.subcategoriaService.listarAtivas().subscribe({next:a=>{this.subcategorias=a},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar subcategorias"})}})}carregarEnquadramento(a){this.loading=!0,this.enquadramentoService.buscarPorId(a).subscribe({next:o=>{this.enquadramentoForm.patchValue({associadoId:o.associado?.id,classificacao:o.classificacao,valorContribuicaoMensal:o.valorContribuicaoMensal,dataFiliacao:o.dataFiliacao,dataDesligacao:o.dataDesligacao||"",responsavelAtendimento:o.responsavelAtendimento,responsavelFiliacao:o.responsavelFiliacao}),o.subcategorias&&(this.subcategoriasSelecionadas=o.subcategorias),this.loading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar enquadramento"}),this.loading=!1}})}salvar(){if(this.enquadramentoForm.invalid)return void this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Preencha todos os campos obrigat\xf3rios"});this.loading=!0;const a={...this.enquadramentoForm.value,subcategoriasIds:this.subcategoriasSelecionadas.map(o=>o.id)};this.isEditMode&&this.enquadramentoId?this.enquadramentoService.atualizar(this.enquadramentoId,a).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Enquadramento atualizado com sucesso"}),setTimeout(()=>this.voltar(),1500)},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar enquadramento"}),this.loading=!1}}):this.enquadramentoService.criar(a).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Enquadramento criado com sucesso"}),setTimeout(()=>this.voltar(),1500)},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar enquadramento"}),this.loading=!1}})}voltar(){this.router.navigate(["/admin/enquadramentos"])}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok),e.rXU(f.y),e.rXU(P._),e.rXU(E.p),e.rXU(d.bg),e.rXU(m.Ix),e.rXU(m.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-enquadramento-form"]],features:[e.Jv_([d.bg])],decls:72,vars:21,consts:[[1,"container-fluid","py-4"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12"],[1,"text-primary","border-bottom","pb-2"],[1,"pi","pi-id-card","me-2"],[1,"col-md-6"],[1,"form-label"],[1,"text-danger"],["formControlName","associadoId",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"d-flex","gap-3","mt-2"],["class","form-check",4,"ngFor","ngForOf"],[1,"col-md-4"],["type","number","formControlName","valorContribuicaoMensal","step","0.01","min","0","placeholder","0,00",1,"form-control"],["type","date","formControlName","dataFiliacao",1,"form-control"],["type","date","formControlName","dataDesligacao",1,"form-control"],["type","text","formControlName","responsavelAtendimento","placeholder","Nome do respons\xe1vel",1,"form-control"],["type","text","formControlName","responsavelFiliacao","placeholder","Nome do respons\xe1vel",1,"form-control"],[1,"col-12","mt-4"],[1,"pi","pi-list","me-2"],["sourceHeader","Dispon\xedveis","targetHeader","Selecionadas","filterBy","nome","sourceFilterPlaceholder","Buscar por nome","targetFilterPlaceholder","Buscar por nome",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle"],["pTemplate","item"],[1,"d-flex","justify-content-between"],["type","button","pButton","","label","Voltar","icon","pi pi-arrow-left",1,"p-button-secondary",3,"click"],["type","submit","pButton","","label","Salvar","icon","pi pi-check",1,"p-button-success",3,"disabled"],[1,"form-check"],["type","radio","formControlName","classificacao",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"flex","align-items-center","gap-2"]],template:function(o,n){if(1&o&&(e.j41(0,"div",0),e.nrm(1,"p-toast"),e.j41(2,"div",1)(3,"div",2)(4,"h3",3),e.nrm(5,"i"),e.EFF(6),e.k0s()(),e.j41(7,"div",4)(8,"form",5),e.bIt("ngSubmit",function(){return n.salvar()}),e.j41(9,"div",6)(10,"div",7)(11,"h5",8),e.nrm(12,"i",9),e.EFF(13," QUADRO 8: ENQUADRAMENTO DO ASSOCIADO "),e.k0s()(),e.j41(14,"div",10)(15,"label",11),e.EFF(16,"C\xf3digo do Associado "),e.j41(17,"span",12),e.EFF(18,"*"),e.k0s()(),e.j41(19,"select",13)(20,"option",14),e.EFF(21,"Selecione um associado"),e.k0s(),e.DNE(22,V,2,3,"option",15),e.k0s(),e.DNE(23,A,2,0,"small",16),e.k0s(),e.j41(24,"div",10)(25,"label",11),e.EFF(26,"Classifica\xe7\xe3o "),e.j41(27,"span",12),e.EFF(28,"*"),e.k0s()(),e.j41(29,"div",17),e.DNE(30,w,4,4,"div",18),e.k0s(),e.DNE(31,L,2,0,"small",16),e.k0s(),e.j41(32,"div",19)(33,"label",11),e.EFF(34,"Valor da Contribui\xe7\xe3o Mensal (R$) "),e.j41(35,"span",12),e.EFF(36,"*"),e.k0s()(),e.nrm(37,"input",20),e.DNE(38,Y,2,0,"small",16),e.k0s(),e.j41(39,"div",19)(40,"label",11),e.EFF(41,"Data de Filia\xe7\xe3o "),e.j41(42,"span",12),e.EFF(43,"*"),e.k0s()(),e.nrm(44,"input",21),e.DNE(45,X,2,0,"small",16),e.k0s(),e.j41(46,"div",19)(47,"label",11),e.EFF(48,"Data de Desliga\xe7\xe3o"),e.k0s(),e.nrm(49,"input",22),e.k0s(),e.j41(50,"div",10)(51,"label",11),e.EFF(52,"Respons\xe1vel pelo Atendimento (Abralimp)"),e.k0s(),e.nrm(53,"input",23),e.k0s(),e.j41(54,"div",10)(55,"label",11),e.EFF(56,"Respons\xe1vel pela Filia\xe7\xe3o (Empresa)"),e.k0s(),e.nrm(57,"input",24),e.k0s(),e.j41(58,"div",25)(59,"h5",8),e.nrm(60,"i",26),e.EFF(61," QUADRO 9: SUBCATEGORIA DO ASSOCIADO "),e.k0s()(),e.j41(62,"div",7)(63,"label",11),e.EFF(64,"Selecione as Subcategorias"),e.k0s(),e.j41(65,"p-pickList",27),e.DNE(66,J,3,1,"ng-template",28),e.k0s()(),e.j41(67,"div",7),e.nrm(68,"hr"),e.j41(69,"div",29)(70,"button",30),e.bIt("click",function(){return n.voltar()}),e.k0s(),e.nrm(71,"button",31),e.k0s()()()()()()()),2&o){let i,c,p,g;e.R7$(5),e.ZvI("pi pi-",n.isEditMode?"pencil":"plus"," me-2"),e.R7$(1),e.SpI(" ",n.isEditMode?"Editar":"Novo"," Enquadramento "),e.R7$(2),e.Y8G("formGroup",n.enquadramentoForm),e.R7$(12),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",n.associados),e.R7$(1),e.Y8G("ngIf",(null==(i=n.enquadramentoForm.get("associadoId"))?null:i.invalid)&&(null==(i=n.enquadramentoForm.get("associadoId"))?null:i.touched)),e.R7$(7),e.Y8G("ngForOf",n.classificacoes),e.R7$(1),e.Y8G("ngIf",(null==(c=n.enquadramentoForm.get("classificacao"))?null:c.invalid)&&(null==(c=n.enquadramentoForm.get("classificacao"))?null:c.touched)),e.R7$(7),e.Y8G("ngIf",(null==(p=n.enquadramentoForm.get("valorContribuicaoMensal"))?null:p.invalid)&&(null==(p=n.enquadramentoForm.get("valorContribuicaoMensal"))?null:p.touched)),e.R7$(7),e.Y8G("ngIf",(null==(g=n.enquadramentoForm.get("dataFiliacao"))?null:g.invalid)&&(null==(g=n.enquadramentoForm.get("dataFiliacao"))?null:g.touched)),e.R7$(20),e.Y8G("source",n.subcategorias)("target",n.subcategoriasSelecionadas)("dragdrop",!0)("responsive",!0)("sourceStyle",e.lJ4(19,h))("targetStyle",e.lJ4(20,h)),e.R7$(6),e.Y8G("disabled",n.loading||n.enquadramentoForm.invalid)}},dependencies:[u.Sq,u.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.Fm,s.BC,s.cb,s.VZ,s.j4,s.JD,d.Ei,b._f,v.y8,B.c]})}}return t})();function z(t,r){1&t&&(e.j41(0,"div",3),e.nrm(1,"i",4),e.k0s())}function U(t,r){if(1&t&&(e.j41(0,"a",26),e.EFF(1),e.k0s()),2&t){const a=e.XpG(2);e.Y8G("href",a.enquadramento.associado.website,e.B4B),e.R7$(1),e.SpI(" ",a.enquadramento.associado.website," ")}}function H(t,r){1&t&&(e.j41(0,"span"),e.EFF(1,"-"),e.k0s())}function Q(t,r){1&t&&(e.j41(0,"div",9)(1,"h5"),e.nrm(2,"i",27),e.EFF(3,"Produtos e Servi\xe7os"),e.k0s()())}function W(t,r){if(1&t&&(e.j41(0,"div",6)(1,"p",28),e.EFF(2),e.k0s()()),2&t){const a=e.XpG(2);e.R7$(2),e.JRh(a.enquadramento.associado.apresentacaoProdutosServicos)}}function Z(t,r){if(1&t&&(e.j41(0,"span",30),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.AVh("badge-success",a.ativo)("badge-danger",!a.ativo),e.R7$(1),e.SpI(" ",a.nome," ")}}function K(t,r){if(1&t&&(e.j41(0,"div"),e.DNE(1,Z,2,5,"span",29),e.k0s()),2&t){const a=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",a.enquadramento.subcategorias)}}function ee(t,r){1&t&&(e.j41(0,"p",31),e.EFF(1,"Nenhuma subcategoria vinculada"),e.k0s())}function ae(t,r){if(1&t){const a=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"h4"),e.EFF(3,"Dados do Associado"),e.k0s()(),e.j41(4,"div",7)(5,"label",8),e.EFF(6,"Raz\xe3o Social:"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.k0s()(),e.j41(9,"div",7)(10,"label",8),e.EFF(11,"Nome Fantasia:"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()(),e.j41(14,"div",7)(15,"label",8),e.EFF(16,"CNPJ:"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()(),e.j41(19,"div",9)(20,"h5"),e.nrm(21,"i",10),e.EFF(22,"Endere\xe7o"),e.k0s()(),e.j41(23,"div",7)(24,"label",8),e.EFF(25,"CEP:"),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s()(),e.j41(28,"div",7)(29,"label",8),e.EFF(30,"Estado:"),e.k0s(),e.j41(31,"p"),e.EFF(32),e.k0s()(),e.j41(33,"div",7)(34,"label",8),e.EFF(35,"Cidade:"),e.k0s(),e.j41(36,"p"),e.EFF(37),e.k0s()(),e.j41(38,"div",7)(39,"label",8),e.EFF(40,"Bairro:"),e.k0s(),e.j41(41,"p"),e.EFF(42),e.k0s()(),e.j41(43,"div",11)(44,"label",8),e.EFF(45,"Logradouro:"),e.k0s(),e.j41(46,"p"),e.EFF(47),e.k0s()(),e.j41(48,"div",12)(49,"label",8),e.EFF(50,"N\xfamero:"),e.k0s(),e.j41(51,"p"),e.EFF(52),e.k0s()(),e.j41(53,"div",12)(54,"label",8),e.EFF(55,"Complemento:"),e.k0s(),e.j41(56,"p"),e.EFF(57),e.k0s()(),e.j41(58,"div",9)(59,"h5"),e.nrm(60,"i",13),e.EFF(61,"Contatos"),e.k0s()(),e.j41(62,"div",7)(63,"label",8),e.EFF(64,"E-mail Institucional:"),e.k0s(),e.j41(65,"p"),e.EFF(66),e.k0s()(),e.j41(67,"div",7)(68,"label",8),e.EFF(69,"Telefone Comercial:"),e.k0s(),e.j41(70,"p"),e.EFF(71),e.k0s()(),e.j41(72,"div",7)(73,"label",8),e.EFF(74,"WhatsApp Comercial:"),e.k0s(),e.j41(75,"p"),e.EFF(76),e.k0s()(),e.j41(77,"div",7)(78,"label",8),e.EFF(79,"Website:"),e.k0s(),e.j41(80,"p"),e.DNE(81,U,2,2,"a",14),e.DNE(82,H,2,0,"span",15),e.k0s()(),e.DNE(83,Q,4,0,"div",16),e.DNE(84,W,3,1,"div",17),e.j41(85,"div",6)(86,"h4"),e.EFF(87,"Dados do Enquadramento"),e.k0s()(),e.j41(88,"div",7)(89,"label",8),e.EFF(90,"Classifica\xe7\xe3o:"),e.k0s(),e.j41(91,"p")(92,"span",18),e.EFF(93),e.k0s()()(),e.j41(94,"div",7)(95,"label",8),e.EFF(96,"Valor da Contribui\xe7\xe3o Mensal:"),e.k0s(),e.j41(97,"p"),e.EFF(98),e.k0s()(),e.j41(99,"div",7)(100,"label",8),e.EFF(101,"Data de Filia\xe7\xe3o:"),e.k0s(),e.j41(102,"p"),e.EFF(103),e.k0s()(),e.j41(104,"div",7)(105,"label",8),e.EFF(106,"Data de Desligamento:"),e.k0s(),e.j41(107,"p"),e.EFF(108),e.k0s()(),e.j41(109,"div",6)(110,"h4"),e.EFF(111,"Subcategorias"),e.k0s()(),e.j41(112,"div",6),e.DNE(113,K,2,1,"div",19),e.DNE(114,ee,2,0,"ng-template",null,20,e.C5r),e.k0s(),e.j41(116,"div",6)(117,"h4"),e.EFF(118,"Respons\xe1veis"),e.k0s()(),e.j41(119,"div",7)(120,"label",8),e.EFF(121,"Respons\xe1vel pelo Atendimento:"),e.k0s(),e.j41(122,"p"),e.EFF(123),e.k0s()(),e.j41(124,"div",7)(125,"label",8),e.EFF(126,"Respons\xe1vel pela Filia\xe7\xe3o:"),e.k0s(),e.j41(127,"p"),e.EFF(128),e.k0s()(),e.j41(129,"div",21)(130,"button",22),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.editar())}),e.nrm(131,"i",23),e.EFF(132," Editar "),e.k0s(),e.j41(133,"button",24),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.voltar())}),e.nrm(134,"i",25),e.EFF(135," Voltar "),e.k0s()()()}if(2&t){const a=e.sdS(115),o=e.XpG();e.R7$(8),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.razaoSocial)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.nomeFantasia)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.cnpj)||"-"),e.R7$(9),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.cep)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.estado)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.cidade)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.bairro)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.logradouro)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.numero)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.complemento)||"-"),e.R7$(9),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.emailInstitucional)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.telefoneComercial)||"-"),e.R7$(5),e.JRh((null==o.enquadramento.associado?null:o.enquadramento.associado.whatsappComercial)||"-"),e.R7$(5),e.Y8G("ngIf",null==o.enquadramento.associado?null:o.enquadramento.associado.website),e.R7$(1),e.Y8G("ngIf",!(null!=o.enquadramento.associado&&o.enquadramento.associado.website)),e.R7$(1),e.Y8G("ngIf",null==o.enquadramento.associado?null:o.enquadramento.associado.apresentacaoProdutosServicos),e.R7$(1),e.Y8G("ngIf",null==o.enquadramento.associado?null:o.enquadramento.associado.apresentacaoProdutosServicos),e.R7$(8),e.AVh("badge-success","INSTITUCIONAL"===o.enquadramento.classificacao)("badge-info","BENEFICIARIO"===o.enquadramento.classificacao),e.R7$(1),e.SpI(" ",o.enquadramento.classificacao," "),e.R7$(5),e.JRh(o.formatarValor(o.enquadramento.valorContribuicaoMensal)),e.R7$(5),e.JRh(o.formatarData(o.enquadramento.dataFiliacao)),e.R7$(5),e.JRh(o.enquadramento.dataDesligacao?o.formatarData(o.enquadramento.dataDesligacao):"Ativo"),e.R7$(5),e.Y8G("ngIf",o.enquadramento.subcategorias&&o.enquadramento.subcategorias.length>0)("ngIfElse",a),e.R7$(10),e.JRh(o.enquadramento.responsavelAtendimento||"-"),e.R7$(5),e.JRh(o.enquadramento.responsavelFiliacao||"-")}}const oe=[{path:"",component:O,title:"Enquadramentos",data:{showAddButton:!0}},{path:"novo",component:_,title:"Novo Enquadramento"},{path:":id/editar",component:_,title:"Editar Enquadramento"},{path:":id",component:(()=>{class t{constructor(a,o,n){this.enquadramentoService=a,this.route=o,this.router=n,this.loading=!1}ngOnInit(){const a=this.route.snapshot.params.id;a&&this.carregarEnquadramento(a)}carregarEnquadramento(a){this.loading=!0,this.enquadramentoService.buscarPorId(a).subscribe({next:o=>{this.enquadramento=o,this.loading=!1},error:()=>{alert("Erro ao carregar enquadramento"),this.loading=!1,this.voltar()}})}voltar(){this.router.navigate(["/admin/enquadramentos"])}editar(){this.enquadramento?.id&&this.router.navigate(["/admin/enquadramentos",this.enquadramento.id,"editar"])}formatarData(a){return a?new Date(a).toLocaleDateString("pt-BR"):"-"}formatarValor(a){return a?a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"-"}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(f.y),e.rXU(m.nX),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-enquadramento-view"]],decls:5,vars:2,consts:[[1,"card"],["class","flex justify-content-center",4,"ngIf"],["class","grid",4,"ngIf"],[1,"flex","justify-content-center"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem"],[1,"grid"],[1,"col-12"],[1,"col-12","md:col-6"],[1,"font-bold"],[1,"col-12","mt-3"],[1,"pi","pi-map-marker","me-2"],[1,"col-12","md:col-8"],[1,"col-12","md:col-2"],[1,"pi","pi-phone","me-2"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],[4,"ngIf"],["class","col-12 mt-3",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"badge"],[4,"ngIf","ngIfElse"],["semSubcategorias",""],[1,"col-12","flex","gap-2","mt-3"],[1,"btn","btn-warning",3,"click"],[1,"pi","pi-pencil"],[1,"btn","btn-secondary",3,"click"],[1,"pi","pi-arrow-left"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"pi","pi-briefcase","me-2"],[1,"text-justify"],["class","badge mr-2 mb-2",3,"badge-success","badge-danger",4,"ngFor","ngForOf"],[1,"badge","mr-2","mb-2"],[1,"text-muted"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h3"),e.EFF(2,"Visualizar Enquadramento"),e.k0s(),e.DNE(3,z,2,0,"div",1),e.DNE(4,ae,136,29,"div",2),e.k0s()),2&o&&(e.R7$(3),e.Y8G("ngIf",n.loading),e.R7$(1),e.Y8G("ngIf",!n.loading&&n.enquadramento))},dependencies:[u.Sq,u.bT],styles:[".card[_ngcontent-%COMP%]{padding:2rem;background:white;border-radius:8px;box-shadow:0 2px 4px #0000001a}h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333}h4[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:.5rem;color:#555;border-bottom:2px solid #f0f0f0;padding-bottom:.5rem}h5[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;color:#666;font-size:1.1rem;font-weight:600}h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;color:#666;font-size:.9rem}p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;font-size:1rem}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.text-justify[_ngcontent-%COMP%]{text-align:justify;line-height:1.6;padding:1rem;background:#f8f9fa;border-radius:4px;border-left:3px solid #007bff}.text-muted[_ngcontent-%COMP%]{color:#999;font-style:italic}.white-space-pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;font-size:.875rem;font-weight:500;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge-success[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}.badge-danger[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.badge-info[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;font-size:1rem;border:none;border-radius:.25rem;cursor:pointer;transition:all .2s}.btn[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-1px)}.btn-warning[_ngcontent-%COMP%]{background-color:#f59e0b;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}  .p-tag{font-size:.9rem}"]})}}return t})(),title:"Detalhes do Enquadramento"}];let te=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[u.MD,s.YN,s.X1,j.G,k.r,C.U,m.iI.forChild(oe)]})}}return t})()}}]);