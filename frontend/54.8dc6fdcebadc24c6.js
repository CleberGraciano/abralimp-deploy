"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[54],{8054:(Yn,D,c)=>{c.r(D),c.d(D,{StaffModule:()=>Xn});var b=c(177),t=c(2598),B=c(4167),M=c(4662),j=c(9969);const $=function(a){return[a]};function Q(a,l){if(1&a&&(t.j41(0,"a",18),t.nrm(1,"i",19),t.j41(2,"span",20),t.EFF(3),t.k0s()()),2&a){const e=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(4,$,"./"+e.route)),t.R7$(1),t.HbH("pi-"+e.icon),t.R7$(2),t.JRh(e.name)}}function K(a,l){if(1&a){const e=t.RV6();t.j41(0,"a",21),t.bIt("click",function(n){t.eBV(e);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.onMenuItemClick(i,n))}),t.nrm(1,"i",19),t.j41(2,"span",20),t.EFF(3),t.k0s()()}if(2&a){const e=t.XpG().$implicit;t.R7$(1),t.HbH("pi-"+e.icon),t.R7$(2),t.JRh(e.name)}}function Z(a,l){if(1&a){const e=t.RV6();t.j41(0,"a",22),t.bIt("click",function(n){t.eBV(e);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.onMenuItemClick(i,n))}),t.nrm(1,"i",19),t.j41(2,"span",20),t.EFF(3),t.k0s(),t.nrm(4,"i",23),t.k0s()}if(2&a){const e=t.XpG().$implicit;t.R7$(1),t.HbH("pi-"+e.icon),t.R7$(2),t.JRh(e.name),t.R7$(1),t.AVh("expanded",e.expanded)}}function tt(a,l){if(1&a&&(t.j41(0,"li",26)(1,"a",18),t.nrm(2,"i",27),t.j41(3,"span",28),t.EFF(4),t.k0s()()()),2&a){const e=l.$implicit;t.R7$(1),t.Y8G("routerLink",t.eq3(4,$,"./"+e.route)),t.R7$(1),t.HbH("pi-"+e.icon),t.R7$(2),t.JRh(e.name)}}function et(a,l){if(1&a&&(t.j41(0,"ul",24),t.DNE(1,tt,5,6,"li",25),t.k0s()),2&a){const e=t.XpG().$implicit;t.Y8G("@slideDown",void 0),t.R7$(1),t.Y8G("ngForOf",e.children)}}function ot(a,l){if(1&a&&(t.j41(0,"span",29),t.EFF(1),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.tooltip)}}function nt(a,l){if(1&a&&(t.j41(0,"li"),t.DNE(1,Q,4,6,"a",13),t.DNE(2,K,4,3,"a",14),t.DNE(3,Z,5,5,"a",15),t.DNE(4,et,2,2,"ul",16),t.DNE(5,ot,2,1,"span",17),t.k0s()),2&a){const e=l.$implicit,o=t.XpG();t.AVh("has-children",e.children),t.R7$(1),t.Y8G("ngIf",!e.isParent&&!e.function),t.R7$(1),t.Y8G("ngIf",!e.isParent&&e.function),t.R7$(1),t.Y8G("ngIf",e.isParent),t.R7$(1),t.Y8G("ngIf",e.children&&e.expanded),t.R7$(1),t.Y8G("ngIf",!o.isExpanded)}}let at=(()=>{class a{constructor(e,o){this.authService=e,this.router=o,this.isExpanded=!0,this.searchText="",this.fullName="",this.role="",this.currentUsername="",this.menuItems=[]}ngOnInit(){this.currentUsername=this.authService.getCurrentUsername();const e="roberto@abralimp.com.br"===this.currentUsername?.toLowerCase();this.menuItems=[{icon:"home",name:"Home",tooltip:"Home",isParent:!0,expanded:!1,children:[{icon:"image",name:"Banners",tooltip:"Banners",route:"/banners"},{icon:"megaphone",name:"Avisos",tooltip:"Avisos",route:"/avisos"}]},{icon:"file",name:"P\xe1ginas",tooltip:"P\xe1ginas Din\xe2micas",isParent:!0,expanded:!1,children:[{icon:"file",name:"Lista de P\xe1ginas",tooltip:"Gerenciar P\xe1ginas",route:"paginas-lista"},...e?[{icon:"clone",name:"Modelos",tooltip:"Modelos de P\xe1gina",route:"/modelos-pagina"}]:[]]},{icon:"book",name:"Blog",tooltip:"Blog",isParent:!0,expanded:!1,children:[{icon:"list",name:"Categorias",tooltip:"Categorias",route:"/categorias"},{icon:"file-edit",name:"Posts",tooltip:"Posts",route:"/posts"},{icon:"tag",name:"Temas",tooltip:"Temas",route:"/temas"}]},{icon:"users",name:"Corpo Diretivo",tooltip:"Corpo Diretivo",isParent:!0,expanded:!1,children:[{icon:"users",name:"Corpo diretivo",tooltip:"Corpo Diretivo",route:"/corpo-diretivo-form"},{icon:"briefcase",name:"Cargo",tooltip:"Cargo",route:"/cargo-list"},{icon:"sitemap",name:"Setor",tooltip:"Setor",route:"/setor-list"},{icon:"user",name:"Funcion\xe1rios",tooltip:"Funcion\xe1rios",route:"/funcionarios"}]},{icon:"question-circle",name:"FAQ",tooltip:"FAQ",route:"/faq-list"},{icon:"users",name:"Usu\xe1rios",tooltip:"Usu\xe1rios",route:"/app-usuarios"},{icon:"briefcase",name:"Associados",tooltip:"Associados",route:"associados"},{icon:"sitemap",name:"Enquadramentos",tooltip:"Enquadramentos",route:"enquadramentos"},{icon:"cog",name:"Administrativo",tooltip:"Administrativo",isParent:!0,expanded:!1,children:[{icon:"list",name:"Menus",tooltip:"Menus",route:"/menu-list"},{icon:"link",name:"Footers",tooltip:"Footers",route:"/footers"},{icon:"wrench",name:"Configura\xe7\xf5es",tooltip:"Configura\xe7\xf5es",route:"/configuracoes"}]},{icon:"power-off",name:"Sair",tooltip:"Sair",route:"/",function:()=>this.logout()}],this.fullName=this.authService.getCurrentFullName(),this.role=this.authService.getCurrentRole()}onMenuItemClick(e,o){e.isParent?(o&&o.preventDefault(),this.toggleSubmenu(e)):e.function&&(o&&o.preventDefault(),e.function())}toggleSubmenu(e){e.children&&(e.expanded=!e.expanded)}logout(){console.log("Logout"),this.authService.removeToken(),this.authService.removeCurrentUsername(),this.router.navigate(["/login"])}toggleSidebar(){this.isExpanded=!this.isExpanded}getInitials(){return this.fullName?this.fullName.split(" ").map(e=>e.charAt(0)).join("").substring(0,2).toUpperCase():"U"}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(B.u),t.rXU(M.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-side-navigation-bar"]],decls:17,vars:6,consts:[[1,"sidebar"],[1,"nav-title"],[1,"nav-title-name","nav-title-menu"],["routerLink","/admin"],[1,"pi","pi-bars","nav-title-icon",3,"click"],[1,"nav-list"],[3,"has-children",4,"ngFor","ngForOf"],[1,"profile"],[1,"profile-details"],[1,"profile-avatar"],[1,"profile-info"],[1,"name"],[1,"role"],["routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","function-item",3,"click",4,"ngIf"],["class","parent-item no-route",3,"click",4,"ngIf"],["class","submenu",4,"ngIf"],["class","tooltip",4,"ngIf"],["routerLinkActive","active",3,"routerLink"],[1,"pi",2,"font-size","18px"],[1,"links_name",2,"font-size","18px"],[1,"function-item",3,"click"],[1,"parent-item","no-route",3,"click"],[1,"pi","pi-chevron-right","submenu-arrow"],[1,"submenu"],["class","submenu-item",4,"ngFor","ngForOf"],[1,"submenu-item"],[1,"pi",2,"font-size","16px"],[1,"links_name",2,"font-size","16px"],[1,"tooltip"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.EFF(4,"Abralimp"),t.k0s()(),t.j41(5,"i",4),t.bIt("click",function(){return n.toggleSidebar()}),t.k0s()(),t.j41(6,"ul",5),t.DNE(7,nt,6,7,"li",6),t.k0s(),t.j41(8,"div",7)(9,"div",8)(10,"div",9),t.EFF(11),t.k0s(),t.j41(12,"div",10)(13,"div",11),t.EFF(14),t.k0s(),t.j41(15,"div",12),t.EFF(16),t.k0s()()()()()),2&o&&(t.AVh("collapsed",!n.isExpanded),t.R7$(7),t.Y8G("ngForOf",n.menuItems),t.R7$(4),t.SpI(" ",n.getInitials()," "),t.R7$(3),t.JRh(n.fullName),t.R7$(2),t.JRh(n.role))},dependencies:[b.Sq,b.bT,M.Wk,M.wQ],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.sidebar[_ngcontent-%COMP%]{position:relative;left:0;height:100%;width:250px;background:#11101d;padding:6px 14px;z-index:99;transition:all .5s ease;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .links_name[_ngcontent-%COMP%]{opacity:1;font-size:18px}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;position:relative}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-menu[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-size:25px;font-weight:600;opacity:1;transition:all .5s ease;padding:10px}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);cursor:pointer;color:#fff;font-size:18px}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;opacity:1;transition:all .5s ease;font-size:18px}.sidebar.collapsed[_ngcontent-%COMP%]{width:78px}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]{display:flex}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-icon[_ngcontent-%COMP%]{position:absolute;right:33%!important;color:#fff;font-size:18px;transition:all .5s ease;opacity:1}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-menu[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .icon-title-menu[_ngcontent-%COMP%]{align-items:center;color:#fff;font-size:18px;font-weight:600;opacity:0;transition:all .5s ease}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .nav-title-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%]   .icon-title-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;display:none}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .links_name[_ngcontent-%COMP%]{opacity:0;transition:.5s ease;white-space:nowrap}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .submenu-arrow[_ngcontent-%COMP%]{opacity:0}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{display:none}.sidebar.collapsed[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{opacity:0;transition:.5s ease;width:78px!important}.sidebar.collapsed[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{justify-content:center}.sidebar.collapsed[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:14px}.sidebar.collapsed[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:none}.sidebar.collapsed[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;width:55px}.sidebar.collapsed[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.sidebar.collapsed[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:all .5s ease}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{margin-top:20px;height:100%;overflow-y:auto;overflow-x:hidden}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .links_name[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;list-style:none;margin:8px 0}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li.has-children[_ngcontent-%COMP%]{margin-bottom:4px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;font-size:15px;font-weight:400;text-decoration:none;width:100%;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.no-route[_ngcontent-%COMP%]{cursor:pointer}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.parent-item[_ngcontent-%COMP%]{font-weight:500}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.parent-item[_ngcontent-%COMP%]   .submenu-arrow[_ngcontent-%COMP%]{margin-left:auto;margin-right:15px;transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.parent-item[_ngcontent-%COMP%]   .submenu-arrow.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{min-width:50px;height:50px;line-height:50px;text-align:center}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:12px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .links_name[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .submenu-arrow[_ngcontent-%COMP%]{color:#11101d}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .logout-button[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;width:55px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .logout-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#11101d}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;background-color:#ffffff0d;border-radius:8px;overflow:hidden}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]{margin:0}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:25px;font-size:14px;color:#fffc;border-radius:0}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{min-width:40px;height:40px;line-height:40px;font-size:14px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff;border-radius:8px;margin:2px 8px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#fff;color:#11101d;border-radius:8px;margin:2px 8px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#11101d}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{position:absolute;top:-20px;left:calc(100% + 15px);z-index:3;background:#fff;box-shadow:0 5px 10px #0000004d;padding:6px 12px;border-radius:4px;font-size:15px;font-weight:400;opacity:0;white-space:nowrap;pointer-events:none;transition:0s}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transition:all .4s ease;top:50%;transform:translateY(-50%)}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{position:fixed!important;left:0;bottom:0;padding:16px 20px;overflow:hidden;color:#fff;opacity:1;transition:all .5s ease;background:linear-gradient(135deg,#1e1e2f 0%,#16213e 100%);width:221px;border-top:1px solid rgba(255,255,255,.1);box-shadow:0 -2px 10px #0000004d}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(45deg,#4f46e5,#7c3aed);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#fff;box-shadow:0 2px 8px #4f46e54d}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{flex:1;min-width:0}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Raleway,sans-serif}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   .profile-details[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#252540 0%,#1a2951 100%)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:78px}.sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .links_name[_ngcontent-%COMP%]{display:none;opacity:1;transition:opacity .3s ease}.sidebar.collapsed[_ngcontent-%COMP%]{width:78px}}.home-section[_ngcontent-%COMP%]{left:78px;width:calc(100% - 78px)}.home-section.expanded[_ngcontent-%COMP%]{left:0;width:100%}"],data:{animation:[(0,j.hZ)("slideDown",[(0,j.kY)(":enter",[(0,j.iF)({height:"0",opacity:0,overflow:"hidden"}),(0,j.i0)("300ms ease-in-out",(0,j.iF)({height:"*",opacity:1}))]),(0,j.kY)(":leave",[(0,j.i0)("300ms ease-in-out",(0,j.iF)({height:"0",opacity:0}))])])]}})}}return a})(),it=(()=>{class a{constructor(e,o){this.authService=e,this.router=o}logout(){this.authService.removeToken(),this.authService.removeCurrentUsername(),this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(B.u),t.rXU(M.Ix))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-staff"]],decls:6,vars:0,consts:[[1,"d-flex","w-100","h-100"],[1,"inner-content"],[1,"flex-fill","main-content"],[1,"container-fluid","py-4"]],template:function(o,n){1&o&&(t.j41(0,"div",0),t.nrm(1,"app-side-navigation-bar"),t.j41(2,"div",1)(3,"main",2)(4,"div",3),t.nrm(5,"router-outlet"),t.k0s()()()())},dependencies:[at,M.n3],styles:['@charset "UTF-8";.sidebar[_ngcontent-%COMP%]{width:200px;min-width:200px;max-width:250px;height:100vh;position:sticky;top:0;overflow:hidden;background-color:#18528b!important}.main-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px}.inner-content[_ngcontent-%COMP%]{background-color:#f3f4f6;border-radius:15px;padding:40px}.sidebar-inner[_ngcontent-%COMP%]{height:100%}@media (min-width: 768px){.main-content[_ngcontent-%COMP%]{margin-left:var(--sidebar-width)}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#124374;color:#fff}']})}}return a})();var rt=c(8366),x=c(1626),m=c(5779),k=c(8901),st=c(5097);let A=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/posts/categoria"}listarTodos(){return this.http.get(this.apiUrl)}obterPorId(e){return this.http.get(`${this.apiUrl}/${e}`)}criar(e){return this.http.post(this.apiUrl,e)}atualizar(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deletar(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),G=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/posts/tema"}listarTodos(){return this.http.get(this.apiUrl)}obterPorId(e){return this.http.get(`${this.apiUrl}/${e}`)}criar(e){return this.http.post(this.apiUrl,e)}atualizar(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deletar(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var lt=c(4412),pt=c(5964);let z=(()=>{class a{constructor(e,o){this.router=e,this.activatedRoute=o,this.breadcrumbSubject=new lt.t({items:[],title:"",showAddButton:!1}),this.breadcrumb$=this.breadcrumbSubject.asObservable(),this.router.events.pipe((0,pt.p)(n=>n instanceof M.wF)).subscribe(()=>{this.updateBreadcrumb()})}updateBreadcrumb(){const e=this.router.url,o=this.getRouteTitle(e),n=this.buildBreadcrumbItems(e,o),i=this.getShowAddButton(e);console.log("currentUrl=> ",e),this.breadcrumbSubject.next({items:n,title:o,showAddButton:i})}getRouteTitle(e){const o=e.split("?")[0].substring(1),n=o.split("/").filter(r=>r);return this.findRouteInConfig(o,n)?.title?.toString()||this.getDefaultTitle(n)}findRouteInConfig(e,o){const n=this.router.config;if(o.length>1){const[i,...r]=o,p=r.join("/"),d=n.find(g=>g.path===i);if(d&&d.loadChildren)return this.findChildRoute(p,r)}return this.findMatchingRoute(n,e,o)}findChildRoute(e,o){let n=this.activatedRoute;for(;n.firstChild;)n=n.firstChild;return n.routeConfig?.title?n.routeConfig:null}findMatchingRoute(e,o,n){const i=n[n.length-1];let r=e.find(p=>{if(!p.path)return!1;const d=p.path.split("/").filter(v=>v),g=d[d.length-1];if(g?.includes(":")){const v=g.replace(/:[^/]+/g,"[^/]+");return new RegExp(`^${v}$`).test(i)}return g===i});return r||(r=e.find(p=>{if(p.path===o)return!0;if(p.path?.includes(":")){const d=p.path.replace(/:[^/]+/g,"[^/]+");return new RegExp(`^${d}$`).test(o)}return!1})),r}getDefaultTitle(e){return 0===e.length?"P\xe1gina":e[e.length-1].split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}getShowAddButton(e){const o=e.split("?")[0].substring(1),n=o.split("/").filter(r=>r);return this.findRouteInConfig(o,n)?.data?.showAddButton||!1}buildBreadcrumbItems(e,o){const n=[],i=e.split("/").filter(r=>r&&!r.includes("?"));return i.length>0&&"home"!==i[0]&&n.push({label:o,link:e}),n}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(M.Ix),t.KVO(M.nX))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var P=c(8425),ct=c(8236),s=c(9417),dt=c(1142),T=c(4799),h=c(1141),_=c(2242),N=c(6781),C=c(9998),mt=c(5262),S=c(1631),U=c(2353),gt=c(6394),ut=c(6296);function ft(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",29)(1,"app-post",30),t.bIt("isEditing",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openDialogEdit(i))}),t.k0s()()}if(2&a){const e=l.$implicit;t.R7$(1),t.Y8G("post",e)("canEdit",!0)}}function bt(a,l){if(1&a&&(t.j41(0,"div",33)(1,"label",17),t.EFF(2,"Pr\xe9-visualiza\xe7\xe3o"),t.k0s(),t.j41(3,"div",52),t.nrm(4,"p-image",53),t.k0s()()),2&a){const e=t.XpG(2);t.R7$(4),t.Y8G("src",e.previewUrl)("preview",!0)}}function ht(a,l){if(1&a){const e=t.RV6();t.j41(0,"p-button",54),t.bIt("onClick",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.delete(n))}),t.k0s()}}const _t=function(){return{height:"400px"}};function xt(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",31)(1,"form",32)(2,"div",33)(3,"label",34),t.EFF(4,"T\xedtulo "),t.j41(5,"span",35),t.EFF(6,"*"),t.k0s()(),t.j41(7,"input",36),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.post.title=n)}),t.k0s()(),t.j41(8,"div",33)(9,"label",37),t.EFF(10,"Temas"),t.k0s(),t.j41(11,"p-multiSelect",38),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.post.temas=n)}),t.k0s()(),t.j41(12,"div",33)(13,"label",39),t.EFF(14,"Categorias"),t.k0s(),t.j41(15,"p-multiSelect",40),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.post.categorias=n)}),t.k0s()(),t.j41(16,"div",33)(17,"label",17),t.EFF(18,"Imagem de destaque"),t.k0s(),t.j41(19,"p-fileUpload",41),t.bIt("onSelect",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.onFileSelected(n))}),t.k0s()(),t.DNE(20,bt,5,2,"div",42),t.j41(21,"div",33)(22,"label",17),t.EFF(23,"Destaque"),t.k0s(),t.j41(24,"div",43)(25,"p-inputSwitch",44),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.post.isDestaque=n)}),t.k0s(),t.j41(26,"span",45),t.EFF(27),t.k0s()()(),t.j41(28,"div",33)(29,"label",46),t.EFF(30,"Conte\xfado "),t.j41(31,"span",35),t.EFF(32,"*"),t.k0s()(),t.j41(33,"p-editor",47),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.post.content=n)}),t.k0s()(),t.j41(34,"div",48)(35,"p-button",49),t.bIt("onClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.closeDialog())}),t.k0s(),t.DNE(36,ht,1,0,"p-button",50),t.j41(37,"p-button",51),t.bIt("onClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.save())}),t.k0s()()()()}if(2&a){const e=t.XpG();t.R7$(7),t.Y8G("ngModel",e.post.title),t.R7$(4),t.Y8G("ngModel",e.post.temas)("options",e.temas)("showClear",!0),t.R7$(4),t.Y8G("ngModel",e.post.categorias)("options",e.categorias)("showClear",!0),t.R7$(4),t.Y8G("maxFileSize",5e6),t.R7$(1),t.Y8G("ngIf",e.previewUrl),t.R7$(5),t.Y8G("ngModel",e.post.isDestaque),t.R7$(2),t.JRh(e.post.isDestaque?"Ativo":"Inativo"),t.R7$(6),t.Aen(t.lJ4(15,_t)),t.Y8G("ngModel",e.post.content),t.R7$(3),t.Y8G("ngIf",e.isEdit)}}const Ct=function(){return[9,18,27]},vt=function(){return{width:"90vw",maxWidth:"900px",height:"80vh"}};let X=(()=>{class a{constructor(e,o,n,i,r,p,d,g){this.postService=e,this.messageService=o,this.confirmationService=n,this.temaService=i,this.categoriaService=r,this.breadcrumbService=p,this.modalCommunicationService=d,this.http=g,this.posts=[],this.filteredPosts=[],this.searchTerm="",this.isVisible=!1,this.isEdit=!1,this.post={},this.temas=[],this.categorias=[],this.currentPage=0,this.pageSize=10,this.totalRecords=0}ngOnInit(){this.getPosts(),this.getTemas(),this.getCategorias(),this.updateBreadcrumb(),this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.openDialogNew()})}updateBreadcrumb(){this.breadcrumbService.breadcrumbSubject.next({items:[{label:"Posts",link:"/admin"}],title:"Posts",showAddButton:!0})}getTemas(){this.temaService.listarTodos().subscribe({next:e=>{this.temas=Array.isArray(e)?e:[]},error:e=>{console.log(e),this.temas=[]}})}getCategorias(){this.categoriaService.listarTodos().subscribe({next:e=>{this.categorias=Array.isArray(e)?e:[]},error:e=>{console.log(e),this.categorias=[]}})}getPosts(){this.postService.getPosts().subscribe({next:e=>{const o=e?.content||e;this.posts=Array.isArray(o)?o:[],this.filteredPosts=Array.isArray(o)?o:[]},error:e=>{console.log(e),this.posts=[],this.filteredPosts=[]}})}filterPosts(){let e=(new x.Nl).set("page",this.currentPage.toString()).set("size",this.pageSize.toString());this.searchTerm&&""!==this.searchTerm.trim()&&(e=e.set("title",this.searchTerm.trim())),this.http.get(k.H+"api/v1/posts/consulta",{params:e}).subscribe({next:o=>{const n=o?.content||o;this.posts=Array.isArray(n)?n:[],this.filteredPosts=Array.isArray(n)?n:[],this.totalRecords=o?.totalElements||this.posts.length},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao buscar posts"})}})}clearFilter(){this.searchTerm="",this.currentPage=0,this.filterPosts()}openDialogNew(){this.isEdit=!1,this.isVisible=!0,this.post={isDestaque:!1,temas:[],categorias:[]},this.previewUrl=void 0,this.imageFile=void 0}openDialogEdit(e){this.isEdit=!0,this.isVisible=!0,e.id?this.postService.getPost(e.id).subscribe({next:o=>{this.post={...o},this.post.isDestaque=o.isDestaque??!1,this.post.temas=Array.isArray(o.temas)?o.temas.map(n=>n&&"object"==typeof n?n.id:n).filter(n=>null!=n):[],this.post.categorias=Array.isArray(o.categorias)?o.categorias.map(n=>n&&"object"==typeof n?n.id:n).filter(n=>null!=n):[],this.previewUrl=o.image?"http://localhost:8080"+o.image:void 0,this.imageFile=void 0},error:o=>{console.error("Erro ao carregar post para edi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar dados do post"}),this.post={...e},this.post.isDestaque=e.isDestaque??!1,Array.isArray(e.temas)&&(this.post.temas=e.temas.map(n=>n&&"object"==typeof n?n.id:n).filter(n=>null!=n)),Array.isArray(e.categorias)&&(this.post.categorias=e.categorias.map(n=>n&&"object"==typeof n?n.id:n).filter(n=>null!=n)),this.previewUrl=e.image,this.imageFile=void 0}}):(this.post={...e},this.post.isDestaque=e.isDestaque??!1,Array.isArray(e.temas)&&(this.post.temas=e.temas.map(o=>o&&"object"==typeof o?o.id:o).filter(o=>null!=o)),Array.isArray(e.categorias)&&(this.post.categorias=e.categorias.map(o=>o&&"object"==typeof o?o.id:o).filter(o=>null!=o)),this.previewUrl=e.image,this.imageFile=void 0)}closeDialog(){this.isVisible=!1,this.post={},this.previewUrl=void 0,this.imageFile=void 0}save(){this.post.tags=this.post.tags||[],this.post.isDestaque=!!this.post.isDestaque,this.post.temas=(this.post.temas||[]).map(o=>Number(o)),this.post.categorias=(this.post.categorias||[]).map(o=>Number(o));const e=new FormData;e.append("post",new Blob([JSON.stringify(this.post)],{type:"application/json"})),this.imageFile&&e.append("image",this.imageFile),this.post.id?this.postService.update(this.post.id,e).subscribe({next:()=>{this.isVisible=!1;const o=this.posts.findIndex(n=>n.id===this.post.id);-1!==o&&(this.posts[o]={...this.post},this.filterPosts()),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Post atualizado com sucesso"})},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar post"})}}):this.postService.create(e).subscribe({next:o=>{this.post.id=o,this.posts.unshift({...this.post}),this.filterPosts(),this.isVisible=!1,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Post criado com sucesso"})},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar post"})}})}delete(e){this.confirmationService.confirm({target:e.target,message:"Do you want to delete this post?",header:"Delete Confirmation",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text",acceptIcon:"none",rejectIcon:"none",accept:()=>{this.post.id&&this.postService.deletePost(this.post.id).subscribe({next:()=>{this.posts=this.posts.filter(o=>o.id!==this.post.id),this.filterPosts(),this.isVisible=!1,this.messageService.add({severity:"info",summary:"Confirmado",detail:"Post exclu\xeddo com sucesso"})},error:o=>{console.log(o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao excluir post"})}})},reject:()=>{}})}onFileSelected(e){const o=e.files[0];if(o){this.imageFile=o;const n=new FileReader;n.onload=()=>this.previewUrl=n.result,n.readAsDataURL(o)}}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(st.K),t.rXU(m.bg),t.rXU(m.td),t.rXU(A),t.rXU(G),t.rXU(z),t.rXU(P.j),t.rXU(x.Qq))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-feed"]],features:[t.Jv_([m.bg,m.td])],decls:38,vars:17,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-file-edit"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Novo Post","icon","pi pi-plus","styleClass","p-button-success",3,"onClick"],[1,"post-form"],[1,"form-section-title"],[1,"filter-form"],[1,"row","g-3","align-items-end"],[1,"col-12","col-md-12"],[1,"d-flex","align-items-end","gap-2","h-100"],[2,"flex","1"],[1,"form-label"],["pInputText","","id","searchPosts","type","text","placeholder","Digite t\xedtulo, conte\xfado ou tags...","name","searchTerm",1,"w-100",3,"ngModel","ngModelChange","input"],[1,"filter-button-group"],["label","Filtrar","icon","pi pi-search","styleClass","p-button-primary p-button-sm",3,"click"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"click"],[1,"post-table"],[1,"posts-container"],["currentPageReportTemplate","{first} - {last} de {totalRecords} posts",3,"value","layout","rows","paginator","gridStyleClass","rowsPerPageOptions","showCurrentPageReport"],["dv",""],["pTemplate","gridItem"],[3,"header","visible","modal","draggable","resizable","visibleChange"],["pTemplate","content"],[1,"post-grid-item"],[3,"post","canEdit","isEditing"],[1,"dialog-container"],[1,"dialog-form"],[1,"form-group"],["for","titulo",1,"form-label"],[1,"required"],["id","titulo","type","text","pInputText","","name","title","placeholder","Digite o t\xedtulo do post",1,"w-100",3,"ngModel","ngModelChange"],["for","temas",1,"form-label"],["id","temas","name","temas","optionLabel","nome","optionValue","id","placeholder","Selecione os temas","display","chip","styleClass","w-100",3,"ngModel","options","showClear","ngModelChange"],["for","categorias",1,"form-label"],["id","categorias","name","categorias","optionLabel","nome","optionValue","id","placeholder","Selecione as categorias","display","chip","styleClass","w-100",3,"ngModel","options","showClear","ngModelChange"],["mode","basic","chooseLabel","Selecionar imagem","accept","image/*","styleClass","w-100",3,"maxFileSize","onSelect"],["class","form-group",4,"ngIf"],[1,"status-toggle","d-flex","align-items-center","gap-2"],["name","isDestaque",3,"ngModel","ngModelChange"],[1,"status-label"],["for","content",1,"form-label"],["name","content","styleClass","w-100",3,"ngModel","ngModelChange"],[1,"dialog-actions"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["label","Excluir","icon","pi pi-trash","styleClass","p-button-outlined p-button-danger p-button-sm",3,"onClick",4,"ngIf"],["label","Salvar","icon","pi pi-check","styleClass","p-button-primary p-button-sm",3,"onClick"],[1,"preview-container"],["alt","Preview","width","250",3,"src","preview"],["label","Excluir","icon","pi pi-trash","styleClass","p-button-outlined p-button-danger p-button-sm",3,"onClick"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Posts"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie posts do blog"),t.k0s()()(),t.j41(11,"div",8)(12,"p-button",9),t.bIt("onClick",function(){return n.openDialogNew()}),t.k0s()()(),t.j41(13,"div",10)(14,"h3",11),t.EFF(15,"Filtros"),t.k0s(),t.j41(16,"form",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"label",17),t.EFF(22,"Buscar"),t.k0s(),t.j41(23,"input",18),t.bIt("ngModelChange",function(r){return n.searchTerm=r})("input",function(){return n.filterPosts()}),t.k0s()(),t.j41(24,"div",19)(25,"p-button",20),t.bIt("click",function(){return n.filterPosts()}),t.k0s(),t.j41(26,"p-button",21),t.bIt("click",function(){return n.clearFilter()}),t.k0s()()()()()()(),t.j41(27,"div",22)(28,"h3",11),t.EFF(29,"Lista de Posts"),t.k0s(),t.j41(30,"div",23)(31,"p-dataView",24,25),t.DNE(33,ft,2,2,"ng-template",26),t.k0s()()()()(),t.j41(34,"p-dialog",27),t.bIt("visibleChange",function(r){return n.isVisible=r}),t.DNE(35,xt,38,16,"ng-template",28),t.k0s(),t.nrm(36,"p-toast")(37,"p-confirmDialog")),2&o&&(t.R7$(23),t.Y8G("ngModel",n.searchTerm),t.R7$(8),t.Y8G("value",n.filteredPosts)("layout","grid")("rows",9)("paginator",!0)("gridStyleClass","posts-grid")("rowsPerPageOptions",t.lJ4(15,Ct))("showCurrentPageReport",!0),t.R7$(3),t.Aen(t.lJ4(16,vt)),t.Y8G("header",n.isEdit?"Editar Post":"Novo Post")("visible",n.isVisible)("modal",!0)("draggable",!1)("resizable",!1))},dependencies:[ct.q,s.qT,s.me,s.BC,s.cb,m.Ei,dt.KE,T.T,h.$n,_.S,N.l,C.y8,mt.U$,S.HW,U.N,gt._,ut.KF,b.bT,s.vS,s.cV],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.post-form[_ngcontent-%COMP%], .post-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}.posts-container[_ngcontent-%COMP%]{margin-top:1.5rem}.posts-grid[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:24px;padding:0;width:100%}@media (min-width: 1280px){.posts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}.post-grid-item[_ngcontent-%COMP%]{display:flex;height:100%;max-width:430px;margin-right:35px;margin-bottom:35px}.post-grid-item[_ngcontent-%COMP%]   app-post[_ngcontent-%COMP%]{width:100%}@media (max-width: 1024px){.posts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 640px){.posts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}  .post-table .p-dataview .p-dataview-content{padding:0!important}  .post-table .p-dataview .p-paginator{background:transparent!important;border:none!important;border-top:1px solid #e8eef7!important;padding:2rem 0!important;margin-top:2rem!important;font-family:Raleway,sans-serif!important}  .post-table .p-dataview .p-paginator .p-paginator-current{color:#475569!important;font-weight:500!important;font-size:14px!important}  .post-table .p-dataview .p-paginator .p-paginator-pages .p-paginator-page{border-radius:12px!important;margin:0 4px!important;border:2px solid transparent!important;color:#64748b!important;font-weight:600!important;transition:all .3s ease!important}  .post-table .p-dataview .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 12px #0d4a8a4d!important}  .post-table .p-dataview .p-paginator .p-paginator-pages .p-paginator-page:hover:not(.p-highlight){background:#f1f5f9!important;border-color:#e2e8f0!important;color:#475569!important}  .post-table .p-dataview .p-paginator .p-paginator-prev,   .post-table .p-dataview .p-paginator .p-paginator-next{border-radius:12px!important;border:2px solid #e2e8f0!important;background:#f8fafc!important;color:#64748b!important;font-weight:600!important;transition:all .3s ease!important}  .post-table .p-dataview .p-paginator .p-paginator-prev:hover:not(.p-disabled),   .post-table .p-dataview .p-paginator .p-paginator-next:hover:not(.p-disabled){background:#f1f5f9!important;border-color:#cbd5e1!important;color:#475569!important;transform:translateY(-1px)!important}  .post-table .p-dataview .p-paginator .p-paginator-prev.p-disabled,   .post-table .p-dataview .p-paginator .p-paginator-next.p-disabled{opacity:.4!important}  .post-table .p-dataview .p-paginator .p-paginator-first,   .post-table .p-dataview .p-paginator .p-paginator-last{border-radius:12px!important;border:2px solid #e2e8f0!important;background:#f8fafc!important;color:#64748b!important}  .post-table .p-dataview .p-paginator .p-paginator-first:hover:not(.p-disabled),   .post-table .p-dataview .p-paginator .p-paginator-last:hover:not(.p-disabled){background:#f1f5f9!important;border-color:#cbd5e1!important;color:#475569!important}.posts-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4rem;color:#64748b;font-family:Raleway,sans-serif}.posts-empty[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#64748b;font-family:Raleway,sans-serif}.posts-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;color:#cbd5e1;margin-bottom:1rem}.posts-empty[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#475569;margin-bottom:.5rem}.posts-empty[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:14px;line-height:1.6}  .post-form .p-inputtext{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important;line-height:1.4!important;padding:.6rem .9rem!important}  .post-form .p-inputtext::placeholder{color:#0f17247a!important}  .post-form .p-inputtext:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .post-form .p-inputtext:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .post-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .post-form .p-button-primary{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #0d4a8a59!important}  .post-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1b6ba8 0%,#2563eb 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #0d4a8a73!important}  .post-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .post-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .post-table .p-dataview{background:transparent!important;border:none!important}  .post-table .p-dataview .p-dataview-content{background:transparent!important;border:none!important;padding:0!important}  .post-table .p-paginator{background:transparent!important;border:none!important;border-top:1px solid #e8eef7!important;padding:1rem!important;margin-top:1.5rem!important}  .post-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}  .post-table .p-paginator .p-paginator-pages .p-paginator-page{border-radius:8px!important}  .post-table .p-paginator .p-paginator-pages .p-paginator-page.p-highlight{background:#0D4A8A!important;border-color:#0d4a8a!important}  .p-dialog-header{background:#f8f9fa!important;color:#495057!important;border-bottom:1px solid #e5e7eb!important;border-top-left-radius:12px!important;border-top-right-radius:12px!important;padding:1.5rem 2rem!important}  .p-dialog-header .p-dialog-title{font-family:Raleway,sans-serif!important;font-weight:700!important;font-size:18px!important;color:#495057!important}  .p-dialog-header .p-dialog-header-icon{color:#6c757d!important}  .p-dialog-header .p-dialog-header-icon:hover{background-color:#0000000d!important}  .p-dialog-content{padding:0!important;border-bottom-left-radius:12px!important;border-bottom-right-radius:12px!important;overflow-y:auto!important;max-height:calc(80vh - 100px)!important}  .p-dialog .p-inputtext,   .p-dialog .p-multiselect,   .p-dialog .p-fileupload,   .p-dialog .p-editor{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;transition:all .3s ease!important;background:white!important}  .p-dialog .p-inputtext:focus,   .p-dialog .p-inputtext.p-focus,   .p-dialog .p-multiselect:focus,   .p-dialog .p-multiselect.p-focus,   .p-dialog .p-fileupload:focus,   .p-dialog .p-fileupload.p-focus,   .p-dialog .p-editor:focus,   .p-dialog .p-editor.p-focus{border-color:#0d4a8a!important;box-shadow:0 0 0 3px #0d4a8a1a!important}  .p-dialog .p-button{font-family:Raleway,sans-serif!important;font-weight:600!important;border-radius:8px!important;padding:.75rem 1.5rem!important;transition:all .3s ease!important}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.post-form[_ngcontent-%COMP%], .post-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}.filter-button-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}.posts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.posts-container[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 480px){.posts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.p-dialog[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1.5rem}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}.dialog-container[_ngcontent-%COMP%]{padding:2rem;font-family:Raleway,sans-serif;width:100%;min-height:100%;display:flex;flex-direction:column}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem;flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:12px;text-transform:uppercase;letter-spacing:.6px;font-family:Raleway,sans-serif!important}.required[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;margin-left:4px}.preview-container[_ngcontent-%COMP%]{padding:1rem;border:2px dashed #e5e7eb;border-radius:8px;text-align:center;background:#f9fafb}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.875rem;justify-content:flex-end;align-items:center;margin-top:2rem;padding:1.75rem 0 0;border-top:1px solid #e5e7eb;background:white;position:sticky;bottom:0;z-index:10}  .p-dialog .p-dialog-content{padding:0!important}  .p-dialog .p-dialog-header{padding:1.5rem 2rem!important;border-bottom:1px solid #e5e7eb!important}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;line-height:1.5!important;padding:.65rem 1rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 0 0 .2rem #0d4a8a40!important;outline:none!important}  .p-inputtext[readonly],   .p-inputtextarea[readonly]{background-color:#f8f9fa!important;color:#6c757d!important}  .p-multiselect{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important}  .p-multiselect:hover{border-color:#cfddea!important}  .p-multiselect.p-focus{border-color:#0d4a8a!important;box-shadow:0 0 0 .2rem #0d4a8a40!important}  .p-fileupload .p-button{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border:none!important;font-family:Raleway,sans-serif!important;border-radius:8px!important}  .p-editor .ql-toolbar{border-top-left-radius:8px!important;border-top-right-radius:8px!important}  .p-editor .ql-container{border-bottom-left-radius:8px!important;border-bottom-right-radius:8px!important}']})}}return a})(),V=(()=>{class a{constructor(e){this.http=e,this.apiURL=k.H+"/api/v1/roles"}getRoles(){return this.http.get(this.apiURL)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var wt=c(5456),yt=c(3057),f=c(8858),y=c(9883),kt=c(5901);function Pt(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",8)(1,"p-button",9),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openDialogNew())}),t.k0s(),t.j41(2,"span",10),t.nrm(3,"i",11),t.j41(4,"input",12,13),t.bIt("input",function(){t.eBV(e);const n=t.sdS(5);t.XpG();const i=t.sdS(2);return t.Njj(i.filterGlobal(n.value,"contains"))}),t.k0s()()()}}function Mt(a,l){if(1&a){const e=t.RV6();t.j41(0,"p-dropdown",17),t.bIt("onChange",function(n){const r=t.eBV(e).filterCallback;return t.Njj(r(n.value))}),t.k0s()}if(2&a){const e=l.$implicit,o=t.XpG(2);t.Y8G("ngModel",e)("options",o.roles)("showClear",!0)}}function Ft(a,l){1&a&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Email"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Fullname"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Role"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Status"),t.k0s()(),t.j41(9,"tr"),t.nrm(10,"th")(11,"th"),t.j41(12,"th")(13,"p-columnFilter",14),t.DNE(14,Mt,1,3,"ng-template",15),t.k0s()(),t.j41(15,"th"),t.nrm(16,"p-columnFilter",16),t.k0s()()),2&a&&(t.R7$(13),t.Y8G("showMenu",!1))}const Ot=function(a,l){return{"text-green-500 pi-check-circle":a,"text-red-500 pi-times-circle":l}};function jt(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr",18),t.bIt("dblclick",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openDialogEdit(i))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.nrm(8,"i",19),t.k0s()()}if(2&a){const e=l.$implicit,o=t.XpG();t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.fullname),t.R7$(2),t.JRh(o.getRole(e.roleId)),t.R7$(2),t.Y8G("ngClass",t.l_i(4,Ot,e.active,!e.active))}}function Et(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",21)(1,"label",33),t.EFF(2,"ID"),t.k0s(),t.j41(3,"input",34),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.id=n)}),t.k0s()()}if(2&a){const e=t.XpG(2);t.R7$(3),t.Y8G("ngModel",e.user.id)}}const Y=function(){return{width:"100%"}};function St(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",21)(1,"label",35),t.EFF(2,"Password"),t.k0s(),t.j41(3,"p-password",36),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.password=n)}),t.k0s()()}if(2&a){const e=t.XpG(2);t.R7$(3),t.Aen(t.lJ4(5,Y)),t.Y8G("ngModel",e.user.password)("feedback",!1)("inputStyle",t.lJ4(6,Y))}}function Tt(a,l){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",21)(2,"label",37),t.EFF(3,"Created Date"),t.k0s(),t.j41(4,"input",38),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.createdDate=n)}),t.k0s()(),t.j41(5,"div",21)(6,"label",39),t.EFF(7,"Created By"),t.k0s(),t.j41(8,"input",40),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.createdBy=n)}),t.k0s()(),t.j41(9,"div",21)(10,"label",41),t.EFF(11,"Last Modified Date"),t.k0s(),t.j41(12,"input",42),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.lastModifiedDate=n)}),t.k0s()(),t.j41(13,"div",21)(14,"label",43),t.EFF(15,"Last Modified By"),t.k0s(),t.j41(16,"input",44),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.user.lastModifiedBy=n)}),t.k0s()(),t.bVm()}if(2&a){const e=t.XpG(2);t.R7$(4),t.Y8G("ngModel",e.user.createdDate),t.R7$(4),t.Y8G("ngModel",e.user.createdBy),t.R7$(4),t.Y8G("ngModel",e.user.lastModifiedDate),t.R7$(4),t.Y8G("ngModel",e.user.lastModifiedBy)}}const Rt=function(){return{label:"Active",value:!0}},It=function(){return{label:"Disable",value:!1}},Dt=function(a,l){return[a,l]};function Bt(a,l){if(1&a){const e=t.RV6();t.DNE(0,Et,4,1,"div",20),t.j41(1,"div",21)(2,"label",22),t.EFF(3,"Role"),t.k0s(),t.j41(4,"p-dropdown",23),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.user.roleId=n)}),t.k0s()(),t.j41(5,"div",21)(6,"label",22),t.EFF(7,"Status"),t.k0s(),t.j41(8,"p-selectButton",24),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.user.active=n)}),t.k0s()(),t.j41(9,"div",21)(10,"label",25),t.EFF(11,"Email"),t.k0s(),t.j41(12,"input",26),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.user.email=n)}),t.k0s()(),t.DNE(13,St,4,7,"div",20),t.j41(14,"div",21)(15,"label",27),t.EFF(16,"Fullname"),t.k0s(),t.j41(17,"input",28),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.user.fullname=n)}),t.k0s()(),t.DNE(18,Tt,17,4,"ng-container",29),t.j41(19,"div",30)(20,"p-button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isVisible=!1)}),t.k0s(),t.j41(21,"p-button",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.save())}),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("ngIf",e.isEdit),t.R7$(4),t.Y8G("options",e.roles)("ngModel",e.user.roleId),t.R7$(4),t.Y8G("options",t.l_i(11,Dt,t.lJ4(9,Rt),t.lJ4(10,It)))("ngModel",e.user.active),t.R7$(4),t.Y8G("ngModel",e.user.email),t.R7$(1),t.Y8G("ngIf",!e.isEdit),t.R7$(4),t.Y8G("ngModel",e.user.fullname),t.R7$(1),t.Y8G("ngIf",e.isEdit)}}const $t=function(){return["fullname","email"]},At=function(){return{"min-width":"75rem"}},Gt=function(){return{width:"50vw"}};let zt=(()=>{class a{constructor(e,o,n){this.roleService=e,this.userService=o,this.messageService=n,this.isVisible=!1,this.isEdit=!1}ngOnInit(){this.getRoles(),this.getUsers()}getRoles(){this.roleService.getRoles().subscribe({next:e=>{this.roles=e},error:e=>{console.log(e)}})}getUsers(){this.userService.getUsers().subscribe({next:e=>{this.users=e},error:e=>{console.log(e)}})}getRole(e){return this.roles?.find(o=>o.id===e)?.name}openDialogEdit(e){this.isEdit=!0,this.isVisible=!0,this.user={...e}}openDialogNew(){this.isEdit=!1,this.isVisible=!0,this.user={roleId:1,active:!0}}save(){this.user.id?this.userService.update(this.user.id,this.user).subscribe({next:e=>{this.isVisible=!1;const o=this.users.findIndex(n=>n.id===this.user.id);-1!=o&&(this.users[o]=this.user),this.messageService.add({severity:"success",summary:"Success",detail:"User is updated"})},error:e=>{console.log(e)}}):this.userService.create(this.user).subscribe({next:e=>{this.user.id=e,this.isVisible=!1,this.users.unshift({...this.user,id:e}),this.messageService.add({severity:"success",summary:"Success",detail:"User is added"})},error:e=>{console.log(e)}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(V),t.rXU(wt.D),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-user-management"]],features:[t.Jv_([m.bg])],decls:9,vars:12,consts:[[1,"card"],[3,"value","globalFilterFields","tableStyle"],["usertable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","User details",3,"visible","modal","draggable","resizable","visibleChange"],["pTemplate","content"],[1,"flex"],["label","New","severity","success","icon","pi pi-plus",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["search",""],["field","roleId","matchMode","equals",3,"showMenu"],["pTemplate","filter"],["type","boolean","field","active"],["optionLabel","name","optionValue","id",3,"ngModel","options","showClear","onChange"],[1,"cursor-pointer",3,"dblclick"],[1,"pi",3,"ngClass"],["class","flex flex-column gap-2 mb-4",4,"ngIf"],[1,"flex","flex-column","gap-2","mb-4"],["for","role"],["optionLabel","name","optionValue","id",3,"options","ngModel","ngModelChange"],["optionLabel","label","optionValue","value",3,"options","ngModel","ngModelChange"],["for","email"],["pInputText","","id","email",3,"ngModel","ngModelChange"],["for","fullname"],["pInputText","","id","fullname",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"flex","justify-content-end","gap-2","mb-4"],["label","Cancel","severity","danger",3,"click"],["label","Save","severity","success",3,"click"],["for","id"],["pInputText","","id","id","readonly","",3,"ngModel","ngModelChange"],["for","password"],[3,"ngModel","feedback","inputStyle","ngModelChange"],["for","createdDate"],["pInputText","","id","createdDate","readonly","",3,"ngModel","ngModelChange"],["for","createdBy"],["pInputText","","id","createdBy","readonly","",3,"ngModel","ngModelChange"],["for","lastModifiedDate"],["pInputText","","id","lastModifiedDate","readonly","",3,"ngModel","ngModelChange"],["for","lastModifiedBy"],["pInputText","","id","lastModifiedBy","readonly","",3,"ngModel","ngModelChange"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"p-table",1,2),t.DNE(3,Pt,6,0,"ng-template",3),t.DNE(4,Ft,17,1,"ng-template",4),t.DNE(5,jt,9,7,"ng-template",5),t.k0s()(),t.j41(6,"p-dialog",6),t.bIt("visibleChange",function(r){return n.isVisible=r}),t.DNE(7,Bt,22,14,"ng-template",7),t.k0s(),t.nrm(8,"p-toast")),2&o&&(t.R7$(1),t.Y8G("value",n.users)("globalFilterFields",t.lJ4(9,$t))("tableStyle",t.lJ4(10,At)),t.R7$(5),t.Aen(t.lJ4(11,Gt)),t.Y8G("visible",n.isVisible)("modal",!0)("draggable",!1)("resizable",!1))},dependencies:[s.me,s.BC,yt._2,m.Ei,h.$n,f.XI,f.rl,y.ms,_.S,N.l,kt.JC,C.y8,b.YU,b.bT,s.vS]})}}return a})();var Nt=c(4462),Ut=c(3383),Xt=c(4460),Vt=c(7008),u=c(2100),F=c(1305);function Yt(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function qt(a,l){if(1&a&&(t.j41(0,"small",11),t.DNE(1,Yt,2,0,"span",12),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("nome"))||null==o.errors?null:o.errors.required)}}function Lt(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function Jt(a,l){if(1&a&&(t.j41(0,"small",11),t.DNE(1,Lt,2,0,"span",12),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("descricao"))||null==o.errors?null:o.errors.required)}}let Ht=(()=>{class a{constructor(e,o,n){this.fb=e,this.ref=o,this.config=n,this.imagemSelecionada=null,this.acao=""}ngOnInit(){this.dialogForm=this.fb.group({nome:["",s.k0.required],descricao:["",s.k0.required]}),this.config.data?(this.acao="editar",this.dialogForm.patchValue(this.config.data)):this.acao="criar"}salvar(){if(this.dialogForm.valid){const e=new FormData;e.append("nome",this.dialogForm.value.nome),e.append("descricao",this.dialogForm.value.descricao),this.imagemSelecionada&&e.append("imagem",this.imagemSelecionada),this.ref.close({formData:e,data:this.dialogForm.value,acao:this.acao})}else this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-setor-form-dialog"]],decls:19,vars:8,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"required-field"],["pInputText","","type","text","formControlName","nome","placeholder","Digite o nome do setor",1,"w-100"],["class","error-message",4,"ngIf"],["pInputTextarea","","formControlName","descricao","placeholder","Digite a descri\xe7\xe3o do setor","rows","4",1,"w-100"],[1,"dialog-actions"],["label","Salvar","styleClass","p-button-success","type","submit",3,"disabled","click"],["label","Cancelar","styleClass","p-button-outlined p-button-secondary","type","button",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Nome "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,qt,2,1,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",3),t.EFF(11,"Descri\xe7\xe3o "),t.j41(12,"span",4),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"textarea",7),t.DNE(15,Jt,2,1,"small",6),t.k0s(),t.j41(16,"div",8)(17,"p-button",9),t.bIt("click",function(){return n.salvar()}),t.k0s(),t.j41(18,"p-button",10),t.bIt("click",function(){return n.fechar()}),t.k0s()()()()),2&o){let i,r,p,d;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("ng-invalid-required",(null==(i=n.dialogForm.get("nome"))?null:i.invalid)&&((null==(i=n.dialogForm.get("nome"))?null:i.dirty)||(null==(i=n.dialogForm.get("nome"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("nome"))?null:r.invalid)&&((null==(r=n.dialogForm.get("nome"))?null:r.dirty)||(null==(r=n.dialogForm.get("nome"))?null:r.touched))),t.R7$(6),t.AVh("ng-invalid-required",(null==(p=n.dialogForm.get("descricao"))?null:p.invalid)&&((null==(p=n.dialogForm.get("descricao"))?null:p.dirty)||(null==(p=n.dialogForm.get("descricao"))?null:p.touched))),t.R7$(1),t.Y8G("ngIf",(null==(d=n.dialogForm.get("descricao"))?null:d.invalid)&&((null==(d=n.dialogForm.get("descricao"))?null:d.dirty)||(null==(d=n.dialogForm.get("descricao"))?null:d.touched))),t.R7$(2),t.Y8G("disabled",n.dialogForm.invalid)}},dependencies:[b.bT,h.$n,_.S,F.Z,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.25rem}.required-field[_ngcontent-%COMP%]{color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:.25rem;display:block}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e8eef7}  .dialog-form .p-inputtext,   .dialog-form .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .dialog-form .p-inputtext::placeholder,   .dialog-form .p-inputtextarea::placeholder{color:#0f17247a!important}  .dialog-form .p-inputtext:hover:not(:disabled),   .dialog-form .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .dialog-form .p-inputtext:focus,   .dialog-form .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .dialog-form .ng-invalid-required.ng-touched{border-color:#dc3545!important}  .dialog-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .dialog-actions .p-button-success{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}  .dialog-actions .p-button-success:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}  .dialog-actions .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .dialog-actions .p-button:disabled{opacity:.6!important;cursor:not-allowed!important}  .p-dialog-header{border-bottom:1px solid #e8eef7!important;background:#f8fafc!important}  .p-dialog-header .p-dialog-title{font-weight:700!important;color:#0d4a8a!important;font-family:Raleway,sans-serif!important}  .p-dialog-header .p-dialog-close{color:#0d4a8a!important}']})}}return a})();var Wt=c(2984),w=c(8542);function Qt(a,l){1&a&&(t.j41(0,"tr")(1,"th",27),t.EFF(2,"NOME "),t.nrm(3,"p-sortIcon",28),t.k0s(),t.j41(4,"th",29),t.EFF(5,"STATUS "),t.nrm(6,"p-sortIcon",30),t.k0s(),t.j41(7,"th",31),t.EFF(8,"A\xc7\xd5ES"),t.k0s()())}function Kt(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",36),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function Zt(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function te(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"div",32),t.DNE(7,Kt,1,0,"i",33),t.DNE(8,Zt,1,0,"i",34),t.j41(9,"i",35),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarSetor(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(1==e.status?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.status),t.R7$(1),t.Y8G("ngIf",!e.status)}}const ee=function(){return[5,10,25,50]};let oe=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.setorService=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.imagens=[],this.corpos=[],this.elements=[],this.totalRecords=0,this.rows=5,this.loading=!1,this.filteredElements=[],this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}]}ngOnInit(){this.filterForm=this.fb.group({nome:["",s.k0.required],descricao:["",s.k0.required],status:[!0]}),this.filtrar(),this.filteredElements=[...this.elements],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarSetor()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}onPage(e){this.listar(e.page??0,e.rows??this.rows)}get integrantes(){return this.form.get("integrantes")}adicionarSetor(e){let o=e?{...e}:null;this.ref=this.dialogService.open(Ht,{header:e?"Editar Setor":"Adicionar Setor",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{"criar"==i?.acao?this.salvar(i.data):"editar"==i?.acao&&this.editar(i.data,e)})}salvar(e){const o=e;o.status=!0,this.setorService.salvar(o).subscribe({next:()=>{this.filtrar(),this.messageService.add({severity:"success",summary:"Successo",detail:"Inclus\xe3o efetuada com sucesso"}),this.form.reset(),this.integrantes.clear(),this.imagens=[]},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}editar(e,o){this.setorService.editar(e,o.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}filtrar(){this.listar(0,this.rows)}listar(e,o){const n=this.filterForm.value;this.loading=!0,this.setorService.filtrarSetores(e,o,n).subscribe({next:i=>{this.elements=i.content||[],this.totalRecords=i.totalElements||0,this.rows=i.size??o,this.loading=!1},error:i=>{console.error(i),this.loading=!1}})}limparFiltros(){this.filterForm.reset()}mudarStatus(e){this.setorService.mudarStatus(e).subscribe({next:o=>{500!=o.status?(this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()):this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})},error:o=>{console.error("Erro na requisi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(Wt.$),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-setor"]],decls:38,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-building"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Adicionar Setor","icon","pi pi-plus","styleClass","p-button-success",3,"onClick"],[1,"setor-form"],[1,"form-section-title"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-md-6"],[1,"form-label"],["id","status","formControlName","status","placeholder","Selecione o status","styleClass","w-100",3,"options","showClear"],[1,"d-flex","align-items-end","gap-2","h-100"],[2,"flex","1"],["pInputText","","id","nome","formControlName","nome","placeholder","Digite o nome do setor",1,"w-100"],[1,"filter-button-group"],["label","Filtrar","icon","pi pi-search","styleClass","p-button-primary p-button-sm","type","submit"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm","type","button",3,"onClick"],[1,"setor-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading","onPage"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","nome",2,"width","70%"],["field","nome"],["pSortableColumn","status",2,"width","15%"],["field","status"],[2,"width","15%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Setores"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie setores da organiza\xe7\xe3o"),t.k0s()()(),t.j41(11,"div",8)(12,"p-button",9),t.bIt("onClick",function(){return n.adicionarSetor({})}),t.k0s()()(),t.j41(13,"div",10)(14,"h3",11),t.EFF(15,"Filtros"),t.k0s(),t.j41(16,"form",12),t.bIt("ngSubmit",function(){return n.filtrar()}),t.j41(17,"div",13)(18,"div",14)(19,"label",15),t.EFF(20,"Status"),t.k0s(),t.nrm(21,"p-dropdown",16),t.k0s(),t.j41(22,"div",14)(23,"div",17)(24,"div",18)(25,"label",15),t.EFF(26,"Nome"),t.k0s(),t.nrm(27,"input",19),t.k0s(),t.j41(28,"div",20),t.nrm(29,"p-button",21),t.j41(30,"p-button",22),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()()(),t.j41(31,"div",23)(32,"h3",11),t.EFF(33,"Lista de Setores"),t.k0s(),t.j41(34,"p-table",24),t.bIt("onPage",function(r){return n.onPage(r)}),t.DNE(35,Qt,9,0,"ng-template",25),t.DNE(36,te,10,4,"ng-template",26),t.k0s()()()(),t.nrm(37,"p-toast")),2&o&&(t.R7$(16),t.Y8G("formGroup",n.filterForm),t.R7$(5),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(13),t.Y8G("value",n.elements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,ee))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.setor-form[_ngcontent-%COMP%], .setor-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}  .setor-form .p-inputtext,   .setor-form .p-dropdown{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .setor-form .p-inputtext{line-height:1.4!important;padding:.6rem .9rem!important}  .setor-form .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .setor-form .p-inputtext::placeholder{color:#0f17247a!important}  .setor-form .p-inputtext:hover:not(:disabled),   .setor-form .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .setor-form .p-inputtext:focus,   .setor-form .p-dropdown:focus,   .setor-form .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .setor-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .setor-form .p-button-primary{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #0d4a8a59!important}  .setor-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1b6ba8 0%,#2563eb 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #0d4a8a73!important}  .setor-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .setor-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .setor-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .setor-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .setor-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .setor-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .setor-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.setor-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.setor-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.setor-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.setor-form[_ngcontent-%COMP%], .setor-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}.filter-button-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})();function ne(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function ae(a,l){if(1&a&&(t.j41(0,"small",16),t.DNE(1,ne,2,0,"span",17),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("nome"))||null==o.errors?null:o.errors.required)}}function ie(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function re(a,l){if(1&a&&(t.j41(0,"small",16),t.DNE(1,ie,2,0,"span",17),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("descricao"))||null==o.errors?null:o.errors.required)}}let se=(()=>{class a{constructor(e,o,n){this.fb=e,this.ref=o,this.config=n,this.imagemSelecionada=null,this.acao=""}ngOnInit(){this.dialogForm=this.fb.group({nome:["",s.k0.required],descricao:["",s.k0.required],status:[!0]}),this.config.data?(this.acao="editar",this.dialogForm.patchValue(this.config.data)):this.acao="criar"}salvar(){if(this.dialogForm.valid){const e=new FormData;e.append("nome",this.dialogForm.value.nome),e.append("descricao",this.dialogForm.value.descricao),e.append("status",this.dialogForm.value.status),this.ref.close({formData:e,data:this.dialogForm.value,acao:this.acao})}else this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-cargo-form-dialog"]],decls:26,vars:9,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","nome",1,"form-label"],[1,"required"],["id","nome","type","text","pInputText","","formControlName","nome","placeholder","Digite o nome do cargo",1,"w-100"],["class","error-message",4,"ngIf"],["for","descricao",1,"form-label"],["id","descricao","pInputTextarea","","formControlName","descricao","placeholder","Digite a descri\xe7\xe3o do cargo","rows","3",1,"w-100"],[1,"form-label"],[1,"status-toggle"],["formControlName","ativo"],[1,"status-label"],[1,"dialog-actions"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["label","Salvar","icon","pi pi-check","styleClass","p-button-primary p-button-sm",3,"disabled","onClick"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Nome "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,ae,2,1,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",7),t.EFF(11,"Descri\xe7\xe3o "),t.j41(12,"span",4),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"textarea",8),t.DNE(15,re,2,1,"small",6),t.k0s(),t.j41(16,"div",2)(17,"label",9),t.EFF(18,"Status"),t.k0s(),t.j41(19,"div",10),t.nrm(20,"p-inputSwitch",11),t.j41(21,"span",12),t.EFF(22),t.k0s()()(),t.j41(23,"div",13)(24,"p-button",14),t.bIt("onClick",function(){return n.fechar()}),t.k0s(),t.j41(25,"p-button",15),t.bIt("onClick",function(){return n.salvar()}),t.k0s()()()()),2&o){let i,r,p,d,g;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("ng-invalid",(null==(i=n.dialogForm.get("nome"))?null:i.invalid)&&((null==(i=n.dialogForm.get("nome"))?null:i.dirty)||(null==(i=n.dialogForm.get("nome"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("nome"))?null:r.invalid)&&((null==(r=n.dialogForm.get("nome"))?null:r.dirty)||(null==(r=n.dialogForm.get("nome"))?null:r.touched))),t.R7$(6),t.AVh("ng-invalid",(null==(p=n.dialogForm.get("descricao"))?null:p.invalid)&&((null==(p=n.dialogForm.get("descricao"))?null:p.dirty)||(null==(p=n.dialogForm.get("descricao"))?null:p.touched))),t.R7$(1),t.Y8G("ngIf",(null==(d=n.dialogForm.get("descricao"))?null:d.invalid)&&((null==(d=n.dialogForm.get("descricao"))?null:d.dirty)||(null==(d=n.dialogForm.get("descricao"))?null:d.touched))),t.R7$(7),t.JRh(null!=(g=n.dialogForm.get("ativo"))&&g.value?"Ativo":"Inativo"),t.R7$(3),t.Y8G("disabled",n.dialogForm.invalid)}},dependencies:[b.bT,h.$n,_.S,F.Z,S.HW,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:0;font-family:Raleway,sans-serif;width:100%}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:12px;text-transform:uppercase;letter-spacing:.6px;font-family:Raleway,sans-serif!important}.required[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;margin-left:4px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#dc3545;font-family:var(--font-family)!important;margin-top:.375rem}.status-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.status-label[_ngcontent-%COMP%]{font-size:13px;color:#0f1724;font-family:var(--font-family);font-weight:500}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.875rem;justify-content:flex-end;align-items:center;margin-top:2rem;padding-top:1.75rem;border-top:1px solid #e5e7eb}  .p-dialog .p-dialog-content{padding:2rem!important}  .p-dialog .p-dialog-header{padding:1.5rem 2rem!important;border-bottom:1px solid #e5e7eb!important}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.5!important;padding:.65rem 1rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 0 0 3px #0d4a8a1a!important;outline:none!important}  .p-inputtext.ng-invalid.ng-touched,   .p-inputtextarea.ng-invalid.ng-touched{border-color:#fca5a5!important;background:#fef2f2!important}  .dialog-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important;padding:.65rem 1.25rem!important;font-size:12px!important;text-transform:uppercase!important;letter-spacing:.5px!important;min-width:100px!important}  .dialog-actions .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 12px #0d4a8a40!important}  .dialog-actions .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 6px 20px #0d4a8a59!important}  .dialog-actions .p-button-primary:disabled{opacity:.55!important;cursor:not-allowed!important;transform:none!important}  .dialog-actions .p-button-outlined.p-button-secondary{color:#6b7280!important;border:1.5px solid #d4dce8!important;background:transparent!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f9fafb!important;border-color:#9ca3af!important;color:#374151!important}  .p-inputswitch .p-inputswitch-slider{background-color:#cbd5e1!important;transition:all .2s ease!important}  .p-inputswitch.ng-valid.ng-dirty .p-inputswitch-slider,   .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#10b981!important}  .p-inputswitch:focus{box-shadow:0 0 0 .2rem #0d4a8a1a!important}  .p-dialog-title{font-family:Raleway,sans-serif!important;font-weight:700!important;font-size:18px!important;color:#0d4a8a!important;letter-spacing:-.5px!important}']})}}return a})(),R=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/cargos"}listarTodos(){return this.http.get(this.apiUrl)}salvar(e){return this.http.post(this.apiUrl,e)}editar(e,o){return this.http.put(`${this.apiUrl}/${o}`,e)}mudarStatus(e){const o=e.id,n=e.status,i=(new x.Nl).set("status",!n);return this.http.patch(`${this.apiUrl}/${o}/status`,null,{params:i})}filtrarCargos(e,o,n){let i=new x.Nl;for(const r in n)if(n.hasOwnProperty(r)){const p=n[r];null!=p&&""!==p&&(i=i.append(r,p.toString()))}return i=i.append("pagina",e),i=i.append("itensPagina",o),this.http.get(`${this.apiUrl}/consulta`,{params:i})}deletar(e){return this.http.delete(`${this.apiUrl}/${e.id}`)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function le(a,l){1&a&&(t.j41(0,"tr")(1,"th",28),t.EFF(2,"NOME "),t.nrm(3,"p-sortIcon",29),t.k0s(),t.j41(4,"th",30),t.EFF(5,"DESCRI\xc7\xc3O "),t.nrm(6,"p-sortIcon",31),t.k0s(),t.j41(7,"th",32),t.EFF(8,"STATUS "),t.nrm(9,"p-sortIcon",33),t.k0s(),t.j41(10,"th",34),t.EFF(11,"A\xc7\xd5ES"),t.k0s()())}function pe(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function ce(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function de(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",35),t.DNE(9,pe,1,0,"i",36),t.DNE(10,ce,1,0,"i",37),t.j41(11,"i",38),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarCargo(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(e.descricao||"-"),t.R7$(2),t.JRh(1==e.status?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.status),t.R7$(1),t.Y8G("ngIf",!e.status)}}function me(a,l){1&a&&(t.j41(0,"tr")(1,"td",41),t.EFF(2,"Nenhum cargo encontrado"),t.k0s()())}const ge=function(){return[5,10,25,50]};let ue=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.cargoService=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.elements=[],this.filteredElements=[],this.totalRecords=0,this.rows=5,this.loading=!1,this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}]}ngOnInit(){this.filterForm=this.fb.group({nome:["",s.k0.required],descricao:["",s.k0.required],status:[null]}),this.filtrar(),this.filteredElements=[...this.elements],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarCargo()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}get integrantes(){return this.filterForm.get("integrantes")}adicionarCargo(e){let o=e?{...e}:null;this.ref=this.dialogService.open(se,{header:e?"Editar Cargo":"Adicionar Cargo",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{"criar"==i?.acao?this.salvar(i.data):"editar"==i?.acao&&this.editar(i.data,e)})}salvar(e){this.cargoService.salvar(e).subscribe({next:()=>{this.filtrar(),this.messageService.add({severity:"success",summary:"Successo",detail:"Inclus\xe3o efetuada com sucesso"}),this.filterForm?.reset(),this.integrantes?.clear()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}editar(e,o){this.cargoService.editar(e,o.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}filtrar(){this.listar(0,this.rows)}listar(e,o){const n=this.filterForm.value;this.loading=!0,this.cargoService.filtrarCargos(e,o,n).subscribe({next:i=>{this.elements=i.content||[],this.totalRecords=i.totalElements||0,this.rows=i.size??o,this.loading=!1},error:i=>{console.error(i),this.loading=!1}})}onPage(e){this.listar(e.page??0,e.rows??this.rows)}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.elements]}mudarStatus(e){this.cargoService.mudarStatus(e).subscribe({next:o=>{500!=o.status?(this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()):this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})},error:o=>{console.error("Erro na requisi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}}),this.filtrar()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(R),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-cargo"]],decls:36,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-briefcase"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Novo","icon","pi pi-plus","styleClass","p-button-success p-button-sm",3,"onClick"],[1,"cargo-form"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-lg-3"],["for","status",1,"form-label"],["id","status","formControlName","status","placeholder","Todos","styleClass","w-100",3,"options","showClear"],[1,"col-12","col-lg-6"],["for","nome",1,"form-label"],["pInputText","","id","nome","formControlName","nome","placeholder","Buscar por nome...",1,"form-control","w-100"],[1,"filter-button-group"],["label","Pesquisar","icon","pi pi-search","styleClass","p-button-primary p-button-sm",3,"onClick"],["label","Limpar","icon","pi pi-refresh","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],[1,"cargo-table"],[1,"form-section-title"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","nome",2,"width","35%"],["field","nome"],["pSortableColumn","descricao",2,"width","35%"],["field","descricao"],["pSortableColumn","status",2,"width","15%"],["field","status"],[2,"width","15%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"],["colspan","4",1,"text-center"]],template:function(o,n){1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"header",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h2",6),t.EFF(9,"Cargos"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Gerencie os cargos do portal"),t.k0s()()(),t.j41(12,"div",8)(13,"p-button",9),t.bIt("onClick",function(){return n.adicionarCargo()}),t.k0s()()(),t.j41(14,"div",10)(15,"form",11),t.bIt("ngSubmit",function(){return n.filtrar()}),t.j41(16,"div",12)(17,"div",13)(18,"label",14),t.EFF(19,"Status"),t.k0s(),t.nrm(20,"p-dropdown",15),t.k0s(),t.j41(21,"div",16)(22,"label",17),t.EFF(23,"Nome"),t.k0s(),t.nrm(24,"input",18),t.k0s(),t.j41(25,"div",13)(26,"div",19)(27,"p-button",20),t.bIt("onClick",function(){return n.filtrar()}),t.k0s(),t.j41(28,"p-button",21),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()(),t.j41(29,"div",22)(30,"h3",23),t.EFF(31,"Lista de Cargos"),t.k0s(),t.j41(32,"p-table",24),t.DNE(33,le,12,0,"ng-template",25),t.DNE(34,de,12,5,"ng-template",26),t.DNE(35,me,3,0,"ng-template",27),t.k0s()()()()),2&o&&(t.R7$(15),t.Y8G("formGroup",n.filterForm),t.R7$(5),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(12),t.Y8G("value",n.elements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,ge))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap";@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.page-actions[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{border-radius:10px!important;font-family:Raleway,sans-serif!important;font-weight:700!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;padding:.75rem 1.75rem!important;font-size:14px!important;text-transform:uppercase!important;letter-spacing:.5px!important;box-shadow:0 4px 12px #00000026!important}.page-actions[_ngcontent-%COMP%]   .p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;color:#fff!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}.page-actions[_ngcontent-%COMP%]   .p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px)!important;box-shadow:0 10px 32px #10b98173!important;background:linear-gradient(135deg,#059669 0%,#047857 100%)!important}.page-actions[_ngcontent-%COMP%]   .p-button-primary[_ngcontent-%COMP%]{background:white!important;color:#0d4a8a!important;border-color:#fff!important;box-shadow:0 6px 20px #ffffff80!important}.page-actions[_ngcontent-%COMP%]   .p-button-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(255,255,255,.95)!important;transform:translateY(-3px)!important;box-shadow:0 10px 32px #fff9!important}.cargo-form[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.cargo-table[_ngcontent-%COMP%]{background:#ffffff;border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:20px;color:#0d4a8a;margin:0 0 2rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:1rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(90deg,#0D4A8A,#1B6BA8);border-radius:2px}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}  .p-table{border-radius:12px;overflow:hidden;font-size:.98rem}  .p-table thead th{background:#f2f6fa;color:#0a4b78;font-weight:700;border:none;padding:12px 8px}  .p-table tbody td{padding:10px 8px;border:none}  .cargo-table i{font-size:22px;cursor:pointer;color:gray;transition:all .2s ease;margin-right:1rem}  .cargo-table i:hover{color:#0d4a8a;transform:scale(1.1)}  .cargo-table i.pi-pen-to-square{margin-right:0}  .cargo-table td .d-flex i{display:inline-flex;align-items:center;justify-content:center}  .p-paginator{border-radius:0 0 12px 12px;background:#f2f6fa;border:none}  .p-dropdown,   .p-inputtext{border-radius:8px;font-size:1rem}  .p-button{font-family:Raleway,sans-serif;font-size:1rem;border-radius:8px;min-width:100px}  .form-label{font-weight:600;color:#1f2937;font-size:13px;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif!important;margin-bottom:.75rem;display:block}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder,   .p-inputtext::-webkit-input-placeholder,   .p-inputtextarea::-webkit-input-placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .p-dropdown{border-radius:8px!important;border:1.5px solid #e6eef6!important;background:white!important;transition:all .18s ease!important;box-shadow:inset 0 1px 3px #0000000d!important;width:100%!important;display:flex!important}  .p-dropdown .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:var(--font-family)!important}  .p-dropdown .p-dropdown-trigger{width:auto!important;padding:0 .75rem!important}  .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-dropdown:focus,   .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important}  .cargo-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .cargo-form .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 15px #0d4a8a40!important}  .cargo-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 25px #0d4a8a59!important}  .cargo-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .cargo-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .p-datatable{font-family:var(--font-family)!important}  .p-datatable .p-datatable-thead>tr>th{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)!important;color:#0d4a8a!important;font-weight:700!important;padding:1rem 1.25rem!important;border-color:#e8eef7!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important}  .p-datatable .p-datatable-tbody>tr{border-color:#e8eef7!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem 1.25rem!important;border-color:#e8eef7!important;color:#1f2937!important}  .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}']})}}return a})();function fe(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function be(a,l){if(1&a&&(t.j41(0,"small",11),t.DNE(1,fe,2,0,"span",12),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("pergunta"))||null==o.errors?null:o.errors.required)}}function he(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function _e(a,l){if(1&a&&(t.j41(0,"small",11),t.DNE(1,he,2,0,"span",12),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("resposta"))||null==o.errors?null:o.errors.required)}}let xe=(()=>{class a{constructor(e,o,n){this.fb=e,this.ref=o,this.config=n,this.imagemSelecionada=null,this.acao=""}ngOnInit(){this.dialogForm=this.fb.group({pergunta:["",s.k0.required],resposta:["",s.k0.required]}),this.config.data?(this.acao="editar",this.dialogForm.patchValue(this.config.data)):this.acao="criar"}salvar(){if(this.dialogForm.valid){const e={pergunta:this.dialogForm.value.pergunta,resposta:this.dialogForm.value.resposta};"criar"===this.acao&&(e.status=!0),this.ref.close({data:e,acao:this.acao})}else this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-faq-form-dialog"]],decls:19,vars:8,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"required-field"],["pInputText","","type","text","formControlName","pergunta","placeholder","Digite a pergunta",1,"w-100"],["class","error-message",4,"ngIf"],["pInputTextarea","","formControlName","resposta","placeholder","Digite a resposta","rows","4",1,"w-100"],[1,"dialog-actions"],["label","Salvar","styleClass","p-button-success","type","submit",3,"disabled"],["label","Cancelar","styleClass","p-button-outlined p-button-secondary","type","button",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Pergunta "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,be,2,1,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",3),t.EFF(11,"Resposta "),t.j41(12,"span",4),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"textarea",7),t.DNE(15,_e,2,1,"small",6),t.k0s(),t.j41(16,"div",8),t.nrm(17,"p-button",9),t.j41(18,"p-button",10),t.bIt("click",function(){return n.fechar()}),t.k0s()()()()),2&o){let i,r,p,d;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("ng-invalid-required",(null==(i=n.dialogForm.get("pergunta"))?null:i.invalid)&&((null==(i=n.dialogForm.get("pergunta"))?null:i.dirty)||(null==(i=n.dialogForm.get("pergunta"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("pergunta"))?null:r.invalid)&&((null==(r=n.dialogForm.get("pergunta"))?null:r.dirty)||(null==(r=n.dialogForm.get("pergunta"))?null:r.touched))),t.R7$(6),t.AVh("ng-invalid-required",(null==(p=n.dialogForm.get("resposta"))?null:p.invalid)&&((null==(p=n.dialogForm.get("resposta"))?null:p.dirty)||(null==(p=n.dialogForm.get("resposta"))?null:p.touched))),t.R7$(1),t.Y8G("ngIf",(null==(d=n.dialogForm.get("resposta"))?null:d.invalid)&&((null==(d=n.dialogForm.get("resposta"))?null:d.dirty)||(null==(d=n.dialogForm.get("resposta"))?null:d.touched))),t.R7$(2),t.Y8G("disabled",n.dialogForm.invalid)}},dependencies:[b.bT,h.$n,_.S,F.Z,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.25rem}.required-field[_ngcontent-%COMP%]{color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:.25rem;display:block}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e8eef7}  .dialog-form .p-inputtext,   .dialog-form .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .dialog-form .p-inputtext::placeholder,   .dialog-form .p-inputtextarea::placeholder{color:#0f17247a!important}  .dialog-form .p-inputtext:hover:not(:disabled),   .dialog-form .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .dialog-form .p-inputtext:focus,   .dialog-form .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .dialog-form .ng-invalid-required.ng-touched{border-color:#dc3545!important}  .dialog-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .dialog-actions .p-button-success{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}  .dialog-actions .p-button-success:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}  .dialog-actions .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .dialog-actions .p-button:disabled{opacity:.6!important;cursor:not-allowed!important}  .p-dialog-header{border-bottom:1px solid #e8eef7!important;background:#f8fafc!important}  .p-dialog-header .p-dialog-title{font-weight:700!important;color:#0d4a8a!important;font-family:Raleway,sans-serif!important}  .p-dialog-header .p-dialog-close{color:#0d4a8a!important}']})}}return a})(),Ce=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/faqs"}listarFaqsPaginados(){return this.http.get(`${this.apiUrl}/paginated`)}listarFaqs(){return this.http.get(`${this.apiUrl}/consulta`)}listarFaqsAtivos(){return this.http.get(`${this.apiUrl}`)}filtrarFaq(e,o,n){let i=new x.Nl;for(const r in n)if(n.hasOwnProperty(r)){const p=n[r];null!=p&&""!==p&&(i=i.append(r,p.toString()))}return i=i.append("page",e),i=i.append("size",o),this.http.get(`${this.apiUrl}/consulta`,{params:i})}mudarStatus(e){const o=e.id,n=e.status,i=(new x.Nl).set("status",!n);return this.http.patch(`${this.apiUrl}/${o}/status`,null,{params:i})}getStatusPorId(e){return this.http.get(`${this.apiUrl}/${e}/status`)}criarFaq(e){return this.http.post(`${this.apiUrl}`,e)}editarFaq(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deletarMenu(e){return this.http.delete(`${this.apiUrl}/${e}`)}atualizarOrdem(e){return this.http.put(`${this.apiUrl}/ordenar`,e)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function ve(a,l){1&a&&(t.j41(0,"tr")(1,"th",14),t.EFF(2,"PERGUNTA "),t.nrm(3,"p-sortIcon",15),t.k0s(),t.j41(4,"th",16),t.EFF(5,"RESPOSTA "),t.nrm(6,"p-sortIcon",17),t.k0s(),t.j41(7,"th",18),t.EFF(8,"STATUS "),t.nrm(9,"p-sortIcon",19),t.k0s(),t.j41(10,"th",20),t.EFF(11,"A\xc7\xd5ES"),t.k0s()())}function we(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",25),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function ye(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",26),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function ke(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",21),t.DNE(9,we,1,0,"i",22),t.DNE(10,ye,1,0,"i",23),t.j41(11,"i",24),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarFaq(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.pergunta),t.R7$(2),t.JRh(e.resposta),t.R7$(2),t.JRh(1==e.status?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.status),t.R7$(1),t.Y8G("ngIf",!e.status)}}const Pe=function(){return[5,10,25,50]};let Me=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.faqService=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.imagens=[],this.corpos=[],this.elements=[],this.totalRecords=0,this.rows=5,this.loading=!1,this.filteredElements=[],this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}],this.initializeFilterForm()}ngOnInit(){this.form=this.fb.group({nome:["",s.k0.required],descricao:["",s.k0.required],status:[null]}),this.filtrar(),this.filteredElements=[...this.elements],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarFaq()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}filtrar(){this.listar(0,this.rows)}listar(e,o){const n=this.filterForm.value;this.loading=!0,this.faqService.filtrarFaq(e,o,n).subscribe({next:i=>{this.elements=i.content||[],this.totalRecords=i.totalElements||0,this.rows=i.size??o,this.loading=!1},error:i=>{console.error(i),this.loading=!1}})}carregarTodos(){this.faqService.listarFaqs().subscribe({next:e=>this.elements=e.content,error:e=>console.error(e)})}initializeFilterForm(){this.filterForm=this.fb.group({nome:[""],status:[null]})}get integrantes(){return this.form.get("integrantes")}adicionarFaq(e){let o=e?{...e}:null;this.ref=this.dialogService.open(xe,{header:e?"Editar FAQ":"Adicionar FAQ",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{if(i){if(e&&e.id)return void this.editar(i.data,e);this.salvar(i.data)}})}salvar(e){const o=e;console.log("FAQ create payload:",o),this.faqService.criarFaq(o).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Inclus\xe3o efetuada com sucesso"}),this.carregarTodos()},error:n=>{console.error("Erro ao criar FAQ:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}editar(e,o){const n=e,i=o?.id??n?.id;if(!i)return console.error("Editar FAQ: id ausente. element:",o,"formResult:",e),void this.messageService.add({severity:"error",summary:"Erro",detail:"ID do FAQ ausente para edi\xe7\xe3o."});"id"in n&&delete n.id,n.status=o?.status??n.status??!0,console.log("Editar FAQ payload:",{id:i,faq:n}),this.faqService.editarFaq(i,n).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.carregarTodos()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}mudarStatus(e){this.faqService.mudarStatus(e).subscribe({next:o=>{500!=o.status?(this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()):this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})},error:o=>{console.error("Erro na requisi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(Ce),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-faq"]],decls:18,vars:8,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-question-circle"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Adicionar FAQ","icon","pi pi-plus","styleClass","p-button-success",3,"onClick"],[1,"faq-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","pergunta",2,"width","35%"],["field","pergunta"],["pSortableColumn","resposta",2,"width","35%"],["field","resposta"],["pSortableColumn","status",2,"width","15%"],["field","status"],[2,"width","15%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"FAQ"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie perguntas frequentes do site"),t.k0s()()(),t.j41(11,"div",8)(12,"p-button",9),t.bIt("onClick",function(){return n.adicionarFaq({})}),t.k0s()()(),t.j41(13,"div",10)(14,"p-table",11),t.DNE(15,ve,12,0,"ng-template",12),t.DNE(16,ke,12,5,"ng-template",13),t.k0s()()()(),t.nrm(17,"p-toast")),2&o&&(t.R7$(14),t.Y8G("value",n.elements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(7,Pe))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,C.y8,w.m],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.faq-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}  .faq-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .faq-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .faq-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .faq-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .faq-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.faq-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.faq-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.faq-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.faq-table[_ngcontent-%COMP%]{padding:2rem}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})();var q=c(345),Fe=c(7472);function Oe(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function je(a,l){if(1&a&&(t.j41(0,"div",12),t.DNE(1,Oe,2,0,"small",13),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("titulo"))||null==o.errors?null:o.errors.required)}}function Ee(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function Se(a,l){if(1&a&&(t.j41(0,"div",12),t.DNE(1,Ee,2,0,"small",13),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("link"))||null==o.errors?null:o.errors.required)}}function Te(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function Re(a,l){if(1&a&&(t.j41(0,"div",12),t.DNE(1,Te,2,0,"small",13),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("imagem"))||null==o.errors?null:o.errors.required)}}let Ie=(()=>{class a{constructor(e,o,n,i){this.fb=e,this.ref=o,this.config=n,this.sanitizer=i,this.acao="",this.uploadedImage="",this.selectedFile=null}ngOnInit(){this.dialogForm=this.fb.group({titulo:["",s.k0.required],link:["",s.k0.required]}),this.config.data?(this.acao="editar",this.dialogForm.patchValue(this.config.data)):this.acao="criar"}onImageSelect(e){const o=e.files[0];o&&(console.log("Arquivo selecionado:",o),this.imagemSelecionada=o,this.imagemPreview=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(o)),this.dialogForm.patchValue({imagem:o}),this.dialogForm.get("imagem")?.updateValueAndValidity(),this.uploadedImage="")}onFileChange(e){this.imagemSelecionada=e.target.files[0]}onImageUpload(e){console.log("Upload realizado com sucesso:",e),e.originalEvent&&e.originalEvent.body&&(this.uploadedImage=e.originalEvent.body.url||e.originalEvent.body,this.dialogForm.patchValue({imagem:this.uploadedImage}),this.dialogForm.get("imagem")?.updateValueAndValidity(),console.log("URL da imagem:",this.uploadedImage))}onUploadError(e){console.error("Erro no upload:",e),alert("Erro ao fazer upload da imagem. Tente novamente."),this.uploadedImage=""}selecionarImagem(e){const o=e.files[0];o&&(console.log("file => ",o),this.imagemSelecionada=o,this.imagemPreview=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(o)),this.dialogForm.patchValue({imagem:o}),this.dialogForm.get("imagem")?.updateValueAndValidity())}salvar(){if(console.log("img",this.imagemSelecionada),this.dialogForm.valid){const e=new FormData;e.append("titulo",this.dialogForm.value.titulo),e.append("link",this.dialogForm.value.link),e.append("status","true"),this.imagemSelecionada&&e.append("imagem",this.imagemSelecionada),this.ref.close({formData:e,data:this.dialogForm.value,imagem:this.imagemSelecionada,acao:this.acao})}else this.dialogForm.markAllAsTouched(),alert("Preencha todos os campos obrigat\xf3rios antes de salvar")}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb),t.rXU(q.up))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-parceiros-form-dialog"]],decls:26,vars:10,consts:[[1,"container","mt-3"],["enctype","multipart/form-data",1,"mb-4",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],[2,"color","red"],["type","text","formControlName","titulo",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","link",1,"form-control"],["header","Imagem",1,"my-3"],["mode","basic","name","imagem","chooseLabel","Escolha a imagem","accept","image/*",3,"maxFileSize","auto","onUpload"],["pButton","","type","button","label","Salvar",1,"mr-2",3,"click"],["label","Cancelar","styleClass","p-button-link",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Titulo"),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,je,2,1,"div",6),t.k0s(),t.j41(9,"div",2)(10,"label",3),t.EFF(11,"Link "),t.j41(12,"span",4),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"input",7),t.DNE(15,Se,2,1,"div",6),t.k0s(),t.j41(16,"div",2)(17,"label",3),t.EFF(18,"Imagem "),t.j41(19,"span",4),t.EFF(20,"*"),t.k0s()(),t.j41(21,"p-panel",8)(22,"p-fileUpload",9),t.bIt("onUpload",function(r){return n.onFileChange(r)}),t.k0s()(),t.DNE(23,Re,2,1,"div",6),t.k0s()(),t.j41(24,"button",10),t.bIt("click",function(){return n.salvar()}),t.k0s(),t.j41(25,"p-button",11),t.bIt("click",function(){return n.fechar()}),t.k0s()()),2&o){let i,r,p,d,g;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("is-invalid",(null==(i=n.dialogForm.get("titulo"))?null:i.invalid)&&((null==(i=n.dialogForm.get("titulo"))?null:i.dirty)||(null==(i=n.dialogForm.get("titulo"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("titulo"))?null:r.invalid)&&((null==(r=n.dialogForm.get("titulo"))?null:r.dirty)||(null==(r=n.dialogForm.get("titulo"))?null:r.touched))),t.R7$(6),t.AVh("is-invalid",(null==(p=n.dialogForm.get("link"))?null:p.invalid)&&((null==(p=n.dialogForm.get("link"))?null:p.dirty)||(null==(p=n.dialogForm.get("link"))?null:p.touched))),t.R7$(1),t.Y8G("ngIf",(null==(d=n.dialogForm.get("link"))?null:d.invalid)&&((null==(d=n.dialogForm.get("link"))?null:d.dirty)||(null==(d=n.dialogForm.get("link"))?null:d.touched))),t.R7$(7),t.Y8G("maxFileSize",1e6)("auto",!0),t.R7$(1),t.Y8G("ngIf",(null==(g=n.dialogForm.get("imagem"))?null:g.invalid)&&((null==(g=n.dialogForm.get("imagem"))?null:g.dirty)||(null==(g=n.dialogForm.get("imagem"))?null:g.touched)))}},dependencies:[b.bT,h._f,h.$n,U.N,Fe.Z,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:["[_nghost-%COMP%]     .p-dialog-header{border-bottom:1px solid #e5e7eb}[_nghost-%COMP%]     .p-button.p-button-link{color:#64748b}[_nghost-%COMP%]     .p-button.p-button-link:focus{background:transparent;box-shadow:none;border-color:transparent}[_nghost-%COMP%]     .p-button{border-radius:5px}[_nghost-%COMP%]     .p-fileupload-buttonbar p-button.p-element{margin-right:10px;height:42px}[_nghost-%COMP%]     .p-fileupload-buttonbar p-button.p-element button{border-radius:25px;height:42px}[_nghost-%COMP%]     .p-fileupload-buttonbar .p-fileupload-choose{border-radius:25px;height:42px}button[_ngcontent-%COMP%]{width:115px;height:42px}button[_ngcontent-%COMP%]:focus{box-shadow:none}"]})}}return a})();var De=c(445);let Be=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/parceiros"}listarParceirosPaginados(e,o,n){let i=(new x.Nl).set("page",String(e)).set("size",String(o));return n&&Object.keys(n).forEach(r=>{const p=n[r];null!=p&&""!==p&&(i=i.set(r,String(p)))}),this.http.get(`${this.apiUrl}/paginated`,{params:i})}listarParceirosAtivos(){return this.http.get(`${this.apiUrl}`)}mudarStatus(e){const o=e.id,n=e.status,i=(new x.Nl).set("status",!n);return this.http.patch(`${this.apiUrl}/${o}/status`,null,{params:i})}getParceirosPorId(e){return this.http.get(`${this.apiUrl}/${e}/status`)}salvar(e,o){const n=new FormData;return n.append("parceiro",new Blob([JSON.stringify(e)],{type:"application/json"})),n.append("imagem",o),this.http.post(this.apiUrl,n)}editarParceiros(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}atualizarOrdem(e){return this.http.put(`${this.apiUrl}/ordenar`,e)}filtrarParceiros(e,o,n){let i=new x.Nl;for(const r in n)if(n.hasOwnProperty(r)){const p=n[r];null!=p&&""!==p&&(i=i.append(r,p.toString()))}return i=i.append("pagina",e),i=i.append("itensPagina",o),this.http.get(`${this.apiUrl}/consulta`,{params:i})}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function $e(a,l){1&a&&(t.j41(0,"tr")(1,"th",17),t.EFF(2,"Titulo"),t.nrm(3,"p-sortIcon",18),t.k0s(),t.j41(4,"th",19),t.EFF(5,"Links"),t.nrm(6,"p-sortIcon",20),t.k0s(),t.j41(7,"th",21),t.EFF(8,"Status"),t.nrm(9,"p-sortIcon",22),t.k0s(),t.j41(10,"th",23),t.EFF(11,"A\xe7\xf5es"),t.k0s()())}function Ae(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",28),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function Ge(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",29),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function ze(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",24),t.DNE(9,Ae,1,0,"i",25),t.DNE(10,Ge,1,0,"i",26),t.j41(11,"i",27),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarParceiro(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.titulo),t.R7$(2),t.JRh(e.link),t.R7$(2),t.JRh(1==e.status?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.status),t.R7$(1),t.Y8G("ngIf",!e.status)}}const Ne=function(){return[5,10,25,50]};let Ue=(()=>{class a{constructor(e,o,n,i,r,p){this.fb=e,this.service=o,this.dialogService=n,this.modalCommunicationService=i,this.parceirosService=r,this.messageService=p,this.imagens=[],this.corpos=[],this.elements=[],this.totalRecords=0,this.rows=5,this.loading=!1,this.filteredElements=[],this.cargoOptions=[{label:"Presidente",value:"presidente"},{label:"Vice-Presidente",value:"vice-presidente"},{label:"Diretor",value:"diretor"},{label:"Coordenador",value:"coordenador"},{label:"Gerente",value:"gerente"}],this.setorOptions=[{label:"Diretoria Executiva",value:"diretoria-executiva"},{label:"Conselho Fiscal",value:"conselho-fiscal"},{label:"Conselho Consultivo",value:"conselho-consultivo"},{label:"Comiss\xe3o T\xe9cnica",value:"comissao-tecnica"}],this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}]}ngOnInit(){this.filterForm=this.fb.group({titulo:[""],link:[""],status:[""]}),this.filtrar(),this.filteredElements=[...this.elements],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarParceiro()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}filtrar(){this.listar(0,this.rows)}listar(e,o){const n=this.filterForm.value;this.loading=!0,this.parceirosService.filtrarParceiros(e,o,n).subscribe({next:i=>{this.elements=i.content||[],this.totalRecords=i.totalElements||0,this.rows=i.size??o,this.loading=!1},error:i=>{console.error(i),this.loading=!1}})}onPage(e){this.listar(e.page??0,e.rows??this.rows)}get integrantes(){return this.form.get("integrantes")}adicionarParceiro(e){let o=e?{...e}:null;this.ref=this.dialogService.open(Ie,{header:e?"Editar Parceiro":"Adicionar Parceiro",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{"criar"==i.acao?this.salvar(i):this.editar(i.data,e)})}removerIntegrante(e){this.integrantes.removeAt(e),this.imagens.splice(e,1)}selecionarImagem(e,o){const n=e.target.files[0];n&&(this.imagens[o]=n)}salvar(e){this.parceirosService.salvar(e.data,e.imagem).subscribe({next:()=>{this.filtrar(),this.messageService.add({severity:"success",summary:"Successo",detail:"Inclus\xe3o efetuada com sucesso"}),this.form.reset(),this.integrantes.clear(),this.imagens=[]},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}editar(e,o){const n=e,i=o.id;n.status=o.status,this.parceirosService.editarParceiros(i,n).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}deletar(e){e&&this.service.deletar(e).subscribe(()=>this.filtrar())}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.elements]}mudarStatus(e){this.parceirosService.mudarStatus(e).subscribe({next:o=>{500!=o.status?(this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()):this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})},error:o=>{console.error("Erro na requisi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(De.Z),t.rXU(u.o3),t.rXU(P.j),t.rXU(Be),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-parceiros"]],decls:21,vars:11,consts:[[1,"adm-pages","p-2"],[1,"container-filtro"],[1,"mb-3"],[1,"filter-form",3,"formGroup"],[1,"row","align-items-end"],[1,"col-12","col-md-6","col-lg-4","mb-3"],["id","status","formControlName","status","placeholder","Status","styleClass","w-100",3,"options","showClear"],["pInputText","","id","titulo","formControlName","titulo","placeholder","Titulo",1,"form-control"],["pInputText","","id","link","formControlName","link","placeholder","Link",1,"form-control"],[1,"row","mb-3"],[1,"d-flex","justify-content-end"],["label","Pesquisar","icon","pi pi-search","styleClass","p-button-primary p-button-sm me-2 rounded-3",3,"onClick"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm rounded-3",3,"onClick"],[1,"container-tabela","my-5"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading","onPage"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","titulo",2,"width","30%"],["field","titulo"],["pSortableColumn","links",2,"width","30%"],["field","links"],["pSortableColumn","status",2,"width","30%"],["field","status"],[2,"width","10%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Filtrar"),t.k0s(),t.j41(4,"form",3)(5,"div",4)(6,"div",5),t.nrm(7,"p-dropdown",6),t.k0s(),t.j41(8,"div",5),t.nrm(9,"input",7),t.k0s(),t.j41(10,"div",5),t.nrm(11,"input",8),t.k0s()(),t.j41(12,"div",9)(13,"div",10)(14,"p-button",11),t.bIt("onClick",function(){return n.filtrar()}),t.k0s(),t.j41(15,"p-button",12),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()(),t.j41(16,"div",13)(17,"p-table",14),t.bIt("onPage",function(r){return n.onPage(r)}),t.DNE(18,$e,12,0,"ng-template",15),t.DNE(19,ze,12,5,"ng-template",16),t.k0s()()(),t.nrm(20,"p-toast")),2&o&&(t.R7$(4),t.Y8G("formGroup",n.filterForm),t.R7$(3),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(10),t.Y8G("value",n.elements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,Ne))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:[".container-pagina[_ngcontent-%COMP%]{background-color:#f2f4f7}.titulo-pagina[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:100%;letter-spacing:-2%;vertical-align:middle;text-transform:uppercase}.container-tabela[_ngcontent-%COMP%]{border:solid 1px #f3f4f6;border-radius:15px}.container-tabela[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;cursor:pointer;color:gray}.container-filtro[_ngcontent-%COMP%]{border:solid 1px #f3f4f6;border-radius:15px;padding:10px;margin-top:20px}.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px gray}"]})}}return a})();function Xe(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function Ve(a,l){if(1&a&&(t.j41(0,"div",17),t.DNE(1,Xe,2,0,"small",18),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("fullname"))||null==o.errors?null:o.errors.required)}}function Ye(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function qe(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Email inv\xe1lido"),t.k0s())}function Le(a,l){if(1&a&&(t.j41(0,"div",17),t.DNE(1,Ye,2,0,"small",18),t.DNE(2,qe,2,0,"small",18),t.k0s()),2&a){const e=t.XpG();let o,n;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("email"))||null==o.errors?null:o.errors.required),t.R7$(1),t.Y8G("ngIf",null==(n=e.dialogForm.get("email"))||null==n.errors?null:n.errors.email)}}function Je(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function He(a,l){if(1&a&&(t.j41(0,"div",17),t.DNE(1,Je,2,0,"small",18),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("roleId"))||null==o.errors?null:o.errors.required)}}let We=(()=>{class a{constructor(e,o,n,i){this.fb=e,this.ref=o,this.config=n,this.roleService=i,this.acao="",this.roles=[]}ngOnInit(){this.dialogForm=this.fb.group({fullname:["",s.k0.required],email:["",s.k0.required],roleId:[null,s.k0.required]}),this.carregarRoles(),this.config.data?(this.acao="editar",this.dialogForm.patchValue(this.config.data)):this.acao="criar"}carregarRoles(){this.roleService.getRoles().subscribe(e=>this.roles=e)}salvar(){if(this.dialogForm.valid){const e=new FormData;e.append("email",this.dialogForm.value.email),e.append("fullname",this.dialogForm.value.fullname),e.append("roleId",this.dialogForm.value.role),this.ref.close({formData:e,data:this.dialogForm.value,acao:this.acao})}else this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb),t.rXU(V))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-usuarios-form-dialog"]],decls:33,vars:12,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-content"],[1,"row"],[1,"col-12"],[1,"form-group"],["for","fullname"],[1,"required"],["pInputText","","id","fullname","type","text","formControlName","fullname","placeholder","Digite o nome completo",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["pInputText","","id","email","type","email","formControlName","email","placeholder","Digite o email",1,"form-control"],["for","roleId"],["id","roleId","optionValue","id","optionLabel","name","formControlName","roleId","placeholder","Selecione o perfil","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"form-actions"],["label","Salvar","icon","pi pi-check","styleClass","p-button-success","type","button",3,"click"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary","type","button",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t.EFF(7,"Nome "),t.j41(8,"span",7),t.EFF(9,"*"),t.k0s()(),t.nrm(10,"input",8),t.DNE(11,Ve,2,1,"div",9),t.k0s()()(),t.j41(12,"div",3)(13,"div",4)(14,"div",5)(15,"label",10),t.EFF(16,"Email "),t.j41(17,"span",7),t.EFF(18,"*"),t.k0s()(),t.nrm(19,"input",11),t.DNE(20,Le,3,2,"div",9),t.k0s()()(),t.j41(21,"div",3)(22,"div",4)(23,"div",5)(24,"label",12),t.EFF(25,"Perfil "),t.j41(26,"span",7),t.EFF(27,"*"),t.k0s()(),t.nrm(28,"p-dropdown",13),t.DNE(29,He,2,1,"div",9),t.k0s()()()(),t.j41(30,"div",14)(31,"p-button",15),t.bIt("click",function(){return n.salvar()}),t.k0s(),t.j41(32,"p-button",16),t.bIt("click",function(){return n.fechar()}),t.k0s()()()()),2&o){let i,r,p,d,g,v;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(9),t.AVh("is-invalid",(null==(i=n.dialogForm.get("fullname"))?null:i.invalid)&&((null==(i=n.dialogForm.get("fullname"))?null:i.dirty)||(null==(i=n.dialogForm.get("fullname"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("fullname"))?null:r.invalid)&&((null==(r=n.dialogForm.get("fullname"))?null:r.dirty)||(null==(r=n.dialogForm.get("fullname"))?null:r.touched))),t.R7$(8),t.AVh("is-invalid",(null==(p=n.dialogForm.get("email"))?null:p.invalid)&&((null==(p=n.dialogForm.get("email"))?null:p.dirty)||(null==(p=n.dialogForm.get("email"))?null:p.touched))),t.R7$(1),t.Y8G("ngIf",(null==(d=n.dialogForm.get("email"))?null:d.invalid)&&((null==(d=n.dialogForm.get("email"))?null:d.dirty)||(null==(d=n.dialogForm.get("email"))?null:d.touched))),t.R7$(8),t.AVh("is-invalid",(null==(g=n.dialogForm.get("roleId"))?null:g.invalid)&&((null==(g=n.dialogForm.get("roleId"))?null:g.dirty)||(null==(g=n.dialogForm.get("roleId"))?null:g.touched))),t.Y8G("options",n.roles)("showClear",!0),t.R7$(1),t.Y8G("ngIf",(null==(v=n.dialogForm.get("roleId"))?null:v.invalid)&&((null==(v=n.dialogForm.get("roleId"))?null:v.dirty)||(null==(v=n.dialogForm.get("roleId"))?null:v.touched)))}},dependencies:[b.bT,h.$n,y.ms,_.S,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:[".dialog-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-radius:16px;padding:2rem;min-height:400px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{flex:1}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Raleway,sans-serif;font-weight:600;font-size:14px;color:#374151;margin-bottom:.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;margin-left:2px}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;font-family:Raleway,sans-serif}.dialog-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1.5rem;border-top:1px solid #e2e8f0;margin-top:1rem}[_nghost-%COMP%]     .p-dialog-header{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);color:#fff;border-bottom:none;border-top-left-radius:16px;border-top-right-radius:16px;padding:1.5rem 2rem}[_nghost-%COMP%]     .p-dialog-header .p-dialog-title{font-family:Raleway,sans-serif;font-weight:700;font-size:18px}[_nghost-%COMP%]     .p-dialog-header .p-dialog-header-icon{color:#fff}[_nghost-%COMP%]     .p-dialog-header .p-dialog-header-icon:hover{background-color:#ffffff1a}[_nghost-%COMP%]     .p-dialog-content{padding:0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;overflow:hidden}[_nghost-%COMP%]     .p-button{font-family:Raleway,sans-serif;font-weight:600;border-radius:12px;padding:.75rem 1.5rem;transition:all .3s ease}[_nghost-%COMP%]     .p-button.p-button-success{background:linear-gradient(135deg,#059669 0%,#10b981 100%);border:none}[_nghost-%COMP%]     .p-button.p-button-success:hover{background:linear-gradient(135deg,#047857 0%,#059669 100%);transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}[_nghost-%COMP%]     .p-button.p-button-outlined.p-button-secondary{background:transparent;color:#6b7280;border:2px solid #e5e7eb}[_nghost-%COMP%]     .p-button.p-button-outlined.p-button-secondary:hover{background:#f9fafb;border-color:#d1d5db;color:#374151;transform:translateY(-2px)}[_nghost-%COMP%]     .p-button .p-button-icon{font-size:16px;margin-right:.5rem}[_nghost-%COMP%]     .p-inputtext{border:1.5px solid #e6eef6;border-radius:8px;padding:.75rem 1rem;font-family:Raleway,sans-serif;transition:all .3s ease;width:100%;background:white}[_nghost-%COMP%]     .p-inputtext:focus{border-color:#0d4a8a;box-shadow:0 0 0 3px #0d4a8a1a}[_nghost-%COMP%]     .p-inputtext::placeholder{color:#9ca3af}[_nghost-%COMP%]     .p-inputtext.is-invalid{border-color:#ef4444}[_nghost-%COMP%]     .p-inputtext.is-invalid:focus{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}[_nghost-%COMP%]     .p-dropdown{border:1.5px solid #e6eef6;border-radius:8px;background:white;transition:all .3s ease;width:100%}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled):hover{border-color:#cbd5e1}[_nghost-%COMP%]     .p-dropdown:not(.p-disabled).p-focus{border-color:#0d4a8a;box-shadow:0 0 0 3px #0d4a8a1a}[_nghost-%COMP%]     .p-dropdown.is-invalid{border-color:#ef4444}[_nghost-%COMP%]     .p-dropdown.is-invalid:not(.p-disabled).p-focus{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{padding:.75rem 1rem;font-family:Raleway,sans-serif}[_nghost-%COMP%]     .p-dropdown .p-dropdown-label.p-placeholder{color:#9ca3af}[_nghost-%COMP%]     .p-dropdown .p-dropdown-trigger{color:#6b7280;padding:0 1rem}[_nghost-%COMP%]     .p-dropdown-panel{border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.75rem 1rem;font-family:Raleway,sans-serif}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item:hover{background-color:#f1f5f9}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background-color:#0d4a8a;color:#fff}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.dialog-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.dialog-form   .form-actions   [_nghost-%COMP%]     .p-button{width:100%;justify-content:center}[_nghost-%COMP%]     .p-dialog-header{padding:1rem 1.5rem}[_nghost-%COMP%]     .p-dialog-header .p-dialog-title{font-size:16px}}"]})}}return a})(),Qe=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/v1/users"}salvar(e){return this.http.post(`${this.apiUrl}`,e)}editar(e,o){return this.http.patch(`${this.apiUrl}/${e}`,o)}filtrarUsuarios(e,o,n){let i=new x.Nl;for(const r in n)if(n.hasOwnProperty(r)){const p=n[r];null!=p&&""!==p&&(i=i.append(r,p.toString()))}return i=i.append("page",e),i=i.append("size",o),this.http.get(`${this.apiUrl}/search`,{params:i})}mudarStatus(e){const o=e.id,n=e.active,i=(new x.Nl).set("active",!n);return this.http.patch(`${this.apiUrl}/${o}/active`,null,{params:i})}listarPaginados(){return this.http.get(`${this.apiUrl}/paginated`)}listarAtivos(){return this.http.get(`${this.apiUrl}`)}getPorId(e){return this.http.get(`${this.apiUrl}/${e}/status`)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Ke(a,l){1&a&&(t.j41(0,"tr")(1,"th",26),t.EFF(2,"NOME "),t.nrm(3,"p-sortIcon",27),t.k0s(),t.j41(4,"th",28),t.EFF(5,"EMAIL "),t.nrm(6,"p-sortIcon",29),t.k0s(),t.j41(7,"th",30),t.EFF(8,"STATUS "),t.nrm(9,"p-sortIcon",31),t.k0s(),t.j41(10,"th",32),t.EFF(11,"A\xc7\xd5ES"),t.k0s()())}function Ze(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function to(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",38),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.mudarStatus(n))}),t.k0s()}}function eo(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",33),t.DNE(9,Ze,1,0,"i",34),t.DNE(10,to,1,0,"i",35),t.j41(11,"i",36),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionar(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.fullname),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.active?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.active),t.R7$(1),t.Y8G("ngIf",!e.active)}}const oo=function(){return[5,10,25,50]};let no=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.dialogService=o,this.modalCommunicationService=n,this.usuariosService=i,this.messageService=r,this.imagens=[],this.elements=[],this.totalRecords=0,this.rows=5,this.loading=!1,this.filteredElements=[],this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}]}ngOnInit(){this.filterForm=this.fb.group({nome:[""],email:[""],active:[""]}),this.filtrar(),this.filteredElements=[...this.elements],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionar()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}filtrar(){this.listar(0,this.rows)}listar(e,o){const n=this.filterForm.value;this.loading=!0,this.usuariosService.filtrarUsuarios(e,o,n).subscribe({next:i=>{this.elements=i.content||[],this.totalRecords=i.totalElements||0,this.rows=i.size??o,this.loading=!1},error:i=>{console.error(i),this.loading=!1}})}onPage(e){this.listar(e.page??0,e.rows??this.rows)}adicionar(e){let o=e?{...e}:null;this.ref=this.dialogService.open(We,{header:e?"Editar Usu\xe1rio":"Adicionar Usu\xe1rio",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{"criar"==i?.acao?this.salvar(i.data):"editar"==i?.acao&&this.editar(i.data,e)})}salvar(e){this.usuariosService.salvar(e).subscribe({next:()=>{this.filtrar(),this.messageService.add({severity:"success",summary:"Successo",detail:"Inclus\xe3o efetuada com sucesso"}),this.form.reset(),this.imagens=[]},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}editar(e,o){const n=e,i=o.id;n.status=o.status,this.usuariosService.editar(i,n).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()},error:()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.elements]}mudarStatus(e){this.usuariosService.mudarStatus(e).subscribe({next:o=>{500!=o.status?(this.messageService.add({severity:"success",summary:"Successo",detail:"Altera\xe7\xe3o efetuada com sucesso"}),this.filtrar()):this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})},error:o=>{console.error("Erro na requisi\xe7\xe3o:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Ocorreu um erro, favor contactar o suporte"})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.o3),t.rXU(P.j),t.rXU(Qe),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-usuarios"]],decls:40,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-users"],[1,"page-title"],[1,"page-subtitle"],[1,"usuarios-form"],[1,"form-section-title"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-md-4"],[1,"form-label"],["pInputText","","id","nome","formControlName","nome","placeholder","Digite o nome",1,"w-100"],["pInputText","","id","email","formControlName","email","placeholder","Digite o email",1,"w-100"],[1,"d-flex","align-items-end","gap-2","h-100"],[2,"flex","1"],["id","active","formControlName","active","placeholder","Selecione o status","styleClass","w-100",3,"options","showClear"],[1,"filter-button-group"],["label","Filtrar","icon","pi pi-search","styleClass","p-button-primary p-button-sm","type","submit"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm","type","button",3,"onClick"],[1,"usuarios-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading","onPage"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","fullname",2,"width","30%"],["field","fullname"],["pSortableColumn","email",2,"width","30%"],["field","email"],["pSortableColumn","active",2,"width","20%"],["field","active"],[2,"width","20%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Usu\xe1rios"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie usu\xe1rios da organiza\xe7\xe3o"),t.k0s()()()(),t.j41(11,"div",8)(12,"h3",9),t.EFF(13,"Filtros"),t.k0s(),t.j41(14,"form",10),t.bIt("ngSubmit",function(){return n.filtrar()}),t.j41(15,"div",11)(16,"div",12)(17,"label",13),t.EFF(18,"Nome"),t.k0s(),t.nrm(19,"input",14),t.k0s(),t.j41(20,"div",12)(21,"label",13),t.EFF(22,"Email"),t.k0s(),t.nrm(23,"input",15),t.k0s(),t.j41(24,"div",12)(25,"div",16)(26,"div",17)(27,"label",13),t.EFF(28,"Status"),t.k0s(),t.nrm(29,"p-dropdown",18),t.k0s(),t.j41(30,"div",19),t.nrm(31,"p-button",20),t.j41(32,"p-button",21),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()()(),t.j41(33,"div",22)(34,"h3",9),t.EFF(35,"Lista de Usu\xe1rios"),t.k0s(),t.j41(36,"p-table",23),t.bIt("onPage",function(r){return n.onPage(r)}),t.DNE(37,Ke,12,0,"ng-template",24),t.DNE(38,eo,12,5,"ng-template",25),t.k0s()()()(),t.nrm(39,"p-toast")),2&o&&(t.R7$(14),t.Y8G("formGroup",n.filterForm),t.R7$(15),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(7),t.Y8G("value",n.elements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,oo))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px}.page-actions[_ngcontent-%COMP%]{z-index:2}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.usuarios-form[_ngcontent-%COMP%], .usuarios-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}  .usuarios-form .p-inputtext,   .usuarios-form .p-dropdown{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .usuarios-form .p-inputtext{line-height:1.4!important;padding:.6rem .9rem!important}  .usuarios-form .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .usuarios-form .p-inputtext::placeholder{color:#0f17247a!important}  .usuarios-form .p-inputtext:hover:not(:disabled),   .usuarios-form .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .usuarios-form .p-inputtext:focus,   .usuarios-form .p-dropdown:focus,   .usuarios-form .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .usuarios-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .usuarios-form .p-button-primary{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #0d4a8a59!important}  .usuarios-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1b6ba8 0%,#2563eb 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #0d4a8a73!important}  .usuarios-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .usuarios-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .usuarios-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .usuarios-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .usuarios-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .usuarios-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .usuarios-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.usuarios-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.usuarios-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.usuarios-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.usuarios-form[_ngcontent-%COMP%], .usuarios-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}.filter-button-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})();function ao(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function io(a,l){if(1&a&&(t.j41(0,"small",16),t.DNE(1,ao,2,0,"span",17),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("nome"))||null==o.errors?null:o.errors.required)}}let ro=(()=>{class a{constructor(e,o,n){this.fb=e,this.ref=o,this.config=n}ngOnInit(){this.dialogForm=this.fb.group({nome:["",s.k0.required],descricao:[""],ativo:[!0]}),this.config.data&&this.dialogForm.patchValue(this.config.data)}salvar(){this.dialogForm.valid?this.ref.close(this.dialogForm.value):this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categoria-form-dialog"]],decls:23,vars:6,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","nome",1,"form-label"],[1,"required"],["id","nome","type","text","pInputText","","formControlName","nome","placeholder","Digite o nome da categoria",1,"w-100"],["class","error-message",4,"ngIf"],["for","descricao",1,"form-label"],["id","descricao","pInputTextarea","","formControlName","descricao","placeholder","Digite a descri\xe7\xe3o da categoria","rows","3",1,"w-100"],[1,"form-label"],[1,"status-toggle"],["formControlName","ativo"],[1,"status-label"],[1,"dialog-actions"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["label","Salvar","icon","pi pi-check","styleClass","p-button-primary p-button-sm",3,"disabled","onClick"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Nome "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,io,2,1,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",7),t.EFF(11,"Descri\xe7\xe3o"),t.k0s(),t.nrm(12,"textarea",8),t.k0s(),t.j41(13,"div",2)(14,"label",9),t.EFF(15,"Status"),t.k0s(),t.j41(16,"div",10),t.nrm(17,"p-inputSwitch",11),t.j41(18,"span",12),t.EFF(19),t.k0s()()(),t.j41(20,"div",13)(21,"p-button",14),t.bIt("onClick",function(){return n.fechar()}),t.k0s(),t.j41(22,"p-button",15),t.bIt("onClick",function(){return n.salvar()}),t.k0s()()()()),2&o){let i,r,p;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("ng-invalid",(null==(i=n.dialogForm.get("nome"))?null:i.invalid)&&((null==(i=n.dialogForm.get("nome"))?null:i.dirty)||(null==(i=n.dialogForm.get("nome"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("nome"))?null:r.invalid)&&((null==(r=n.dialogForm.get("nome"))?null:r.dirty)||(null==(r=n.dialogForm.get("nome"))?null:r.touched))),t.R7$(11),t.JRh(null!=(p=n.dialogForm.get("ativo"))&&p.value?"Ativo":"Inativo"),t.R7$(3),t.Y8G("disabled",n.dialogForm.invalid)}},dependencies:[b.bT,h.$n,_.S,F.Z,S.HW,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:0;font-family:Raleway,sans-serif;width:100%}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:12px;text-transform:uppercase;letter-spacing:.6px;font-family:Raleway,sans-serif!important}.required[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;margin-left:4px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#dc3545;font-family:var(--font-family)!important;margin-top:.375rem}.status-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.status-label[_ngcontent-%COMP%]{font-size:13px;color:#0f1724;font-family:var(--font-family);font-weight:500}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.875rem;justify-content:flex-end;align-items:center;margin-top:2rem;padding-top:1.75rem;border-top:1px solid #e5e7eb}  .p-dialog .p-dialog-content{padding:2rem!important}  .p-dialog .p-dialog-header{padding:1.5rem 2rem!important;border-bottom:1px solid #e5e7eb!important}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.5!important;padding:.65rem 1rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 0 0 3px #0d4a8a1a!important;outline:none!important}  .p-inputtext.ng-invalid.ng-touched,   .p-inputtextarea.ng-invalid.ng-touched{border-color:#fca5a5!important;background:#fef2f2!important}  .dialog-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important;padding:.65rem 1.25rem!important;font-size:12px!important;text-transform:uppercase!important;letter-spacing:.5px!important;min-width:100px!important}  .dialog-actions .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 12px #0d4a8a40!important}  .dialog-actions .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 6px 20px #0d4a8a59!important}  .dialog-actions .p-button-primary:disabled{opacity:.55!important;cursor:not-allowed!important;transform:none!important}  .dialog-actions .p-button-outlined.p-button-secondary{color:#6b7280!important;border:1.5px solid #d4dce8!important;background:transparent!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f9fafb!important;border-color:#9ca3af!important;color:#374151!important}  .p-inputswitch .p-inputswitch-slider{background-color:#cbd5e1!important;transition:all .2s ease!important}  .p-inputswitch.ng-valid.ng-dirty .p-inputswitch-slider,   .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#10b981!important}  .p-inputswitch:focus{box-shadow:0 0 0 .2rem #0d4a8a1a!important}  .p-dialog-title{font-family:Raleway,sans-serif!important;font-weight:700!important;font-size:18px!important;color:#0d4a8a!important;letter-spacing:-.5px!important}']})}}return a})();function so(a,l){1&a&&(t.j41(0,"tr")(1,"th",28),t.EFF(2,"Nome"),t.nrm(3,"p-sortIcon",29),t.k0s(),t.j41(4,"th",30),t.EFF(5,"Descri\xe7\xe3o"),t.nrm(6,"p-sortIcon",31),t.k0s(),t.j41(7,"th",32),t.EFF(8,"Status"),t.nrm(9,"p-sortIcon",33),t.k0s(),t.j41(10,"th",34),t.EFF(11,"A\xe7\xf5es"),t.k0s()())}function lo(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.handleSwitchChange(n))}),t.k0s()}}function po(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.handleSwitchChange(n))}),t.k0s()}}function co(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",35),t.DNE(9,lo,1,0,"i",36),t.DNE(10,po,1,0,"i",37),t.j41(11,"i",38),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarCategoria(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(e.descricao||"-"),t.R7$(2),t.JRh(1==e.ativo?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.ativo),t.R7$(1),t.Y8G("ngIf",!e.ativo)}}function mo(a,l){1&a&&(t.j41(0,"tr")(1,"td",41),t.EFF(2,"Nenhuma categoria encontrada"),t.k0s()())}const go=function(){return[5,10,25,50]};let uo=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.service=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.categorias=[],this.filteredElements=[],this.loading=!1,this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}],this.initializeFilterForm()}ngOnInit(){this.form=this.fb.group({nome:["",s.k0.required],descricao:[""],ativo:[!0]}),this.carregarCategorias(),this.filteredElements=[...this.categorias],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarCategoria()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}carregarCategorias(){this.loading=!0,this.service.listarTodos().subscribe({next:e=>{this.categorias=e,this.filteredElements=[...this.categorias],this.loading=!1},error:e=>{console.error("Erro ao carregar categorias:",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar categorias"})}})}adicionarCategoria(e){let o={};e&&(o={...e}),this.ref=this.dialogService.open(ro,{header:e?"Editar Categoria":"Adicionar Categoria",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{i&&(e&&e.id?this.atualizarCategoria(e.id,i):this.criarCategoria(i))})}criarCategoria(e){this.service.criar(e).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Categoria criada com sucesso"}),this.carregarCategorias()},error:o=>{console.error("Erro ao criar categoria:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar categoria"})}})}atualizarCategoria(e,o){this.service.atualizar(e,o).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Categoria atualizada com sucesso"}),this.carregarCategorias()},error:n=>{console.error("Erro ao atualizar categoria:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar categoria"})}})}deletarCategoria(e){confirm(`Tem certeza que deseja deletar a categoria "${e.nome}"?`)&&e.id&&this.service.deletar(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Categoria deletada com sucesso"}),this.carregarCategorias()},error:o=>{console.error("Erro ao deletar categoria:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao deletar categoria"})}})}initializeFilterForm(){this.filterForm=this.fb.group({nome:[""],ativo:[null]})}aplicarFiltros(){const e=this.filterForm.value;this.filteredElements=this.categorias.filter(o=>(!e.nome||o.nome.toLowerCase().includes(e.nome.toLowerCase()))&&(null===e.ativo||o.ativo===e.ativo))}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.categorias]}handleSwitchChange(e){if(e.id){e.ativo=!e.ativo;const i={...e};"id"in i&&delete i.id,console.log("Atualizando categoria com payload:",i),this.service.atualizar(e.id,i).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Status atualizado com sucesso"})},error:r=>{console.error("Erro ao atualizar status:",r),e.ativo=!e.ativo,this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar status"})}})}}isChecked(e){return!0===e.ativo}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(G),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-categoria"]],features:[t.Jv_([u.o3,m.bg])],decls:36,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-list"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Novo","icon","pi pi-plus","styleClass","p-button-success p-button-sm",3,"onClick"],[1,"categoria-form"],[1,"filter-form",3,"formGroup"],[1,"row","g-3","align-items-end"],[1,"col-12","col-lg-3"],["for","status",1,"form-label"],["id","status","formControlName","ativo","placeholder","Todos","styleClass","w-100",3,"options","showClear"],[1,"col-12","col-lg-6"],["for","nome",1,"form-label"],["pInputText","","id","nome","formControlName","nome","placeholder","Buscar por nome...",1,"form-control","w-100"],[1,"filter-button-group"],["label","Pesquisar","icon","pi pi-search","styleClass","p-button-primary p-button-sm",3,"onClick"],["label","Limpar","icon","pi pi-refresh","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],[1,"categoria-table"],[1,"form-section-title"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","nome",2,"width","35%"],["field","nome"],["pSortableColumn","descricao",2,"width","35%"],["field","descricao"],["pSortableColumn","ativo",2,"width","15%"],["field","ativo"],[2,"width","15%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"],["colspan","4",1,"text-center"]],template:function(o,n){1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"header",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h2",6),t.EFF(9,"Categorias"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Gerencie as categorias do portal"),t.k0s()()(),t.j41(12,"div",8)(13,"p-button",9),t.bIt("onClick",function(){return n.adicionarCategoria()}),t.k0s()()(),t.j41(14,"div",10)(15,"form",11)(16,"div",12)(17,"div",13)(18,"label",14),t.EFF(19,"Status"),t.k0s(),t.nrm(20,"p-dropdown",15),t.k0s(),t.j41(21,"div",16)(22,"label",17),t.EFF(23,"Nome"),t.k0s(),t.nrm(24,"input",18),t.k0s(),t.j41(25,"div",13)(26,"div",19)(27,"p-button",20),t.bIt("onClick",function(){return n.aplicarFiltros()}),t.k0s(),t.j41(28,"p-button",21),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()(),t.j41(29,"div",22)(30,"h3",23),t.EFF(31,"Lista de Categorias"),t.k0s(),t.j41(32,"p-table",24),t.DNE(33,so,12,0,"ng-template",25),t.DNE(34,co,12,5,"ng-template",26),t.DNE(35,mo,3,0,"ng-template",27),t.k0s()()()()),2&o&&(t.R7$(15),t.Y8G("formGroup",n.filterForm),t.R7$(5),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(12),t.Y8G("value",n.filteredElements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,go))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.categoria-form[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.categoria-table[_ngcontent-%COMP%]{background:#ffffff;border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:20px;color:#0d4a8a;margin:0 0 2rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:1rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(90deg,#0D4A8A,#1B6BA8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}  .page-actions .p-button{border-radius:10px!important;font-family:Raleway,sans-serif!important;font-weight:700!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;padding:.75rem 1.75rem!important;font-size:14px!important;text-transform:uppercase!important;letter-spacing:.5px!important;box-shadow:0 4px 12px #00000026!important}  .page-actions .p-button-success{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;color:#fff!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}  .page-actions .p-button-success:hover:not(:disabled){transform:translateY(-3px)!important;box-shadow:0 10px 32px #10b98173!important;background:linear-gradient(135deg,#059669 0%,#047857 100%)!important}  .page-actions .p-button-primary{background:white!important;color:#0d4a8a!important;border-color:#fff!important;box-shadow:0 6px 20px #ffffff80!important}  .page-actions .p-button-primary:hover:not(:disabled){background:rgba(255,255,255,.95)!important;transform:translateY(-3px)!important;box-shadow:0 10px 32px #fff9!important}  .form-label{font-weight:600;color:#1f2937;font-size:13px;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif!important;margin-bottom:.75rem;display:block}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder,   .p-inputtext::-webkit-input-placeholder,   .p-inputtextarea::-webkit-input-placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .p-dropdown{border-radius:8px!important;border:1.5px solid #e6eef6!important;background:white!important;transition:all .18s ease!important;box-shadow:inset 0 1px 3px #0000000d!important;width:100%!important;display:flex!important}  .p-dropdown .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:var(--font-family)!important}  .p-dropdown .p-dropdown-trigger{width:auto!important;padding:0 .75rem!important}  .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-dropdown:focus,   .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important}  .categoria-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .categoria-form .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 15px #0d4a8a40!important}  .categoria-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 25px #0d4a8a59!important}  .categoria-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .categoria-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .text-danger{font-size:12px;color:#dc3545;font-family:var(--font-family)!important;margin-top:.375rem}  .p-datatable{font-family:var(--font-family)!important}  .p-datatable .p-datatable-thead>tr>th{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)!important;color:#0d4a8a!important;font-weight:700!important;padding:1rem 1.25rem!important;border-color:#e8eef7!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important}  .p-datatable .p-datatable-tbody>tr{border-color:#e8eef7!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem 1.25rem!important;border-color:#e8eef7!important;color:#1f2937!important}  .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.categoria-form[_ngcontent-%COMP%], .categoria-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:18px}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}  .categoria-table i{font-size:22px;cursor:pointer;color:gray;transition:all .2s ease;margin-right:1rem}  .categoria-table i:hover{color:#0d4a8a;transform:scale(1.1)}  .categoria-table i.pi-pen-to-square{margin-right:0}  .categoria-table td .d-flex i{display:inline-flex;align-items:center;justify-content:center}']})}}return a})();function fo(a,l){1&a&&(t.j41(0,"small"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function bo(a,l){if(1&a&&(t.j41(0,"div",19),t.DNE(1,fo,2,0,"small",20),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("nome"))||null==o.errors?null:o.errors.required)}}let ho=(()=>{class a{constructor(e,o,n){this.fb=e,this.ref=o,this.config=n}ngOnInit(){this.dialogForm=this.fb.group({nome:["",s.k0.required],descricao:[""],ativo:[!0]}),this.config.data&&this.dialogForm.patchValue(this.config.data)}salvar(){this.dialogForm.valid?this.ref.close(this.dialogForm.value):this.dialogForm.markAllAsTouched()}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tema-form-dialog"]],decls:30,vars:5,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-content"],[1,"row"],[1,"col-12"],[1,"form-group"],["for","nome"],[1,"required"],["pInputText","","id","nome","type","text","formControlName","nome","placeholder","Digite o nome do tema",1,"form-control"],["class","error-message",4,"ngIf"],["for","descricao"],["pInputTextarea","","id","descricao","formControlName","descricao","placeholder","Digite a descri\xe7\xe3o do tema","rows","3",1,"form-control"],["for","ativo"],[1,"status-switch"],["id","ativo","formControlName","ativo"],[1,"status-label"],[1,"form-actions"],["label","Salvar","icon","pi pi-check","styleClass","p-button-success","type","button",3,"click"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary","type","button",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t.EFF(7,"Nome "),t.j41(8,"span",7),t.EFF(9,"*"),t.k0s()(),t.nrm(10,"input",8),t.DNE(11,bo,2,1,"div",9),t.k0s()()(),t.j41(12,"div",3)(13,"div",4)(14,"div",5)(15,"label",10),t.EFF(16,"Descri\xe7\xe3o"),t.k0s(),t.nrm(17,"textarea",11),t.k0s()()(),t.j41(18,"div",3)(19,"div",4)(20,"div",5)(21,"label",12),t.EFF(22,"Status"),t.k0s(),t.j41(23,"div",13),t.nrm(24,"p-inputSwitch",14),t.j41(25,"span",15),t.EFF(26),t.k0s()()()()()(),t.j41(27,"div",16)(28,"p-button",17),t.bIt("click",function(){return n.salvar()}),t.k0s(),t.j41(29,"p-button",18),t.bIt("click",function(){return n.fechar()}),t.k0s()()()()),2&o){let i,r,p;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(9),t.AVh("is-invalid",(null==(i=n.dialogForm.get("nome"))?null:i.invalid)&&((null==(i=n.dialogForm.get("nome"))?null:i.dirty)||(null==(i=n.dialogForm.get("nome"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("nome"))?null:r.invalid)&&((null==(r=n.dialogForm.get("nome"))?null:r.dirty)||(null==(r=n.dialogForm.get("nome"))?null:r.touched))),t.R7$(15),t.JRh(null!=(p=n.dialogForm.get("ativo"))&&p.value?"Ativo":"Inativo")}},dependencies:[b.bT,h.$n,_.S,F.Z,S.HW,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:[".dialog-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);border-radius:16px;padding:2rem;min-height:400px}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{flex:1}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-family:Raleway,sans-serif;font-weight:600;font-size:14px;color:#374151;margin-bottom:.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444;margin-left:2px}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:.5rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#ef4444;font-size:12px;font-family:Raleway,sans-serif}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .status-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.dialog-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .status-switch[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:500;color:#374151}.dialog-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1.5rem;border-top:1px solid #e2e8f0;margin-top:1rem}[_nghost-%COMP%]     .p-dialog-header{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);color:#fff;border-bottom:none;border-top-left-radius:16px;border-top-right-radius:16px;padding:1.5rem 2rem}[_nghost-%COMP%]     .p-dialog-header .p-dialog-title{font-family:Raleway,sans-serif;font-weight:700;font-size:18px}[_nghost-%COMP%]     .p-dialog-header .p-dialog-header-icon{color:#fff}[_nghost-%COMP%]     .p-dialog-header .p-dialog-header-icon:hover{background-color:#ffffff1a}[_nghost-%COMP%]     .p-dialog-content{padding:0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;overflow:hidden}[_nghost-%COMP%]     .p-button{font-family:Raleway,sans-serif;font-weight:600;border-radius:12px;padding:.75rem 1.5rem;transition:all .3s ease}[_nghost-%COMP%]     .p-button.p-button-success{background:linear-gradient(135deg,#059669 0%,#10b981 100%);border:none}[_nghost-%COMP%]     .p-button.p-button-success:hover{background:linear-gradient(135deg,#047857 0%,#059669 100%);transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}[_nghost-%COMP%]     .p-button.p-button-outlined.p-button-secondary{background:transparent;color:#6b7280;border:2px solid #e5e7eb}[_nghost-%COMP%]     .p-button.p-button-outlined.p-button-secondary:hover{background:#f9fafb;border-color:#d1d5db;color:#374151;transform:translateY(-2px)}[_nghost-%COMP%]     .p-button .p-button-icon{font-size:16px;margin-right:.5rem}[_nghost-%COMP%]     .p-inputtext, [_nghost-%COMP%]     .p-inputtextarea{border:1.5px solid #e6eef6;border-radius:8px;padding:.75rem 1rem;font-family:Raleway,sans-serif;transition:all .3s ease;width:100%;background:white}[_nghost-%COMP%]     .p-inputtext:focus, [_nghost-%COMP%]     .p-inputtextarea:focus{border-color:#0d4a8a;box-shadow:0 0 0 3px #0d4a8a1a}[_nghost-%COMP%]     .p-inputtext::placeholder, [_nghost-%COMP%]     .p-inputtextarea::placeholder{color:#9ca3af}[_nghost-%COMP%]     .p-inputtext.is-invalid, [_nghost-%COMP%]     .p-inputtextarea.is-invalid{border-color:#ef4444}[_nghost-%COMP%]     .p-inputtext.is-invalid:focus, [_nghost-%COMP%]     .p-inputtextarea.is-invalid:focus{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}[_nghost-%COMP%]     .p-inputswitch .p-inputswitch-slider{background:#e5e7eb;border-radius:1rem;transition:all .3s ease}[_nghost-%COMP%]     .p-inputswitch .p-inputswitch-slider:before{background:white;border-radius:50%;box-shadow:0 2px 4px #0003;transition:all .3s ease}[_nghost-%COMP%]     .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)}[_nghost-%COMP%]     .p-inputswitch:not(.p-disabled):hover .p-inputswitch-slider{box-shadow:0 0 0 3px #0d4a8a1a}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.dialog-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.dialog-form   .form-actions   [_nghost-%COMP%]     .p-button{width:100%;justify-content:center}[_nghost-%COMP%]     .p-dialog-header{padding:1rem 1.5rem}[_nghost-%COMP%]     .p-dialog-header .p-dialog-title{font-size:16px}}"]})}}return a})();function _o(a,l){1&a&&(t.j41(0,"tr")(1,"th",29),t.EFF(2,"NOME "),t.nrm(3,"p-sortIcon",30),t.k0s(),t.j41(4,"th",31),t.EFF(5,"DESCRI\xc7\xc3O "),t.nrm(6,"p-sortIcon",32),t.k0s(),t.j41(7,"th",33),t.EFF(8,"STATUS "),t.nrm(9,"p-sortIcon",34),t.k0s(),t.j41(10,"th",35),t.EFF(11,"A\xc7\xd5ES"),t.k0s()())}function xo(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.handleSwitchChange(n))}),t.k0s()}}function Co(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",42),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.handleSwitchChange(n))}),t.k0s()}}function vo(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"div",36),t.DNE(9,xo,1,0,"i",37),t.DNE(10,Co,1,0,"i",38),t.j41(11,"i",39),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarTema(i))}),t.k0s(),t.j41(12,"i",40),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deletarTema(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(e.descricao||"-"),t.R7$(2),t.JRh(e.ativo?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.ativo),t.R7$(1),t.Y8G("ngIf",!e.ativo)}}function wo(a,l){1&a&&(t.j41(0,"tr")(1,"td",43),t.EFF(2,"Nenhum tema encontrado"),t.k0s()())}const yo=function(){return[5,10,25,50]};let ko=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.service=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.temas=[],this.filteredElements=[],this.loading=!1,this.statusOptions=[{label:"Ativo",value:!0},{label:"Inativo",value:!1}],this.initializeFilterForm()}ngOnInit(){this.form=this.fb.group({nome:["",s.k0.required],descricao:[""],ativo:[!0]}),this.carregarTemas(),this.filteredElements=[...this.temas],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarTema()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}carregarTemas(){this.loading=!0,this.service.listarTodos().subscribe({next:e=>{this.temas=e,this.filteredElements=[...this.temas],this.loading=!1},error:e=>{console.error("Erro ao carregar temas:",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar temas"})}})}adicionarTema(e){let o={};e&&(o={...e}),this.ref=this.dialogService.open(ho,{header:e?"Editar Tema":"Adicionar Tema",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:o}),this.ref.onClose.subscribe(i=>{i&&(e&&e.id?this.atualizarTema(e.id,i):this.criarTema(i))})}criarTema(e){this.service.criar(e).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Tema criado com sucesso"}),this.carregarTemas()},error:o=>{console.error("Erro ao criar tema:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar tema"})}})}atualizarTema(e,o){this.service.atualizar(e,o).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Tema atualizado com sucesso"}),this.carregarTemas()},error:n=>{console.error("Erro ao atualizar tema:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar tema"})}})}deletarTema(e){confirm(`Tem certeza que deseja deletar o tema "${e.nome}"?`)&&e.id&&this.service.deletar(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Tema deletado com sucesso"}),this.carregarTemas()},error:o=>{console.error("Erro ao deletar tema:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao deletar tema"})}})}initializeFilterForm(){this.filterForm=this.fb.group({nome:[""],ativo:[null]})}aplicarFiltros(){const e=this.filterForm.value;this.filteredElements=this.temas.filter(o=>(!e.nome||o.nome.toLowerCase().includes(e.nome.toLowerCase()))&&(null===e.ativo||o.ativo===e.ativo))}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.temas]}handleSwitchChange(e){e.id&&(e.ativo=!e.ativo,this.service.atualizar(e.id,e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Status atualizado com sucesso"})},error:o=>{console.error("Erro ao atualizar status:",o),e.ativo=!e.ativo,this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar status"})}}))}isChecked(e){return!0===e.ativo}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(A),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tema"]],features:[t.Jv_([u.o3,m.bg])],decls:39,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-palette"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Novo Tema","icon","pi pi-plus","styleClass","p-button-success",3,"onClick"],[1,"tema-form"],[1,"form-section-title"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-md-6"],[1,"form-label"],["pInputText","","id","nome","formControlName","nome","placeholder","Digite o nome do tema",1,"w-100"],[1,"d-flex","align-items-end","gap-2","h-100"],[2,"flex","1"],["id","ativo","formControlName","ativo","placeholder","Selecione o status","styleClass","w-100",3,"options","showClear"],[1,"filter-button-group"],["label","Filtrar","icon","pi pi-search","styleClass","p-button-primary p-button-sm","type","submit"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm","type","button",3,"onClick"],[1,"tema-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["position","top-right"],["pSortableColumn","nome",2,"width","30%"],["field","nome"],["pSortableColumn","descricao",2,"width","35%"],["field","descricao"],["pSortableColumn","ativo",2,"width","15%"],["field","ativo"],[2,"width","20%"],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square","mr-3",3,"click"],["pTooltip","Deletar","tooltipPosition","top",1,"pi","pi-trash",3,"click"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"],["colspan","4",1,"text-center"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Temas"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie temas da organiza\xe7\xe3o"),t.k0s()()(),t.j41(11,"div",8)(12,"p-button",9),t.bIt("onClick",function(){return n.adicionarTema()}),t.k0s()()(),t.j41(13,"div",10)(14,"h3",11),t.EFF(15,"Filtros"),t.k0s(),t.j41(16,"form",12),t.bIt("ngSubmit",function(){return n.aplicarFiltros()}),t.j41(17,"div",13)(18,"div",14)(19,"label",15),t.EFF(20,"Nome"),t.k0s(),t.nrm(21,"input",16),t.k0s(),t.j41(22,"div",14)(23,"div",17)(24,"div",18)(25,"label",15),t.EFF(26,"Status"),t.k0s(),t.nrm(27,"p-dropdown",19),t.k0s(),t.j41(28,"div",20),t.nrm(29,"p-button",21),t.j41(30,"p-button",22),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()()(),t.j41(31,"div",23)(32,"h3",11),t.EFF(33,"Lista de Temas"),t.k0s(),t.j41(34,"p-table",24),t.DNE(35,_o,12,0,"ng-template",25),t.DNE(36,vo,13,5,"ng-template",26),t.DNE(37,wo,3,0,"ng-template",27),t.k0s()()()(),t.nrm(38,"p-toast",28)),2&o&&(t.R7$(16),t.Y8G("formGroup",n.filterForm),t.R7$(11),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(7),t.Y8G("value",n.filteredElements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,yo))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.tema-form[_ngcontent-%COMP%], .tema-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}  .tema-form .p-inputtext,   .tema-form .p-dropdown{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .tema-form .p-inputtext{line-height:1.4!important;padding:.6rem .9rem!important}  .tema-form .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .tema-form .p-inputtext::placeholder{color:#0f17247a!important}  .tema-form .p-inputtext:hover:not(:disabled),   .tema-form .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .tema-form .p-inputtext:focus,   .tema-form .p-dropdown:focus,   .tema-form .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .tema-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .tema-form .p-button-primary{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #0d4a8a59!important}  .tema-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1b6ba8 0%,#2563eb 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #0d4a8a73!important}  .tema-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .tema-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .tema-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .tema-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .tema-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .tema-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .tema-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.tema-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.tema-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.tema-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}.tema-table[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%]:hover{color:#dc3545}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.tema-form[_ngcontent-%COMP%], .tema-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}.filter-button-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})(),L=(()=>{class a{constructor(){this.apiUrl=k.H.replace(/\/$/,"")}getFullImageUrl(e){return e?e.startsWith("http")?e:`${this.apiUrl}${e}`:""}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Po(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Campo obrigat\xf3rio"),t.k0s())}function Mo(a,l){if(1&a&&(t.j41(0,"small",16),t.DNE(1,Po,2,0,"span",17),t.k0s()),2&a){const e=t.XpG();let o;t.R7$(1),t.Y8G("ngIf",null==(o=e.dialogForm.get("nome"))||null==o.errors?null:o.errors.required)}}function Fo(a,l){if(1&a&&(t.j41(0,"div",18),t.nrm(1,"img",19),t.k0s()),2&a){const e=t.XpG();t.R7$(1),t.Y8G("src",e.previewUrl,t.B4B)}}let Oo=(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.ref=o,this.config=n,this.cargoService=i,this.imageUrlService=r,this.cargos=[]}ngOnInit(){this.dialogForm=this.fb.group({nome:["",s.k0.required],img:[""],cargo:[null]}),this.carregarCargos(),(this.config.data&&this.config.data.id||this.config.data)&&(this.dialogForm.patchValue(this.config.data),this.config.data.img&&(this.previewUrl=this.imageUrlService.getFullImageUrl(this.config.data.img)))}carregarCargos(){this.cargoService.listarTodos().subscribe({next:e=>{this.cargos=e},error:e=>{console.error("Erro ao carregar cargos:",e)}})}onFileSelected(e){const o=e.target.files[0];if(o){this.imageFile=o;const n=new FileReader;n.onload=()=>this.previewUrl=n.result,n.readAsDataURL(o)}}comprimirImagem(e){return new Promise(o=>{const n=new FileReader;n.readAsDataURL(e),n.onload=i=>{const r=new Image;r.src=i.target.result,r.onload=()=>{const p=document.createElement("canvas");let d=r.width,g=r.height;const v=1200,I=1200;d>g?d>v&&(g*=v/d,d=v):g>I&&(d*=I/g,g=I),p.width=d,p.height=g,p.getContext("2d")?.drawImage(r,0,0,d,g),p.toBlob(W=>{if(W){const Vn=new File([W],e.name.replace(/\.[^.]+$/,".webp"),{type:"image/webp"});o(Vn)}else o(e)},"image/webp",.75)}}})}salvar(){this.dialogForm.valid?this.imageFile?this.comprimirImagem(this.imageFile).then(e=>{this.enviarFormData(e)}):this.enviarFormData(null):this.dialogForm.markAllAsTouched()}enviarFormData(e){const o=new FormData,n={...this.dialogForm.value};e&&delete n.img;const i=new Blob([JSON.stringify(n)],{type:"application/json"});console.log("FormData sendo enviado:"),console.log("- data (JSON):",i.size,"bytes"),e&&console.log("- imagem:",e.size,"bytes","("+(e.size/1024/1024).toFixed(2)+" MB)","- Formato:",e.type),o.append("data",i),e&&o.append("imagem",e),this.ref.close(o)}fechar(){this.ref.close()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb),t.rXU(R),t.rXU(L))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-funcionario-form-dialog"]],decls:24,vars:8,consts:[[1,"dialog-container"],[1,"dialog-form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"required-field"],["pInputText","","type","text","formControlName","nome","placeholder","Nome do funcion\xe1rio",1,"w-100"],["class","error-message",4,"ngIf"],[1,"image-upload-container"],["class","image-preview",4,"ngIf"],["type","file","id","imageInput","accept","image/*",2,"display","none",3,"change"],["fileInput",""],["label","Selecionar Imagem","icon","pi pi-image","styleClass","p-button-outlined p-button-secondary p-button-sm w-100","type","button",3,"onClick"],["formControlName","cargo","optionLabel","nome","placeholder","Selecione um cargo","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"dialog-actions"],["label","Salvar","styleClass","p-button-success","type","submit",3,"disabled","click"],["label","Cancelar","styleClass","p-button-outlined p-button-secondary","type","button",3,"click"],[1,"error-message"],[4,"ngIf"],[1,"image-preview"],["alt","Pr\xe9-visualiza\xe7\xe3o",3,"src"]],template:function(o,n){if(1&o){const i=t.RV6();t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return n.salvar()}),t.j41(2,"div",2)(3,"label",3),t.EFF(4,"Nome "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,Mo,2,1,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",3),t.EFF(11,"Imagem"),t.k0s(),t.j41(12,"div",7),t.DNE(13,Fo,2,1,"div",8),t.j41(14,"input",9,10),t.bIt("change",function(p){return n.onFileSelected(p)}),t.k0s(),t.j41(16,"p-button",11),t.bIt("onClick",function(){t.eBV(i);const p=t.sdS(15);return t.Njj(p.click())}),t.k0s()()(),t.j41(17,"div",2)(18,"label",3),t.EFF(19,"Cargo"),t.k0s(),t.nrm(20,"p-dropdown",12),t.k0s(),t.j41(21,"div",13)(22,"p-button",14),t.bIt("click",function(){return n.salvar()}),t.k0s(),t.j41(23,"p-button",15),t.bIt("click",function(){return n.fechar()}),t.k0s()()()()}if(2&o){let i,r;t.R7$(1),t.Y8G("formGroup",n.dialogForm),t.R7$(6),t.AVh("ng-invalid-required",(null==(i=n.dialogForm.get("nome"))?null:i.invalid)&&((null==(i=n.dialogForm.get("nome"))?null:i.dirty)||(null==(i=n.dialogForm.get("nome"))?null:i.touched))),t.R7$(1),t.Y8G("ngIf",(null==(r=n.dialogForm.get("nome"))?null:r.invalid)&&((null==(r=n.dialogForm.get("nome"))?null:r.dirty)||(null==(r=n.dialogForm.get("nome"))?null:r.touched))),t.R7$(5),t.Y8G("ngIf",n.previewUrl),t.R7$(7),t.Y8G("options",n.cargos)("showClear",!0),t.R7$(2),t.Y8G("disabled",n.dialogForm.invalid)}},dependencies:[b.bT,h.$n,y.ms,_.S,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.25rem}.required-field[_ngcontent-%COMP%]{color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:.25rem;display:block}.image-upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.image-preview[_ngcontent-%COMP%]{padding:1rem;border:1px dashed #cfddea;border-radius:8px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:150px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;object-fit:contain}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end;margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e8eef7}  .dialog-form .p-inputtext,   .dialog-form .p-dropdown{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .dialog-form .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .dialog-form .p-inputtext::placeholder{color:#0f17247a!important}  .dialog-form .p-inputtext:hover:not(:disabled),   .dialog-form .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .dialog-form .p-inputtext:focus,   .dialog-form .p-dropdown:focus,   .dialog-form .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .dialog-form .ng-invalid-required.ng-touched{border-color:#dc3545!important}  .dialog-actions .p-button,   .image-upload-container .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .dialog-actions .p-button-success{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}  .dialog-actions .p-button-success:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}  .dialog-actions .p-button-outlined.p-button-secondary,   .image-upload-container .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled),   .image-upload-container .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .dialog-actions .p-button:disabled{opacity:.6!important;cursor:not-allowed!important}  .p-dialog-header{border-bottom:1px solid #e8eef7!important;background:#f8fafc!important}  .p-dialog-header .p-dialog-title{font-weight:700!important;color:#0d4a8a!important;font-family:Raleway,sans-serif!important}  .p-dialog-header .p-dialog-close{color:#0d4a8a!important}']})}}return a})();var jo=c(4866);function Eo(a,l){1&a&&(t.j41(0,"tr")(1,"th",27),t.EFF(2,"NOME "),t.nrm(3,"p-sortIcon",28),t.k0s(),t.j41(4,"th",29),t.EFF(5,"CARGO "),t.nrm(6,"p-sortIcon",30),t.k0s(),t.j41(7,"th",31),t.EFF(8,"A\xc7\xd5ES"),t.k0s()())}function So(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"div",32)(7,"i",33),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.adicionarFuncionario(i))}),t.k0s(),t.j41(8,"i",34),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deletarFuncionario(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh((null==e.cargo?null:e.cargo.nome)||"-")}}function To(a,l){1&a&&(t.j41(0,"tr")(1,"td",35),t.EFF(2,"Nenhum funcion\xe1rio encontrado"),t.k0s()())}const Ro=function(){return[5,10,25,50]};let Io=(()=>{class a{constructor(e,o,n,i,r,p,d){this.fb=e,this.service=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.cargoService=p,this.imageUrlService=d,this.funcionarios=[],this.filteredElements=[],this.cargos=[],this.loading=!1,this.initializeFilterForm()}ngOnInit(){this.form=this.fb.group({nome:["",s.k0.required],img:[""],cargo:[null]}),this.carregarFuncionarios(),this.carregarCargos(),this.filteredElements=[...this.funcionarios],this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarFuncionario()})}ngOnDestroy(){this.addButtonSubscription&&this.addButtonSubscription.unsubscribe()}carregarFuncionarios(){this.loading=!0,this.service.listarTodos().subscribe({next:e=>{this.funcionarios=e,this.filteredElements=[...this.funcionarios],this.loading=!1},error:e=>{console.error("Erro ao carregar funcionarios:",e),this.loading=!1,this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar funcionarios"})}})}carregarCargos(){this.cargoService.listarTodos().subscribe({next:e=>{this.cargos=e},error:e=>{console.error("Erro ao carregar cargos:",e)}})}adicionarFuncionario(e){e&&e.id?this.service.obterPorId(e.id).subscribe({next:n=>{this.abrirModal(n)},error:n=>{console.error("Erro ao carregar funcion\xe1rio:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar dados do funcion\xe1rio"})}}):this.abrirModal({})}abrirModal(e){this.ref=this.dialogService.open(Oo,{header:e.id?"Editar Funcionario":"Adicionar Funcionario",width:"50vw",modal:!0,breakpoints:{"960px":"75vw","640px":"90vw"},data:e}),this.ref.onClose.subscribe(n=>{n&&(e.id?this.atualizarFuncionario(e.id,n):this.criarFuncionario(n))})}criarFuncionario(e){this.service.criar(e).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Funcionario criado com sucesso"}),this.carregarFuncionarios()},error:o=>{console.error("Erro ao criar funcionario:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar funcionario"})}})}atualizarFuncionario(e,o){this.service.atualizar(e,o).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Funcionario atualizado com sucesso"}),this.carregarFuncionarios()},error:n=>{console.error("Erro ao atualizar funcionario:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao atualizar funcionario"})}})}deletarFuncionario(e){confirm(`Tem certeza que deseja deletar o funcionario "${e.nome}"?`)&&e.id&&this.service.deletar(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Funcionario deletado com sucesso"}),this.carregarFuncionarios()},error:o=>{console.error("Erro ao deletar funcionario:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao deletar funcionario"})}})}initializeFilterForm(){this.filterForm=this.fb.group({nome:[""],cargo:[null]})}aplicarFiltros(){const e=this.filterForm.value;this.filteredElements=this.funcionarios.filter(o=>(!e.nome||o.nome.toLowerCase().includes(e.nome.toLowerCase()))&&(!e.cargo||o.cargo&&o.cargo.id===e.cargo.id))}limparFiltros(){this.filterForm.reset(),this.filteredElements=[...this.funcionarios]}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(jo.r),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg),t.rXU(R),t.rXU(L))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-funcionario"]],features:[t.Jv_([u.o3,m.bg])],decls:38,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-users"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Adicionar Funcion\xe1rio","icon","pi pi-plus","styleClass","p-button-success",3,"onClick"],[1,"funcionario-form"],[1,"form-section-title"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-md-4"],[1,"form-label"],["pInputText","","id","nome","formControlName","nome","placeholder","Digite o nome",1,"w-100"],["formControlName","cargo","optionLabel","nome","placeholder","Selecione um cargo","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"filter-button-group"],["label","Filtrar","icon","pi pi-search","styleClass","p-button-primary p-button-sm","type","submit"],["label","Limpar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm","type","button",3,"onClick"],[1,"funcionario-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["position","top-right"],["pSortableColumn","nome",2,"width","40%"],["field","nome"],["pSortableColumn","cargo",2,"width","40%"],["field","cargo"],[2,"width","20%"],[1,"d-flex","align-items-center","align-content-center"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square","mr-3",3,"click"],["pTooltip","Deletar","tooltipPosition","top",1,"pi","pi-trash",3,"click"],["colspan","3",1,"text-center"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Funcion\xe1rios"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie funcion\xe1rios e seus cargos"),t.k0s()()(),t.j41(11,"div",8)(12,"p-button",9),t.bIt("onClick",function(){return n.adicionarFuncionario()}),t.k0s()()(),t.j41(13,"div",10)(14,"h3",11),t.EFF(15,"Filtros"),t.k0s(),t.j41(16,"form",12),t.bIt("ngSubmit",function(){return n.aplicarFiltros()}),t.j41(17,"div",13)(18,"div",14)(19,"label",15),t.EFF(20,"Nome do Funcion\xe1rio"),t.k0s(),t.nrm(21,"input",16),t.k0s(),t.j41(22,"div",14)(23,"label",15),t.EFF(24,"Cargo"),t.k0s(),t.nrm(25,"p-dropdown",17),t.k0s(),t.j41(26,"div",14)(27,"div",18),t.nrm(28,"p-button",19),t.j41(29,"p-button",20),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()(),t.j41(30,"div",21)(31,"h3",11),t.EFF(32,"Lista de Funcion\xe1rios"),t.k0s(),t.j41(33,"p-table",22),t.DNE(34,Eo,9,0,"ng-template",23),t.DNE(35,So,9,2,"ng-template",24),t.DNE(36,To,3,0,"ng-template",25),t.k0s()()()(),t.nrm(37,"p-toast",26)),2&o&&(t.R7$(16),t.Y8G("formGroup",n.filterForm),t.R7$(9),t.Y8G("options",n.cargos)("showClear",!0),t.R7$(8),t.Y8G("value",n.filteredElements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,Ro))("loading",n.loading))},dependencies:[m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.funcionario-form[_ngcontent-%COMP%], .funcionario-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem}  .funcionario-form .p-inputtext,   .funcionario-form .p-dropdown{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .funcionario-form .p-inputtext{line-height:1.4!important;padding:.6rem .9rem!important}  .funcionario-form .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .funcionario-form .p-inputtext::placeholder{color:#0f17247a!important}  .funcionario-form .p-inputtext:hover:not(:disabled),   .funcionario-form .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .funcionario-form .p-inputtext:focus,   .funcionario-form .p-dropdown:focus,   .funcionario-form .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .funcionario-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .funcionario-form .p-button-primary{background:linear-gradient(135deg,#0d4a8a 0%,#1b6ba8 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #0d4a8a59!important}  .funcionario-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1b6ba8 0%,#2563eb 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #0d4a8a73!important}  .funcionario-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .funcionario-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .funcionario-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .funcionario-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .funcionario-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .funcionario-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .funcionario-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.funcionario-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.funcionario-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.funcionario-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.funcionario-form[_ngcontent-%COMP%], .funcionario-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}.filter-button-group[_ngcontent-%COMP%]{flex-direction:column;width:100%}.filter-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{width:100%}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})();var E=c(980),Do=c(3896),J=c(5716);function Bo(a,l){1&a&&(t.j41(0,"small",29),t.EFF(1," Informe o t\xedtulo do aviso. "),t.k0s())}function $o(a,l){1&a&&(t.j41(0,"small",29),t.EFF(1," Informe a descri\xe7\xe3o do aviso. "),t.k0s())}function Ao(a,l){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"form",13),t.bIt("ngSubmit",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.salvar())}),t.j41(2,"div",14)(3,"div",15)(4,"label",16),t.EFF(5,"T\xedtulo"),t.k0s(),t.nrm(6,"input",17),t.DNE(7,Bo,2,0,"small",18),t.k0s(),t.j41(8,"div",15)(9,"label",19),t.EFF(10,"T\xedtulo do bot\xe3o"),t.k0s(),t.nrm(11,"input",20),t.k0s(),t.j41(12,"div",21)(13,"label",22),t.EFF(14,"Descri\xe7\xe3o"),t.k0s(),t.nrm(15,"textarea",23),t.DNE(16,$o,2,0,"small",18),t.k0s(),t.j41(17,"div",15)(18,"label",24),t.EFF(19,"Link"),t.k0s(),t.nrm(20,"input",25),t.k0s(),t.j41(21,"div",15)(22,"label",26),t.EFF(23,"Status"),t.k0s(),t.j41(24,"div",27),t.nrm(25,"p-inputSwitch",28),t.j41(26,"span"),t.EFF(27),t.k0s()()()()(),t.bVm()}if(2&a){const e=t.XpG();let o,n,i,r;t.R7$(1),t.Y8G("formGroup",e.avisoForm),t.R7$(6),t.Y8G("ngIf",(null==(o=e.avisoForm.get("titulo"))?null:o.invalid)&&(null==(o=e.avisoForm.get("titulo"))?null:o.touched)),t.R7$(8),t.Y8G("autoResize",!0),t.R7$(1),t.Y8G("ngIf",(null==(n=e.avisoForm.get("descricao"))?null:n.invalid)&&(null==(n=e.avisoForm.get("descricao"))?null:n.touched)),t.R7$(8),t.AVh("inactive",!(null!=(i=e.avisoForm.get("status"))&&i.value)),t.R7$(3),t.JRh(null!=(r=e.avisoForm.get("status"))&&r.value?"Ativo":"Inativo")}}function Go(a,l){1&a&&(t.j41(0,"div",30),t.nrm(1,"p-skeleton",31)(2,"p-skeleton",32),t.j41(3,"div",14)(4,"div",15),t.nrm(5,"p-skeleton",33),t.k0s(),t.j41(6,"div",15),t.nrm(7,"p-skeleton",33),t.k0s()()())}let zo=(()=>{class a{constructor(e,o,n){this.fb=e,this.avisoService=o,this.messageService=n,this.loading=!1,this.saving=!1,this.avisoForm=this.fb.group({titulo:["",s.k0.required],descricao:["",s.k0.required],tituloBotao:[""],link:[""],status:[!0]})}ngOnInit(){this.carregarAviso()}carregarAviso(){this.loading=!0,this.avisoService.listarAvisos().pipe((0,E.j)(()=>this.loading=!1)).subscribe({next:e=>{this.avisoAtual=e?.[0],this.avisoAtual?this.avisoForm.patchValue({titulo:this.avisoAtual.titulo??"",descricao:this.avisoAtual.descricao??"",tituloBotao:this.avisoAtual.tituloBotao??"",link:this.avisoAtual.link??"",status:this.avisoAtual.status??!0}):this.avisoForm.reset({titulo:"",descricao:"",tituloBotao:"",link:"",status:!0})},error:e=>{console.error(e),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel carregar os avisos."})}})}salvar(){if(this.avisoForm.invalid)return void this.avisoForm.markAllAsTouched();const e=this.avisoForm.getRawValue();this.saving=!0,(this.avisoAtual?.id?this.avisoService.atualizarAviso(this.avisoAtual.id,e):this.avisoService.criarAviso(e)).pipe((0,E.j)(()=>this.saving=!1)).subscribe({next:n=>{this.avisoAtual=n,this.avisoForm.patchValue({titulo:n.titulo??"",descricao:n.descricao??"",tituloBotao:n.tituloBotao??"",link:n.link??"",status:n.status??!0}),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Aviso salvo com sucesso!"})},error:n=>{console.error(n),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel salvar o aviso."})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(Do.C),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-aviso"]],features:[t.Jv_([m.bg])],decls:18,vars:5,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-info-circle"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["pButton","","type","button","icon","pi pi-refresh","label","Recarregar",1,"p-button-outlined","p-button-secondary","p-button-sm",3,"disabled","click"],["pButton","","type","submit","form","avisoForm","icon","pi pi-save","label","Salvar",1,"p-button-primary","p-button-sm",3,"loading","disabled"],[4,"ngIf","ngIfElse"],["loadingState",""],["id","avisoForm","autocomplete","off",1,"aviso-form",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12","col-lg-6"],["for","titulo",1,"form-label"],["pInputText","","id","titulo","formControlName","titulo","placeholder","T\xedtulo do aviso",1,"form-control"],["class","text-danger",4,"ngIf"],["for","tituloBotao",1,"form-label"],["pInputText","","id","tituloBotao","formControlName","tituloBotao","placeholder","Texto exibido no bot\xe3o",1,"form-control"],[1,"col-12"],["for","descricao",1,"form-label"],["pInputTextarea","","id","descricao","formControlName","descricao","rows","5","placeholder","Conte\xfado do aviso",1,"form-control",3,"autoResize"],["for","link",1,"form-label"],["pInputText","","id","link","formControlName","link","placeholder","https://exemplo.com",1,"form-control"],[1,"form-label","d-block"],[1,"status-toggle"],["formControlName","status"],[1,"text-danger"],[1,"aviso-form","loading"],["height","1.75rem","styleClass","mb-3"],["height","8rem","styleClass","mb-3"],["height","1.75rem"]],template:function(o,n){if(1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"header",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h2",6),t.EFF(9,"Aviso Importante"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Defina a mensagem global que ser\xe1 exibida aos usu\xe1rios do portal"),t.k0s()()(),t.j41(12,"div",8)(13,"button",9),t.bIt("click",function(){return n.carregarAviso()}),t.k0s(),t.nrm(14,"button",10),t.k0s()(),t.DNE(15,Ao,28,7,"ng-container",11),t.DNE(16,Go,8,0,"ng-template",null,12,t.C5r),t.k0s()()),2&o){const i=t.sdS(17);t.R7$(13),t.Y8G("disabled",n.loading||n.saving),t.R7$(1),t.Y8G("loading",n.saving)("disabled",n.loading||n.saving||n.avisoForm.invalid),t.R7$(1),t.Y8G("ngIf",n.avisoForm&&!n.loading)("ngIfElse",i)}},dependencies:[b.bT,h._f,_.S,C.y8,F.Z,S.HW,J.E,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}  .page-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .page-actions .p-button-primary{background-color:#fff!important;color:#0d4a8a!important;border-color:#fff!important}  .page-actions .p-button-primary:hover:not(:disabled){background-color:#ffffffe6!important;transform:translateY(-2px)}  .page-actions .p-button-outlined.p-button-secondary{background-color:transparent!important;color:#fff!important;border-color:#fff!important}  .page-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background-color:#ffffff1a!important;transform:translateY(-2px)}.aviso-form[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:2.5rem;box-shadow:0 20px 50px #0f172a14;border:1px solid #e2e8f0;font-family:Raleway,sans-serif}.aviso-form.loading[_ngcontent-%COMP%]{padding:2rem}.status-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background-color:#0d4a8a14;color:#0d4a8a;font-weight:500;padding:.5rem 1rem;border-radius:999px;transition:background-color .2s ease,color .2s ease;font-family:Raleway,sans-serif}.status-toggle.inactive[_ngcontent-%COMP%]{background-color:#94a3b833;color:#6b7280}  .form-label{font-weight:600;color:#1f2937;font-size:13px;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif!important}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder,   .p-inputtext::-webkit-input-placeholder,   .p-inputtextarea::-webkit-input-placeholder{color:#0f172473!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .text-danger{font-size:12px;color:#dc3545;font-family:var(--font-family)!important}@media (max-width: 768px){.adm-pages[_ngcontent-%COMP%]{padding:1.5rem!important}.page-header[_ngcontent-%COMP%], .aviso-form[_ngcontent-%COMP%]{padding:1.5rem}}']})}}return a})();function No(a,l){1&a&&(t.j41(0,"small",34),t.EFF(1," O t\xedtulo \xe9 obrigat\xf3rio. "),t.k0s())}function Uo(a,l){1&a&&(t.j41(0,"small",34),t.EFF(1," A descri\xe7\xe3o \xe9 obrigat\xf3ria. "),t.k0s())}function Xo(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.removerImagem())}),t.k0s()}}function Vo(a,l){if(1&a&&(t.j41(0,"div",36),t.nrm(1,"img",37),t.k0s()),2&a){const e=t.XpG();t.R7$(1),t.Y8G("src",e.imagemPreview||e.imagemAtual,t.B4B)}}let Yo=(()=>{class a{constructor(e,o,n,i){this.fb=e,this.dialogRef=o,this.config=n,this.sanitizer=i,this.acao="criar",this.bannerForm=this.fb.group({title:["",s.k0.required],description:["",s.k0.required],linkPrincipal:[""],textoPrincipal:[""],linkSecundario:[""],textoSecundario:[""],bannerLink:[""],status:[!0,s.k0.required]})}ngOnInit(){const e=this.config.data;e&&(this.acao="editar",this.bannerForm.patchValue({title:e.title??"",description:e.description??"",linkPrincipal:e.linkPrincipal??"",textoPrincipal:e.textoPrincipal??"",linkSecundario:e.linkSecundario??"",textoSecundario:e.textoSecundario??"",bannerLink:e.bannerLink??"",status:e.status??!0}),this.imagemAtual=e.imageUrl??void 0)}onFileChange(e){const o=e.target;if(!o.files||0===o.files.length)return;const n=o.files[0];this.selectedFile=n,this.imagemPreview=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n))}removerImagem(){this.selectedFile=void 0,this.imagemPreview=void 0,this.imagemAtual=void 0}fechar(){this.dialogRef.close()}salvar(){this.bannerForm.invalid?this.bannerForm.markAllAsTouched():this.dialogRef.close({acao:this.acao,data:this.bannerForm.value,imagem:this.selectedFile})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.Pw),t.rXU(u.sb),t.rXU(q.up))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-banner-form-dialog"]],decls:59,vars:8,consts:[[1,"dialog-container",3,"formGroup"],[1,"dialog-form"],[1,"form-group"],["for","title",1,"form-label"],[1,"required"],["pInputText","","id","title","formControlName","title","placeholder","Informe o t\xedtulo",1,"form-control"],["class","error-message",4,"ngIf"],["for","description",1,"form-label"],["pInputTextarea","","id","description","formControlName","description","rows","3","placeholder","Resumo do banner",1,"form-control",3,"autoResize"],[1,"form-row"],[1,"form-group","flex-1"],["for","linkPrincipal",1,"form-label"],["pInputText","","id","linkPrincipal","formControlName","linkPrincipal","placeholder","https://exemplo.com",1,"form-control"],["for","linkSecundario",1,"form-label"],["pInputText","","id","linkSecundario","formControlName","linkSecundario","placeholder","https://exemplo.com/saiba-mais",1,"form-control"],["for","textoPrincipal",1,"form-label"],["pInputText","","id","textoPrincipal","formControlName","textoPrincipal","placeholder","Ex.: Conhe\xe7a a Abralimp",1,"form-control"],["for","textoSecundario",1,"form-label"],["pInputText","","id","textoSecundario","formControlName","textoSecundario","placeholder","Ex.: Associe-se",1,"form-control"],["for","bannerLink",1,"form-label"],["pInputText","","id","bannerLink","formControlName","bannerLink","placeholder","/rota-interna",1,"form-control"],[1,"form-label"],[1,"status-toggle"],["formControlName","status"],[1,"status-label"],[1,"image-picker"],[1,"upload-label"],["type","file","accept","image/*",3,"change"],[1,"pi","pi-upload"],["pButton","","type","button","icon","pi pi-times","class","p-button-rounded p-button-text text-danger","pTooltip","Remover imagem","tooltipPosition","top",3,"click",4,"ngIf"],["class","image-preview",4,"ngIf"],[1,"dialog-actions"],["label","Cancelar","icon","pi pi-times","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["label","Salvar","icon","pi pi-check","styleClass","p-button-primary p-button-sm",3,"disabled","onClick"],[1,"error-message"],["pButton","","type","button","icon","pi pi-times","pTooltip","Remover imagem","tooltipPosition","top",1,"p-button-rounded","p-button-text","text-danger",3,"click"],[1,"image-preview"],["alt","Pr\xe9-visualiza\xe7\xe3o",3,"src"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t.EFF(4,"T\xedtulo "),t.j41(5,"span",4),t.EFF(6,"*"),t.k0s()(),t.nrm(7,"input",5),t.DNE(8,No,2,0,"small",6),t.k0s(),t.j41(9,"div",2)(10,"label",7),t.EFF(11,"Descri\xe7\xe3o "),t.j41(12,"span",4),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"textarea",8),t.DNE(15,Uo,2,0,"small",6),t.k0s(),t.j41(16,"div",9)(17,"div",10)(18,"label",11),t.EFF(19,"Link principal"),t.k0s(),t.nrm(20,"input",12),t.k0s(),t.j41(21,"div",10)(22,"label",13),t.EFF(23,"Link secund\xe1rio"),t.k0s(),t.nrm(24,"input",14),t.k0s()(),t.j41(25,"div",9)(26,"div",10)(27,"label",15),t.EFF(28,"Texto bot\xe3o principal"),t.k0s(),t.nrm(29,"input",16),t.k0s(),t.j41(30,"div",10)(31,"label",17),t.EFF(32,"Texto bot\xe3o secund\xe1rio"),t.k0s(),t.nrm(33,"input",18),t.k0s()(),t.j41(34,"div",2)(35,"label",19),t.EFF(36,"Link do banner"),t.k0s(),t.nrm(37,"input",20),t.k0s(),t.j41(38,"div",2)(39,"label",21),t.EFF(40,"Status"),t.k0s(),t.j41(41,"div",22),t.nrm(42,"p-inputSwitch",23),t.j41(43,"span",24),t.EFF(44),t.k0s()()(),t.j41(45,"div",2)(46,"label",21),t.EFF(47,"Imagem"),t.k0s(),t.j41(48,"div",25)(49,"label",26)(50,"input",27),t.bIt("change",function(r){return n.onFileChange(r)}),t.k0s(),t.j41(51,"span"),t.nrm(52,"i",28),t.EFF(53," Escolher arquivo"),t.k0s()(),t.DNE(54,Xo,1,0,"button",29),t.k0s(),t.DNE(55,Vo,2,1,"div",30),t.k0s()(),t.j41(56,"div",31)(57,"p-button",32),t.bIt("onClick",function(){return n.fechar()}),t.k0s(),t.j41(58,"p-button",33),t.bIt("onClick",function(){return n.salvar()}),t.k0s()()()),2&o){let i,r,p;t.Y8G("formGroup",n.bannerForm),t.R7$(8),t.Y8G("ngIf",(null==(i=n.bannerForm.get("title"))?null:i.invalid)&&(null==(i=n.bannerForm.get("title"))?null:i.touched)),t.R7$(6),t.Y8G("autoResize",!0),t.R7$(1),t.Y8G("ngIf",(null==(r=n.bannerForm.get("description"))?null:r.invalid)&&(null==(r=n.bannerForm.get("description"))?null:r.touched)),t.R7$(29),t.JRh(null!=(p=n.bannerForm.get("status"))&&p.value?"Ativo":"Inativo"),t.R7$(10),t.Y8G("ngIf",n.imagemPreview||n.imagemAtual),t.R7$(1),t.Y8G("ngIf",n.imagemPreview||n.imagemAtual),t.R7$(3),t.Y8G("disabled",n.bannerForm.invalid)}},dependencies:[b.bT,h._f,h.$n,_.S,F.Z,w.m,S.HW,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{padding:0;font-family:Raleway,sans-serif;width:100%}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem;max-height:65vh;overflow-y:auto;padding-right:.5rem}.dialog-form[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.dialog-form[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.dialog-form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.dialog-form[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.625rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:12px;text-transform:uppercase;letter-spacing:.6px;font-family:Raleway,sans-serif!important}.required[_ngcontent-%COMP%]{color:#dc3545;font-weight:700;margin-left:4px}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#dc3545;font-family:var(--font-family)!important;margin-top:.375rem}.status-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.status-label[_ngcontent-%COMP%]{font-size:13px;color:#0f1724;font-family:var(--font-family);font-weight:500}.image-picker[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.upload-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;cursor:pointer;background-color:#f3f4f6;color:#1f2937;border-radius:8px;padding:.625rem 1.125rem;transition:all .2s ease;border:1.5px solid #e5e7eb;font-weight:500;font-size:13px}.upload-label[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;border-color:#d1d5db}.upload-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.image-preview[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;border-radius:8px;background-color:#f9fafb;display:inline-flex;border:1px solid #e5e7eb}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px;max-height:120px;border-radius:6px;object-fit:cover}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.875rem;justify-content:flex-end;align-items:center;margin-top:2rem;padding-top:1.75rem;border-top:1px solid #e5e7eb}  .p-dialog .p-dialog-content{padding:2rem!important}  .p-dialog .p-dialog-header{padding:1.5rem 2rem!important;border-bottom:1px solid #e5e7eb!important}  .dialog-container .p-inputtext,   .dialog-container .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.5!important;padding:.65rem 1rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .dialog-container .p-inputtext::placeholder,   .dialog-container .p-inputtextarea::placeholder{color:#0f17247a!important}  .dialog-container .p-inputtext:hover:not(:disabled),   .dialog-container .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .dialog-container .p-inputtext:focus,   .dialog-container .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 0 0 3px #0d4a8a1a!important;outline:none!important}  .dialog-container .p-inputtext.ng-invalid.ng-touched,   .dialog-container .p-inputtextarea.ng-invalid.ng-touched{border-color:#fca5a5!important;background:#fef2f2!important}  .dialog-actions .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important;padding:.65rem 1.25rem!important;font-size:12px!important;text-transform:uppercase!important;letter-spacing:.5px!important;min-width:100px!important}  .dialog-actions .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 12px #0d4a8a40!important}  .dialog-actions .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 6px 20px #0d4a8a59!important}  .dialog-actions .p-button-primary:disabled{opacity:.55!important;cursor:not-allowed!important;transform:none!important}  .dialog-actions .p-button-outlined.p-button-secondary{color:#6b7280!important;border:1.5px solid #d4dce8!important;background:transparent!important}  .dialog-actions .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f9fafb!important;border-color:#9ca3af!important;color:#374151!important}  .dialog-container .p-inputswitch .p-inputswitch-slider{background-color:#cbd5e1!important;transition:all .2s ease!important}  .dialog-container .p-inputswitch.ng-valid.ng-dirty .p-inputswitch-slider,   .dialog-container .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background-color:#10b981!important}  .dialog-container .p-inputswitch:focus{box-shadow:0 0 0 .2rem #0d4a8a1a!important}  .p-dialog-title{font-family:Raleway,sans-serif!important;font-weight:700!important;font-size:18px!important;color:#0d4a8a!important;letter-spacing:-.5px!important}']})}}return a})();var qo=c(1854),Lo=c(1048);function Jo(a,l){1&a&&(t.j41(0,"tr")(1,"th",28),t.EFF(2,"Imagem"),t.nrm(3,"p-sortIcon",29),t.k0s(),t.j41(4,"th",30),t.EFF(5,"T\xedtulo"),t.nrm(6,"p-sortIcon",29),t.k0s(),t.j41(7,"th",31),t.EFF(8,"Descri\xe7\xe3o"),t.nrm(9,"p-sortIcon",32),t.k0s(),t.j41(10,"th",33),t.EFF(11,"Status"),t.k0s(),t.j41(12,"th",33),t.EFF(13,"A\xe7\xf5es"),t.k0s()())}function Ho(a,l){if(1&a&&(t.j41(0,"div",40),t.nrm(1,"img",41),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("src",e.imageUrl,t.B4B)}}function Wo(a,l){1&a&&(t.j41(0,"span",42),t.EFF(1,"Sem imagem"),t.k0s())}function Qo(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",43),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.alterarStatus(n))}),t.k0s()}}function Ko(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",44),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.alterarStatus(n))}),t.k0s()}}function Zo(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.DNE(2,Ho,2,1,"div",34),t.DNE(3,Wo,2,0,"ng-template",null,35,t.C5r),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td")(12,"div",36),t.DNE(13,Qo,1,0,"i",37),t.DNE(14,Ko,1,0,"i",38),t.j41(15,"i",39),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.abrirFormulario(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit,o=t.sdS(4);t.R7$(2),t.Y8G("ngIf",e.imageUrl)("ngIfElse",o),t.R7$(4),t.JRh(e.title||"\u2014"),t.R7$(2),t.JRh(e.description||"\u2014"),t.R7$(2),t.JRh(1==e.status?"Ativo":"Inativo"),t.R7$(3),t.Y8G("ngIf",e.status),t.R7$(1),t.Y8G("ngIf",!e.status)}}function tn(a,l){1&a&&(t.j41(0,"tr")(1,"td",45),t.EFF(2,"Nenhum banner encontrado"),t.k0s()())}const en=function(){return[5,10,25,50]};let on=(()=>{class a{constructor(e,o,n,i,r,p){this.fb=e,this.bannerService=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.imageService=p,this.elements=[],this.filteredElements=[],this.loading=!1,this.statusOptions=[{label:"Todos",value:null},{label:"Ativo",value:!0},{label:"Inativo",value:!1}],this.filterForm=this.fb.group({title:[""],status:[null]})}ngOnInit(){this.carregarBanners(),this.filterSubscription=this.filterForm.valueChanges.subscribe(()=>{this.aplicarFiltros()}),this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.abrirFormulario()})}ngOnDestroy(){this.addButtonSubscription?.unsubscribe(),this.filterSubscription?.unsubscribe(),this.dialogRef?.close()}carregarBanners(){this.loading=!0,this.bannerService.listarTodos().pipe((0,E.j)(()=>this.loading=!1)).subscribe({next:e=>{this.elements=(e??[]).map(o=>({...o,imageUrl:this.imageService.getImageUrl(o.imageUrl)})),this.aplicarFiltros()},error:e=>{console.error(e),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel carregar os banners."})}})}aplicarFiltros(){const{title:e,status:o}=this.filterForm.value;this.filteredElements=this.elements.filter(n=>(!e||n.title?.toLowerCase().includes(e.toLowerCase()))&&(null==o||n.status===o))}onSubmitFiltro(){this.aplicarFiltros()}limparFiltros(){this.filterForm.reset({title:"",status:null}),this.filteredElements=[...this.elements]}abrirFormulario(e){this.dialogRef=this.dialogService.open(Yo,{header:e?"Editar Banner":"Novo Banner",width:"700px",modal:!0,data:e??null,breakpoints:{"960px":"80vw","640px":"95vw"}}),this.dialogRef.onClose.subscribe(n=>{n&&("criar"===n.acao?this.criarBanner(n.data,n.imagem):"editar"===n.acao&&e?.id&&this.atualizarBanner(e.id,n.data,n.imagem))})}criarBanner(e,o){this.loading=!0,this.bannerService.criar({title:e.title,description:e.description,linkPrincipal:e.linkPrincipal,textoPrincipal:e.textoPrincipal,linkSecundario:e.linkSecundario,textoSecundario:e.textoSecundario,bannerLink:e.bannerLink,status:e.status},o).pipe((0,E.j)(()=>this.loading=!1)).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Banner criado com sucesso!"}),this.carregarBanners()},error:n=>{console.error(n),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel criar o banner."})}})}atualizarBanner(e,o,n){this.loading=!0,this.bannerService.atualizar(e,{title:o.title,description:o.description,linkPrincipal:o.linkPrincipal,textoPrincipal:o.textoPrincipal,linkSecundario:o.linkSecundario,textoSecundario:o.textoSecundario,bannerLink:o.bannerLink,status:o.status},n).pipe((0,E.j)(()=>this.loading=!1)).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Banner atualizado com sucesso!"}),this.carregarBanners()},error:i=>{console.error(i),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel atualizar o banner."})}})}alterarStatus(e){if(!e.id)return;const o=!e.status;this.bannerService.atualizarStatus(e.id,o).subscribe({next:()=>{e.status=o,this.aplicarFiltros()},error:n=>{console.error(n),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel alterar o status do banner."})}})}deletar(e){e.id&&confirm("Deseja realmente excluir este banner?")&&this.bannerService.deletar(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Banner exclu\xeddo com sucesso!"}),this.carregarBanners()},error:o=>{console.error(o),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel excluir o banner."})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(qo._),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg),t.rXU(Lo.f))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-banner"]],features:[t.Jv_([m.bg])],decls:36,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-image"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Novo","icon","pi pi-plus","styleClass","p-button-success p-button-sm",3,"onClick"],[1,"banner-form"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3","align-items-end"],[1,"col-12","col-lg-3"],["for","status",1,"form-label"],["id","status","formControlName","status","optionLabel","label","placeholder","Todos","styleClass","w-100",3,"options","showClear"],[1,"col-12","col-lg-6"],["for","title",1,"form-label"],["pInputText","","id","title","formControlName","title","placeholder","Buscar por t\xedtulo...",1,"form-control","w-100"],[1,"filter-button-group"],["label","Pesquisar","icon","pi pi-search","styleClass","p-button-primary p-button-sm",3,"onClick"],["label","Limpar","icon","pi pi-refresh","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],[1,"banner-table"],[1,"form-section-title"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","title",2,"width","15%"],["field","title"],["pSortableColumn","title",2,"width","30%"],["pSortableColumn","description",2,"width","25%"],["field","description"],[2,"width","15%"],["class","thumb-wrapper",4,"ngIf","ngIfElse"],["semImagem",""],[1,"d-flex","align-items-center","align-content-center"],["class","pi pi-lock mr-3","pTooltip","Inativar","tooltipPosition","top",3,"click",4,"ngIf"],["class","pi pi-lock-open mr-3","pTooltip","Ativar","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square",3,"click"],[1,"thumb-wrapper"],["alt","Banner",1,"banner-thumb",3,"src"],[1,"thumb-placeholder"],["pTooltip","Inativar","tooltipPosition","top",1,"pi","pi-lock","mr-3",3,"click"],["pTooltip","Ativar","tooltipPosition","top",1,"pi","pi-lock-open","mr-3",3,"click"],["colspan","5",1,"text-center"]],template:function(o,n){1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"header",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h2",6),t.EFF(9,"Banners"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Gerencie os banners do portal"),t.k0s()()(),t.j41(12,"div",8)(13,"p-button",9),t.bIt("onClick",function(){return n.abrirFormulario()}),t.k0s()()(),t.j41(14,"div",10)(15,"form",11),t.bIt("ngSubmit",function(){return n.onSubmitFiltro()}),t.j41(16,"div",12)(17,"div",13)(18,"label",14),t.EFF(19,"Status"),t.k0s(),t.nrm(20,"p-dropdown",15),t.k0s(),t.j41(21,"div",16)(22,"label",17),t.EFF(23,"T\xedtulo"),t.k0s(),t.nrm(24,"input",18),t.k0s(),t.j41(25,"div",13)(26,"div",19)(27,"p-button",20),t.bIt("onClick",function(){return n.onSubmitFiltro()}),t.k0s(),t.j41(28,"p-button",21),t.bIt("onClick",function(){return n.limparFiltros()}),t.k0s()()()()()(),t.j41(29,"div",22)(30,"h3",23),t.EFF(31,"Lista de Banners"),t.k0s(),t.j41(32,"p-table",24),t.DNE(33,Jo,14,0,"ng-template",25),t.DNE(34,Zo,16,7,"ng-template",26),t.DNE(35,tn,3,0,"ng-template",27),t.k0s()()()()),2&o&&(t.R7$(15),t.Y8G("formGroup",n.filterForm),t.R7$(5),t.Y8G("options",n.statusOptions)("showClear",!0),t.R7$(12),t.Y8G("value",n.filteredElements)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,en))("loading",n.loading))},dependencies:[b.bT,m.Ei,h.$n,f.XI,f.Tg,f.yc,y.ms,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.banner-form[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.banner-table[_ngcontent-%COMP%]{background:#ffffff;border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:20px;color:#0d4a8a;margin:0 0 2rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:1rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:50px;height:3px;background:linear-gradient(90deg,#0D4A8A,#1B6BA8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.filter-button-group[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.banner-thumb[_ngcontent-%COMP%]{width:100px;height:70px;object-fit:cover;border-radius:8px;border:1px solid #e5e7eb}.thumb-wrapper[_ngcontent-%COMP%]{display:inline-flex;padding:6px;border-radius:8px;background-color:#f9fafb}.thumb-placeholder[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;font-weight:500}.links-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.links-stack[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.85rem;color:#0d4a8a;text-decoration:none;transition:color .2s ease}.links-stack[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1b6ba8;text-decoration:underline}.cell-primary[_ngcontent-%COMP%]{font-weight:600;color:#0f1724}.cell-subtitle[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem}  .page-actions .p-button{border-radius:10px!important;font-family:Raleway,sans-serif!important;font-weight:700!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;padding:.75rem 1.75rem!important;font-size:14px!important;text-transform:uppercase!important;letter-spacing:.5px!important;box-shadow:0 4px 12px #00000026!important}  .page-actions .p-button-success{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;color:#fff!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important}  .page-actions .p-button-success:hover:not(:disabled){transform:translateY(-3px)!important;box-shadow:0 10px 32px #10b98173!important;background:linear-gradient(135deg,#059669 0%,#047857 100%)!important}  .page-actions .p-button-primary{background:white!important;color:#0d4a8a!important;border-color:#fff!important;box-shadow:0 6px 20px #ffffff80!important}  .page-actions .p-button-primary:hover:not(:disabled){background:rgba(255,255,255,.95)!important;transform:translateY(-3px)!important;box-shadow:0 10px 32px #fff9!important}  .form-label{font-weight:600;color:#1f2937;font-size:13px;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif!important;margin-bottom:.75rem;display:block}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:var(--font-family)!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder,   .p-inputtext::-webkit-input-placeholder,   .p-inputtextarea::-webkit-input-placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .p-dropdown{border-radius:8px!important;border:1.5px solid #e6eef6!important;background:white!important;transition:all .18s ease!important;box-shadow:inset 0 1px 3px #0000000d!important;width:100%!important;display:flex!important}  .p-dropdown .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:var(--font-family)!important}  .p-dropdown .p-dropdown-trigger{width:auto!important;padding:0 .75rem!important}  .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-dropdown:focus,   .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important}  .banner-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .banner-form .p-button-primary{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%)!important;border-color:transparent!important;color:#fff!important;box-shadow:0 4px 15px #0d4a8a40!important}  .banner-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1B6BA8 0%,#2575c0 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 25px #0d4a8a59!important}  .banner-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .banner-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .text-danger{font-size:12px;color:#dc3545;font-family:var(--font-family)!important;margin-top:.375rem}  .p-datatable{font-family:var(--font-family)!important}  .p-datatable .p-datatable-thead>tr>th{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%)!important;color:#0d4a8a!important;font-weight:700!important;padding:1rem 1.25rem!important;border-color:#e8eef7!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important}  .p-datatable .p-datatable-tbody>tr{border-color:#e8eef7!important}  .p-datatable .p-datatable-tbody>tr>td{padding:1rem 1.25rem!important;border-color:#e8eef7!important;color:#1f2937!important}  .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.banner-form[_ngcontent-%COMP%], .banner-table[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:18px}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}  .banner-table i{font-size:22px;cursor:pointer;color:gray;transition:all .2s ease;margin-right:1rem}  .banner-table i:hover{color:#0d4a8a;transform:scale(1.1)}  .banner-table i.pi-pen-to-square{margin-right:0}  .banner-table td .d-flex i{display:inline-flex;align-items:center;justify-content:center}']})}}return a})();var O=function(a){return a.FACEBOOK="Facebook",a.INSTAGRAM="Instagram",a.TWITTER="Twitter",a.LINKEDIN="LinkedIn",a.YOUTUBE="YouTube",a.WHATSAPP="WhatsApp",a.TELEGRAM="Telegram",a.TIKTOK="TikTok",a}(O||{}),nn=c(9528);function an(a,l){1&a&&t.nrm(0,"p-skeleton",13)}function rn(a,l){if(1&a&&(t.j41(0,"div",31),t.nrm(1,"img",32),t.k0s()),2&a){const e=t.XpG(2);t.R7$(1),t.Y8G("src",e.logoPreview,t.B4B)}}function sn(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",33)(1,"div",34)(2,"div",35)(3,"label",36),t.EFF(4,"Rede Social"),t.k0s(),t.nrm(5,"p-dropdown",37),t.k0s(),t.j41(6,"div",38)(7,"div",39)(8,"div",40)(9,"label",36),t.EFF(10,"Link"),t.k0s(),t.nrm(11,"input",41),t.k0s(),t.j41(12,"i",42),t.bIt("click",function(){const i=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.removerRedeSocial(i))}),t.k0s()()()()()}if(2&a){const e=l.index,o=t.XpG(2);t.Y8G("formGroupName",e),t.R7$(5),t.Y8G("options",o.redesSociaisOpcoes)("showClear",!0)}}function ln(a,l){if(1&a&&(t.j41(0,"div",51),t.nrm(1,"img",32),t.k0s()),2&a){const e=t.XpG().index,o=t.XpG(2);t.R7$(1),t.Y8G("src",o.getAssociadaPreview(e),t.B4B)}}function pn(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",43)(1,"div",34)(2,"div",44)(3,"label",36),t.EFF(4,"Imagem"),t.k0s(),t.DNE(5,ln,2,1,"div",45),t.j41(6,"input",46,47),t.bIt("change",function(n){const r=t.eBV(e).index,p=t.XpG(2);return t.Njj(p.onAssociadaFileChange(n,r))}),t.k0s(),t.j41(8,"p-button",48),t.bIt("onClick",function(){t.eBV(e);const n=t.sdS(7);return t.Njj(n.click())}),t.k0s()(),t.j41(9,"div",49)(10,"div",40)(11,"label",36),t.EFF(12,"Link"),t.k0s(),t.nrm(13,"input",50),t.k0s(),t.j41(14,"i",42),t.bIt("click",function(){const i=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.removerAssociada(i))}),t.k0s()()()()}if(2&a){const e=l.index,o=t.XpG(2);t.Y8G("formGroupName",e),t.R7$(5),t.Y8G("ngIf",o.getAssociadaPreview(e)),t.R7$(1),t.Y8G("id","associadaImagem"+e),t.BMQ("data-index",e),t.R7$(7),t.Y8G("id","associadaLink"+e)}}function cn(a,l){if(1&a){const e=t.RV6();t.j41(0,"form",14),t.bIt("ngSubmit",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.salvar())}),t.j41(1,"div",15)(2,"div",16)(3,"h3",17),t.EFF(4,"Logo"),t.k0s(),t.j41(5,"div",18)(6,"input",19,20),t.bIt("change",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.onLogoFileChange(n))}),t.k0s(),t.j41(8,"p-button",21),t.bIt("onClick",function(){t.eBV(e);const n=t.sdS(7);return t.Njj(n.click())}),t.k0s(),t.DNE(9,rn,2,1,"div",22),t.k0s()(),t.j41(10,"div",16)(11,"h3",17),t.EFF(12,"Descri\xe7\xe3o"),t.k0s(),t.nrm(13,"textarea",23),t.k0s(),t.j41(14,"div",16)(15,"h3",17),t.EFF(16,"Endere\xe7o"),t.k0s(),t.nrm(17,"textarea",24),t.k0s(),t.j41(18,"div",16)(19,"h3",17),t.EFF(20,"Redes Sociais"),t.k0s(),t.j41(21,"div",25),t.DNE(22,sn,13,3,"div",26),t.k0s(),t.j41(23,"p-button",27),t.bIt("onClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.adicionarRedeSocial())}),t.k0s()(),t.j41(24,"div",16)(25,"h3",17),t.EFF(26,"Empresas Associadas"),t.k0s(),t.j41(27,"div",28),t.DNE(28,pn,15,5,"div",29),t.k0s(),t.j41(29,"p-button",30),t.bIt("onClick",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.adicionarAssociada())}),t.k0s()()()()}if(2&a){const e=t.XpG();t.Y8G("formGroup",e.footerForm),t.R7$(9),t.Y8G("ngIf",e.logoPreview),t.R7$(13),t.Y8G("ngForOf",e.redesSociais.controls),t.R7$(6),t.Y8G("ngForOf",e.associadas.controls)}}let dn=(()=>{class a{constructor(e,o,n){this.fb=e,this.footerService=o,this.messageService=n,this.loading=!1,this.saving=!1,this.redesSociaisOpcoes=[{label:"Facebook",value:O.FACEBOOK},{label:"Instagram",value:O.INSTAGRAM},{label:"Twitter",value:O.TWITTER},{label:"LinkedIn",value:O.LINKEDIN},{label:"YouTube",value:O.YOUTUBE},{label:"WhatsApp",value:O.WHATSAPP},{label:"Telegram",value:O.TELEGRAM},{label:"TikTok",value:O.TIKTOK}],this.footerForm=this.fb.group({logoBase64:[""],descricao:[""],informacaoAdicional:[""],redesSociais:this.fb.array([]),associada:this.fb.array([])})}ngOnInit(){this.carregarFooter()}get redesSociais(){return this.footerForm.get("redesSociais")}get associadas(){return this.footerForm.get("associada")}carregarFooter(){this.loading=!0,this.footerService.listarTodos().pipe((0,E.j)(()=>this.loading=!1)).subscribe({next:e=>{if(this.footerAtual=e?.[0],this.footerAtual){for(this.footerAtual.logoBase64&&(this.logoPreview="data:image/png;base64,"+this.footerAtual.logoBase64),this.footerForm.patchValue({logoBase64:this.footerAtual.logoBase64||"",descricao:this.footerAtual.descricao||"",informacaoAdicional:this.footerAtual.informacaoAdicional||""});this.redesSociais.length;)this.redesSociais.removeAt(0);for(this.footerAtual.redesSociais&&this.footerAtual.redesSociais.length>0&&this.footerAtual.redesSociais.forEach(o=>{this.adicionarRedeSocial(o.descricao,o.link)});this.associadas.length;)this.associadas.removeAt(0);this.footerAtual.associada&&this.footerAtual.associada.length>0&&this.footerAtual.associada.forEach(o=>{this.adicionarAssociada(o.imagemBase64,o.link)})}else this.footerForm.reset({logoBase64:"",descricao:"",informacaoAdicional:"",redesSociais:[],associada:[]})},error:e=>{console.error(e),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel carregar o footer."})}})}adicionarRedeSocial(e="",o=""){const n=this.fb.group({descricao:[e],link:[o]});this.redesSociais.push(n)}removerRedeSocial(e){this.redesSociais.removeAt(e)}adicionarAssociada(e="",o=""){const n=this.fb.group({imagemBase64:[e],link:[o]});this.associadas.push(n)}removerAssociada(e){this.associadas.removeAt(e)}onAssociadaFileChange(e,o){const n=e.target.files?.[0];if(n){const i=new FileReader;i.onload=()=>{const r=i.result.split(",")[1];this.associadas.at(o).patchValue({imagemBase64:r})},i.readAsDataURL(n)}}getAssociadaPreview(e){const o=this.associadas.at(e).get("imagemBase64")?.value;return o?"data:image/png;base64,"+o:null}onLogoFileChange(e){const o=e.target.files?.[0];if(o){const n=new FileReader;n.onload=()=>{const i=n.result.split(",")[1];this.footerForm.patchValue({logoBase64:i}),this.logoPreview=n.result},n.readAsDataURL(o)}}salvar(){if(this.footerForm.invalid)return void this.footerForm.markAllAsTouched();const e=this.footerForm.getRawValue(),o={...e,associada:e.associada||[]};this.saving=!0,(this.footerAtual?.id?this.footerService.atualizar(this.footerAtual.id,o):this.footerService.criar(o)).pipe((0,E.j)(()=>this.saving=!1)).subscribe({next:i=>{this.footerAtual=i,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Footer salvo com sucesso!"}),this.carregarFooter()},error:i=>{console.error(i),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel salvar o footer."})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(nn.r),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-footer-list"]],features:[t.Jv_([m.bg])],decls:17,vars:4,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-link"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["label","Salvar","icon","pi pi-save","styleClass","p-button-success p-button-sm",3,"disabled","loading","onClick"],[1,"footer-form"],["height","400px",4,"ngIf"],["class","filter-form",3,"formGroup","ngSubmit",4,"ngIf"],["height","400px"],[1,"filter-form",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-12"],[1,"form-section-title"],[1,"logo-upload-container"],["type","file","id","logo","accept","image/*",2,"display","none",3,"change"],["logoInput",""],["label","Selecionar Logo","icon","pi pi-image","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["class","logo-preview",4,"ngIf"],["pInputTextarea","","id","descricao","formControlName","descricao","rows","3","placeholder","Descri\xe7\xe3o do footer",1,"w-100"],["pInputTextarea","","id","informacaoAdicional","formControlName","informacaoAdicional","rows","3","placeholder","Informa\xe7\xf5es adicionais",1,"w-100"],["formArrayName","redesSociais"],["class","rede-social-item mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["label","Adicionar Rede Social","icon","pi pi-plus","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],["formArrayName","associada"],["class","associada-item mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["label","Adicionar Associada","icon","pi pi-plus","styleClass","p-button-outlined p-button-secondary p-button-sm",3,"onClick"],[1,"logo-preview"],["alt","Preview",3,"src"],[1,"rede-social-item","mb-3",3,"formGroupName"],[1,"row","g-2"],[1,"col-12","col-lg-5"],[1,"form-label"],["formControlName","descricao","placeholder","Selecione a rede social","optionLabel","label","optionValue","value","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"col-12","col-lg-7"],[1,"d-flex","align-items-end","gap-2","h-100"],[2,"flex","1"],["pInputText","","formControlName","link","placeholder","https://...",1,"w-100"],["pTooltip","Remover","tooltipPosition","top",1,"pi","pi-trash",3,"click"],[1,"associada-item","mb-3",3,"formGroupName"],[1,"col-12","col-lg-4"],["class","associada-preview",4,"ngIf"],["type","file","accept","image/*",2,"display","none",3,"id","change"],["associadaInput",""],["label","Selecionar Imagem","icon","pi pi-image","styleClass","p-button-outlined p-button-secondary p-button-sm w-100",3,"onClick"],[1,"col-12","col-lg-8","d-flex","align-items-end","gap-2"],["pInputText","","formControlName","link","placeholder","https://...",1,"w-100",3,"id"],[1,"associada-preview"]],template:function(o,n){1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"header",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h2",6),t.EFF(9,"Footers"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Gerencie o conte\xfado do rodap\xe9 do portal"),t.k0s()()(),t.j41(12,"div",8)(13,"p-button",9),t.bIt("onClick",function(){return n.salvar()}),t.k0s()()(),t.j41(14,"div",10),t.DNE(15,an,1,0,"p-skeleton",11),t.DNE(16,cn,30,4,"form",12),t.k0s()()()),2&o&&(t.R7$(13),t.Y8G("disabled",n.footerForm.invalid||n.saving)("loading",n.saving),t.R7$(2),t.Y8G("ngIf",n.loading),t.R7$(1),t.Y8G("ngIf",!n.loading))},dependencies:[b.Sq,b.bT,h.$n,y.ms,_.S,C.y8,F.Z,w.m,J.E,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.footer-form[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:3rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.form-section-title[_ngcontent-%COMP%]{font-weight:800;font-size:18px;color:#0d4a8a;margin:0 0 1.5rem;font-family:Raleway,sans-serif;position:relative;padding-bottom:.75rem}.form-section-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:40px;height:3px;background:linear-gradient(90deg,#0d4a8a,#1b6ba8);border-radius:2px}.filter-form[_ngcontent-%COMP%]{margin:0}.form-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1f2937;text-transform:uppercase;letter-spacing:.5px;font-family:Raleway,sans-serif;margin-bottom:.5rem}.logo-upload-container[_ngcontent-%COMP%], .logo-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:.75rem}.logo-preview[_ngcontent-%COMP%], .associada-preview[_ngcontent-%COMP%]{padding:1rem;border:1px dashed #cfddea;border-radius:8px;background:#f9fafb;display:flex;justify-content:center;align-items:center;min-height:150px;margin-top:.75rem;margin-bottom:.75rem}.logo-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .associada-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:150px;object-fit:contain}.rede-social-item[_ngcontent-%COMP%], .associada-item[_ngcontent-%COMP%]{padding:1.5rem;background:#f8fafc;border-radius:8px;border:1px solid #e8eef7}  .p-inputtext,   .p-inputtextarea{border:1.5px solid #e6eef6!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-size:14px!important;color:#0f1724!important;line-height:1.4!important;padding:.6rem .9rem!important;transition:all .18s ease!important;background:#ffffff!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-inputtext::placeholder,   .p-inputtextarea::placeholder{color:#0f17247a!important}  .p-inputtext:hover:not(:disabled),   .p-inputtextarea:hover:not(:disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-inputtext:focus,   .p-inputtextarea:focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important;outline:none!important}  .p-dropdown{border-radius:8px!important;border:1.5px solid #e6eef6!important;background:white!important;transition:all .18s ease!important;box-shadow:inset 0 1px 3px #0000000d!important}  .p-dropdown-label{font-size:14px!important;color:#0f1724!important;padding:.6rem .9rem!important;font-family:Raleway,sans-serif!important}  .p-dropdown:hover:not(.p-disabled){border-color:#cfddea!important;box-shadow:inset 0 1px 3px #00000014!important}  .p-dropdown:focus,   .p-dropdown.p-focus{border-color:#0d4a8a!important;box-shadow:0 8px 24px #0d4a8a1f!important}  .footer-form .p-button{border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}  .footer-form .p-button .p-icon{font-size:18px!important}  .footer-form .p-button-outlined.p-button-secondary{color:#0d4a8a!important;border-color:#d4dce8!important;background:#f8fafc!important;box-shadow:inset 0 1px 3px #00000005!important}  .footer-form .p-button-outlined.p-button-secondary:hover:not(:disabled){background:#f1f5f9!important;border-color:#b8c5d8!important;color:#1b6ba8!important}  .footer-form .p-button-danger{color:#dc3545!important}  .footer-form .p-button-danger:hover:not(:disabled){background:#f8d7da!important;color:#a71d2a!important}  .footer-form .p-button-danger .p-icon{font-size:18px!important}  .footer-form .p-button-rounded .p-icon{font-size:18px!important}  .rede-social-item .p-button-outlined .p-icon,   .associada-item .p-button-outlined .p-icon{font-size:16px!important}.rede-social-item[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%], .associada-item[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease;flex-shrink:0}.rede-social-item[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%]:hover, .associada-item[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.footer-form[_ngcontent-%COMP%]{padding:2rem}.form-section-title[_ngcontent-%COMP%]{font-size:16px}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}.rede-social-item[_ngcontent-%COMP%]{margin-bottom:.75rem;padding:.75rem;background:#f9f9f9;border-radius:6px}.rede-social-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{gap:.75rem}.rede-social-item[_ngcontent-%COMP%]   .p-grid[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.associada-item[_ngcontent-%COMP%]{margin-bottom:.75rem;padding:.75rem;background:#f9f9f9;border-radius:6px}.associada-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{gap:.75rem}']})}}return a})();var mn=c(9978);let gn=(()=>{class a{constructor(e){this.http=e,this.apiUrl=k.H+"api/configuracao-menus"}obterPorId(e){return this.http.get(`${this.apiUrl}/${e}`)}atualizar(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var un=c(2188);function fn(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Salvar Altera\xe7\xf5es"),t.k0s())}function bn(a,l){1&a&&(t.j41(0,"span"),t.nrm(1,"i",14),t.EFF(2," Salvando... "),t.k0s())}function hn(a,l){1&a&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3,"Loading..."),t.k0s()(),t.j41(4,"span"),t.EFF(5,"Carregando configura\xe7\xf5es..."),t.k0s()())}function _n(a,l){1&a&&(t.j41(0,"span"),t.EFF(1,"Selecionar Arquivo"),t.k0s())}function xn(a,l){1&a&&(t.j41(0,"span"),t.nrm(1,"i",14),t.EFF(2," Processando... "),t.k0s())}function Cn(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.removerLogo())}),t.nrm(1,"i",51),t.EFF(2," Remover Logo "),t.k0s()}}function vn(a,l){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"img",52),t.bIt("error",function(n){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onImageError(n))}),t.k0s(),t.bVm()}if(2&a){const e=t.XpG(2);t.R7$(1),t.Y8G("src",e.getLogoDataUrl(),t.B4B)}}function wn(a,l){1&a&&(t.j41(0,"div",53),t.EFF(1,"Nenhuma logo carregada."),t.k0s())}function yn(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",18)(1,"form",null,19)(3,"div",20)(4,"h3",21),t.nrm(5,"i",22),t.EFF(6," Cores da Interface "),t.k0s(),t.j41(7,"div",23)(8,"div",24)(9,"div",25)(10,"label",26),t.EFF(11,"Cor do Menu "),t.j41(12,"span",27),t.EFF(13,"*"),t.k0s()(),t.j41(14,"input",28),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.configuracao.menuColor=n)})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.aplicarCoresNoSistema())})("blur",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.configuracao.menuColor=n.normalizarCor(n.configuracao.menuColor))}),t.k0s(),t.j41(15,"small",29),t.EFF(16,"Cor principal do menu de navega\xe7\xe3o"),t.k0s()(),t.j41(17,"div",25)(18,"label",30),t.EFF(19,"Cor do Texto "),t.j41(20,"span",27),t.EFF(21,"*"),t.k0s()(),t.j41(22,"input",31),t.bIt("ngModelChange",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.configuracao.textColor=n)})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.aplicarCoresNoSistema())})("blur",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.configuracao.textColor=n.normalizarCor(n.configuracao.textColor))}),t.k0s(),t.j41(23,"small",29),t.EFF(24,"Cor principal do texto da interface"),t.k0s()()()()(),t.j41(25,"div",20)(26,"h3",21),t.nrm(27,"i",32),t.EFF(28," Logo da Empresa "),t.k0s(),t.j41(29,"div",23)(30,"div",33)(31,"label",34),t.EFF(32,"Upload da Logo"),t.k0s(),t.j41(33,"input",35),t.bIt("change",function(n){t.eBV(e);const i=t.XpG();return t.Njj(i.onFileSelected(n))}),t.k0s(),t.j41(34,"div",36)(35,"button",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.triggerFileInput())}),t.nrm(36,"i",38),t.DNE(37,_n,2,0,"span",11),t.DNE(38,xn,3,0,"span",11),t.k0s(),t.DNE(39,Cn,3,0,"button",39),t.k0s(),t.j41(40,"small",29),t.EFF(41," Formatos aceitos: JPEG, PNG, GIF, WebP, SVG. Tamanho m\xe1ximo: 2MB. "),t.k0s(),t.j41(42,"div",40),t.DNE(43,vn,2,1,"ng-container",41),t.DNE(44,wn,2,0,"ng-template",null,42,t.C5r),t.k0s()()()(),t.j41(46,"div",20)(47,"h3",21),t.nrm(48,"i",43),t.EFF(49," Preview das Cores "),t.k0s(),t.j41(50,"div",23)(51,"div",44)(52,"div",45)(53,"div",46),t.nrm(54,"i",47),t.EFF(55," Home "),t.k0s(),t.j41(56,"div",46),t.nrm(57,"i",48),t.EFF(58," Usu\xe1rios "),t.k0s(),t.j41(59,"div",46),t.nrm(60,"i",49),t.EFF(61," Configura\xe7\xf5es "),t.k0s()()()()()()()}if(2&a){const e=t.sdS(45),o=t.XpG();t.R7$(14),t.Y8G("ngModel",o.configuracao.menuColor),t.R7$(8),t.Y8G("ngModel",o.configuracao.textColor),t.R7$(13),t.Y8G("disabled",o.uploadingLogo),t.R7$(2),t.Y8G("ngIf",!o.uploadingLogo),t.R7$(1),t.Y8G("ngIf",o.uploadingLogo),t.R7$(1),t.Y8G("ngIf",o.configuracao.logoBase64),t.R7$(4),t.Y8G("ngIf",o.configuracao.logoBase64)("ngIfElse",e),t.R7$(9),t.xc7("background-color",o.configuracao.menuColor)("color",o.configuracao.textColor)}}let kn=(()=>{class a{constructor(e,o,n,i,r,p){this.configuracaoService=e,this.messageService=o,this.confirmationService=n,this.breadcrumbService=i,this.themeService=r,this.cdr=p,this.configuracao={id:0,menuColor:"",textColor:"",logoBase64:""},this.loading=!1,this.configuracaoId=1,this.uploadingLogo=!1,this.selectedFile=null,this.logoMimeType="image/png"}ngOnInit(){this.carregarConfiguracao(),this.updateBreadcrumb()}updateBreadcrumb(){try{this.breadcrumbService&&this.breadcrumbService.breadcrumbSubject&&this.breadcrumbService.breadcrumbSubject.next({items:[{label:"Configura\xe7\xf5es",link:"/admin/configuracoes"}],title:"Configura\xe7\xf5es",showAddButton:!1})}catch(e){console.warn("Erro ao atualizar breadcrumb:",e)}}carregarConfiguracao(){this.loading=!0,this.configuracaoService.obterPorId(this.configuracaoId).subscribe({next:e=>{e.menuColor=this.normalizarCor(e.menuColor),e.textColor=this.normalizarCor(e.textColor),this.configuracao=e,this.configuracao.logoBase64&&(this.logoMimeType=this.detectMimeTypeFromBase64(this.configuracao.logoBase64)),console.log("Configura\xe7\xe3o carregada:",e),this.aplicarCoresNoSistema(),this.loading=!1},error:e=>{console.error("Erro ao carregar configura\xe7\xe3o:",e),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar configura\xe7\xe3o"}),this.loading=!1}})}salvar(){this.validarFormulario()&&(this.loading=!0,this.configuracaoService.atualizar(this.configuracaoId,this.configuracao).subscribe({next:e=>{this.configuracao=e,this.aplicarCoresNoSistema(),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Configura\xe7\xf5es atualizadas com sucesso"}),this.loading=!1},error:e=>{console.error("Erro ao salvar configura\xe7\xe3o:",e),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao salvar configura\xe7\xf5es"}),this.loading=!1}}))}validarFormulario(){return this.configuracao.menuColor?.trim()?!!this.configuracao.textColor?.trim()||(this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Cor do texto \xe9 obrigat\xf3ria"}),!1):(this.messageService.add({severity:"warn",summary:"Aten\xe7\xe3o",detail:"Cor do menu \xe9 obrigat\xf3ria"}),!1)}onImageError(e){console.error("Erro ao carregar imagem:",{src:e.target.src,mimeType:this.logoMimeType,base64Length:this.configuracao.logoBase64?.length}),e.target.style.display="none",this.configuracao.logoBase64="",this.cdr.detectChanges(),this.messageService.add({severity:"warn",summary:"Erro no Preview",detail:`Erro ao exibir ${this.logoMimeType}. Verifique se o arquivo est\xe1 correto.`})}aplicarCoresNoSistema(){console.log("Aplicando cores:",{menuColor:this.configuracao.menuColor,textColor:this.configuracao.textColor});let e=this.normalizarCor(this.configuracao.menuColor),o=this.normalizarCor(this.configuracao.textColor);const n=this.themeService.getConfig();n.menuColor=e,n.textColor=o,console.log("Cores normalizadas:",{menuColor:e,textColor:o}),this.themeService.saveConfig(n)}normalizarCor(e){return e&&(7!==(e=e.trim()).length&&9!==e.length||!e.startsWith("#"))?(e.startsWith("#")||(e="#"+e),4===e.length?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:5===e.length?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4]:e):e}testarCores(){this.configuracao.menuColor="#0e3a5a",this.configuracao.textColor="#ffffff",this.aplicarCoresNoSistema(),this.messageService.add({severity:"info",summary:"Teste",detail:"Cores de teste aplicadas: Menu #0e3a5a, Texto #ffffff"})}onFileSelected(e){const o=e.target.files[0];if(o){if(this.selectedFile=o,!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(o.type))return void this.messageService.add({severity:"error",summary:"Erro",detail:"Formato de arquivo n\xe3o permitido. Use JPEG, PNG, GIF, WebP ou SVG."});if(o.size>2097152)return void this.messageService.add({severity:"error",summary:"Erro",detail:"Arquivo muito grande. Tamanho m\xe1ximo: 2MB."});this.uploadLogo()}}uploadLogo(){if(!this.selectedFile)return;this.uploadingLogo=!0;const e=new FileReader;e.onload=o=>{const n=o.target.result,i=n.indexOf(","),r=i>-1?n.substring(0,i):n,p=i>-1?n.substring(i+1):"",d=r.includes(";base64");let g;if(this.logoMimeType=this.selectedFile.type||(r.split(":")[1]||"image/png").split(";")[0],d)g=p;else try{g=btoa(unescape(encodeURIComponent(p)))}catch{g=btoa(p)}this.configuracao.logoBase64=g,this.messageService.add({severity:"success",summary:"Sucesso",detail:"Logo carregada com sucesso!"}),this.uploadingLogo=!1,this.selectedFile=null;try{this.cdr.detectChanges()}catch{}},e.onerror=()=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao processar o arquivo."}),this.uploadingLogo=!1},e.readAsDataURL(this.selectedFile)}triggerFileInput(){const e=document.getElementById("logoFileInput");e&&e.click()}removerLogo(){this.confirmationService.confirm({message:"Deseja remover a logo atual?",header:"Confirmar Remo\xe7\xe3o",icon:"pi pi-exclamation-triangle",accept:()=>{this.configuracao.logoBase64="",this.messageService.add({severity:"info",summary:"Removido",detail:"Logo removida com sucesso."})}})}getLogoDataUrl(){return this.configuracao.logoBase64?`data:${this.logoMimeType};base64,${this.configuracao.logoBase64}`:""}detectMimeTypeFromBase64(e){const o=e.substring(0,10);return o.startsWith("iVBOR")?"image/png":o.startsWith("/9j/")?"image/jpeg":o.startsWith("R0lGO")?"image/gif":o.startsWith("UklGR")?"image/webp":o.startsWith("PHN2Z")||o.startsWith("PD94b")?"image/svg+xml":"image/png"}confirmarSalvar(){this.confirmationService.confirm({message:"Deseja salvar as altera\xe7\xf5es nas configura\xe7\xf5es?",header:"Confirmar Altera\xe7\xf5es",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim, Salvar",rejectLabel:"Cancelar",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-text",accept:()=>{this.salvar()},reject:()=>{this.messageService.add({severity:"info",summary:"Cancelado",detail:"Altera\xe7\xf5es n\xe3o foram salvas"})}})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(gn),t.rXU(m.bg),t.rXU(m.td),t.rXU(z),t.rXU(un.F),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-configuracao"]],features:[t.Jv_([m.bg,m.td])],decls:20,vars:5,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-cog"],[1,"page-title"],[1,"page-subtitle"],[1,"page-actions"],["type","button",1,"btn","btn-success","btn-save",3,"disabled","click"],[1,"pi","pi-save","me-2"],[4,"ngIf"],["class","loading-container",4,"ngIf"],["class","config-form",4,"ngIf"],[1,"pi","pi-spin","pi-spinner","me-2"],[1,"loading-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"config-form"],["configForm","ngForm"],[1,"config-section"],[1,"section-title"],[1,"pi","pi-palette","me-2"],[1,"section-content"],[1,"form-row"],[1,"form-group","col-md-6"],["for","menuColor",1,"form-label"],[1,"required"],["id","menuColor","type","color","name","menuColor","required","",1,"form-control","form-control-color",3,"ngModel","ngModelChange","change","blur"],[1,"form-help"],["for","textColor",1,"form-label"],["id","textColor","type","color","name","textColor","required","",1,"form-control","form-control-color",3,"ngModel","ngModelChange","change","blur"],[1,"pi","pi-image","me-2"],[1,"form-group"],[1,"form-label"],["type","file","id","logoFileInput","accept","image/*,.svg",2,"display","none",3,"change"],[1,"logo-upload-actions"],["type","button",1,"btn","btn-primary","btn-upload",3,"disabled","click"],[1,"pi","pi-upload","me-2"],["type","button","class","btn btn-danger btn-remove",3,"click",4,"ngIf"],[1,"logo-preview",2,"margin-top","12px"],[4,"ngIf","ngIfElse"],["noLogo",""],[1,"pi","pi-eye","me-2"],[1,"color-preview-container"],[1,"preview-menu"],[1,"preview-menu-item"],[1,"pi","pi-home","me-2"],[1,"pi","pi-users","me-2"],[1,"pi","pi-cog","me-2"],["type","button",1,"btn","btn-danger","btn-remove",3,"click"],[1,"pi","pi-trash","me-2"],["alt","Logo preview",2,"max-width","220px","max-height","120px","object-fit","contain","border","1px solid #e6e6e6","padding","6px","background","#fff","border-radius","6px",3,"src","error"],[2,"color","#6b7280","font-size","0.9rem"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"Configura\xe7\xf5es"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie as configura\xe7\xf5es de apar\xeancia do sistema"),t.k0s()()(),t.j41(11,"div",8)(12,"button",9),t.bIt("click",function(){return n.confirmarSalvar()}),t.nrm(13,"i",10),t.DNE(14,fn,2,0,"span",11),t.DNE(15,bn,3,0,"span",11),t.k0s()()(),t.DNE(16,hn,6,0,"div",12),t.DNE(17,yn,62,12,"div",13),t.k0s()(),t.nrm(18,"p-toast")(19,"p-confirmDialog")),2&o&&(t.R7$(12),t.Y8G("disabled",n.loading),t.R7$(2),t.Y8G("ngIf",!n.loading),t.R7$(1),t.Y8G("ngIf",n.loading),t.R7$(1),t.Y8G("ngIf",n.loading),t.R7$(1),t.Y8G("ngIf",!n.loading))},dependencies:[s.qT,s.me,s.BC,s.cb,s.YS,T.T,C.y8,b.bT,s.vS,s.cV],styles:[".adm-pages[_ngcontent-%COMP%]   .page-container[_ngcontent-%COMP%]{padding:0}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);color:#fff;padding:30px;margin-bottom:30px;display:flex;justify-content:space-between;align-items:center}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:rgba(255,255,255,.1);border-radius:12px;display:flex;align-items:center;justify-content:center}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#ffffffe6}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:600;font-size:28px;margin:0}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#fffc;margin:5px 0 0}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]{display:flex;gap:15px}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);border:none;color:#fff;padding:12px 24px;border-radius:8px;font-family:Raleway,sans-serif;font-weight:500;transition:all .3s ease}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{background:#6c757d;transform:none;box-shadow:none;opacity:.7}@media (max-width: 768px){.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{padding:20px;flex-direction:column;gap:20px}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:15px}.adm-pages[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}.adm-pages[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.adm-pages[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{margin-bottom:20px}.adm-pages[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;font-size:16px;font-family:Raleway,sans-serif}.adm-pages[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]{padding:0 30px 30px}@media (max-width: 768px){.adm-pages[_ngcontent-%COMP%]   .config-form[_ngcontent-%COMP%]{padding:0 20px 20px}}.config-section[_ngcontent-%COMP%]{background:white;border-radius:12px;margin-bottom:25px;box-shadow:0 2px 10px #00000014;overflow:hidden}.config-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);font-family:Raleway,sans-serif;font-weight:600;font-size:18px;color:#0d4a8a;margin:0;padding:20px 30px;border-bottom:1px solid #dee2e6}.config-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1b6ba8}.config-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{padding:30px}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -15px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding:0 15px}.form-row[_ngcontent-%COMP%]   .form-group.col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]   .form-group.col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:500;color:#495057;margin-bottom:8px;display:block}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc3545}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:8px;padding:12px 15px;font-size:14px;transition:all .3s ease;width:100%}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#1b6ba8;box-shadow:0 0 0 .2rem #1b6ba840;outline:none}.form-group[_ngcontent-%COMP%]   .form-control.form-control-color[_ngcontent-%COMP%]{height:50px;padding:4px;cursor:pointer}.form-group[_ngcontent-%COMP%]   .form-control.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{border:none;border-radius:6px}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.form-group[_ngcontent-%COMP%]   .form-help[_ngcontent-%COMP%]{font-size:12px;color:#6c757d;margin-top:6px;display:block;font-style:italic}.logo-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{border:2px dashed #dee2e6;border-radius:8px;padding:25px;text-align:center;background-color:#f8f9fa}.logo-preview[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .logo-preview-image[_ngcontent-%COMP%]{max-width:250px;max-height:120px;border-radius:6px;box-shadow:0 4px 12px #0000001a;border:1px solid #dee2e6}.color-preview-container[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000000d}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]{padding:20px}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]   .preview-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;margin-bottom:8px;border-radius:8px;background:rgba(255,255,255,.1);font-family:Raleway,sans-serif;font-weight:500;transition:all .3s ease}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]   .preview-menu-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]   .preview-menu-item[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:translate(5px)}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{padding:25px;background-color:#fff}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:600;margin-bottom:15px}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:14px;line-height:1.6}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-button[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;border-radius:8px;cursor:pointer;transition:all .3s ease}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #1B6BA8}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057;font-family:Raleway,sans-serif}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px;border-radius:6px}.info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .badge.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}@media (max-width: 576px){.config-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{padding:15px 20px;font-size:16px}.config-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{padding:20px}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]{padding:15px}.color-preview-container[_ngcontent-%COMP%]   .preview-menu[_ngcontent-%COMP%]   .preview-menu-item[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}.color-preview-container[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{padding:20px}}.logo-upload-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:15px;flex-wrap:wrap}.logo-upload-actions[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border:none;color:#fff;padding:12px 20px;border-radius:8px;font-family:Raleway,sans-serif;font-weight:500;transition:all .3s ease;display:flex;align-items:center}.logo-upload-actions[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #0d4a8a4d}.logo-upload-actions[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]:disabled{background:#6c757d;transform:none;box-shadow:none;opacity:.7;cursor:not-allowed}.logo-upload-actions[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545 0%,#c82333 100%);border:none;color:#fff;padding:12px 20px;border-radius:8px;font-family:Raleway,sans-serif;font-weight:500;transition:all .3s ease;display:flex;align-items:center}.logo-upload-actions[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d}@media (max-width: 576px){.logo-upload-actions[_ngcontent-%COMP%]{flex-direction:column}.logo-upload-actions[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%], .logo-upload-actions[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{width:100%;justify-content:center}}  .p-confirm-dialog .p-dialog-header{background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);color:#fff;border-radius:12px 12px 0 0}  .p-confirm-dialog .p-dialog-header .p-dialog-title{font-family:Raleway,sans-serif;font-weight:600}  .p-confirm-dialog .p-dialog-header .p-dialog-header-icon{color:#fffc}  .p-confirm-dialog .p-dialog-header .p-dialog-header-icon:hover{color:#fff;background:rgba(255,255,255,.1)}  .p-confirm-dialog .p-dialog-content{padding:30px;background:white}  .p-confirm-dialog .p-dialog-content .p-confirm-dialog-message{font-family:Raleway,sans-serif;font-size:16px;color:#495057;margin-left:15px}  .p-confirm-dialog .p-dialog-content .p-confirm-dialog-icon{color:#ffc107;font-size:24px}  .p-confirm-dialog .p-dialog-footer{background:#f8f9fa;border-radius:0 0 12px 12px;padding:20px 30px}  .p-confirm-dialog .p-dialog-footer .p-button{font-family:Raleway,sans-serif;font-weight:500;border-radius:8px;padding:12px 24px;margin-left:10px}  .p-confirm-dialog .p-dialog-footer .p-button.p-button-success{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);border:none}  .p-confirm-dialog .p-dialog-footer .p-button.p-button-success:hover{transform:translateY(-2px);box-shadow:0 4px 12px #28a7454d}  .p-confirm-dialog .p-dialog-footer .p-button.p-button-text{color:#6c757d}  .p-confirm-dialog .p-dialog-footer .p-button.p-button-text:hover{background:#e9ecef;color:#495057}  .p-confirm-dialog .p-dialog-mask{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}  .p-toast .p-toast-message{border-radius:12px;box-shadow:0 4px 20px #00000026}  .p-toast .p-toast-message .p-toast-message-content{padding:20px}  .p-toast .p-toast-message .p-toast-message-content .p-toast-summary{font-family:Raleway,sans-serif;font-weight:600}  .p-toast .p-toast-message .p-toast-message-content .p-toast-detail{font-family:Raleway,sans-serif}  .p-toast .p-toast-message.p-toast-message-success{background:linear-gradient(135deg,#28a745 0%,#20c997 100%);color:#fff}  .p-toast .p-toast-message.p-toast-message-success .p-toast-icon-close{color:#fffc}  .p-toast .p-toast-message.p-toast-message-success .p-toast-icon-close:hover{color:#fff;background:rgba(255,255,255,.1)}  .p-toast .p-toast-message.p-toast-message-error{background:linear-gradient(135deg,#dc3545 0%,#c82333 100%);color:#fff}  .p-toast .p-toast-message.p-toast-message-error .p-toast-icon-close{color:#fffc}  .p-toast .p-toast-message.p-toast-message-error .p-toast-icon-close:hover{color:#fff;background:rgba(255,255,255,.1)}  .p-toast .p-toast-message.p-toast-message-warn{background:linear-gradient(135deg,#ffc107 0%,#e0a800 100%);color:#212529}  .p-toast .p-toast-message.p-toast-message-warn .p-toast-icon-close{color:#212529b3}  .p-toast .p-toast-message.p-toast-message-warn .p-toast-icon-close:hover{color:#212529;background:rgba(33,37,41,.1)}  .p-toast .p-toast-message.p-toast-message-info{background:linear-gradient(135deg,#17a2b8 0%,#138496 100%);color:#fff}  .p-toast .p-toast-message.p-toast-message-info .p-toast-icon-close{color:#fffc}  .p-toast .p-toast-message.p-toast-message-info .p-toast-icon-close:hover{color:#fff;background:rgba(255,255,255,.1)}"]})}}return a})();var Pn=c(4185);function Mn(a,l){1&a&&(t.j41(0,"tr")(1,"th",24),t.EFF(2,"T\xcdTULO "),t.nrm(3,"p-sortIcon",25),t.k0s(),t.j41(4,"th",26),t.EFF(5,"DESCRI\xc7\xc3O "),t.nrm(6,"p-sortIcon",27),t.k0s(),t.j41(7,"th",28),t.EFF(8,"A\xc7\xd5ES"),t.k0s()())}function Fn(a,l){if(1&a){const e=t.RV6();t.j41(0,"i",33),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,i=t.XpG();return t.Njj(i.confirmarExclusao(n))}),t.k0s()}}function On(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"div",29)(7,"i",30),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.visualizarPagina(i))}),t.k0s(),t.j41(8,"i",31),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editarPagina(i))}),t.k0s(),t.DNE(9,Fn,1,0,"i",32),t.k0s()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.title),t.R7$(2),t.JRh(e.descricao),t.R7$(5),t.Y8G("ngIf",17!=e.id)}}const jn=function(){return{standalone:!0}},En=function(){return[5,10,25,50]};let Sn=(()=>{class a{constructor(e,o,n,i,r){this.paginaService=e,this.messageService=o,this.confirmationService=n,this.router=i,this.cdr=r,this.paginas=[],this.paginasFiltradas=[],this.loading=!1,this.totalRecords=0,this.rows=10,this.first=0,this.searchTerm=""}ngOnInit(){this.carregarPaginas()}carregarPaginas(){this.loading=!0,this.paginaService.listarPaginas().subscribe({next:e=>{this.paginas=[...e],this.paginasFiltradas=[...e],this.totalRecords=e.length,this.loading=!1,this.cdr.markForCheck()},error:e=>{console.error("Erro na requisi\xe7\xe3o:",e),this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao carregar p\xe1ginas"}),this.loading=!1}})}buscar(){this.paginasFiltradas=this.searchTerm?this.paginas.filter(e=>e.title.toLowerCase().includes(this.searchTerm.toLowerCase())||e.descricao.toLowerCase().includes(this.searchTerm.toLowerCase())):[...this.paginas],this.totalRecords=this.paginasFiltradas.length,this.first=0}limparFiltros(){this.searchTerm="",this.paginasFiltradas=[...this.paginas],this.totalRecords=this.paginasFiltradas.length,this.first=0}confirmarExclusao(e){this.confirmationService.confirm({message:`Tem certeza que deseja excluir a p\xe1gina "${e.title}"?`,header:"Confirma\xe7\xe3o de Exclus\xe3o",icon:"pi pi-exclamation-triangle",acceptLabel:"Sim",rejectLabel:"N\xe3o",accept:()=>{this.excluirPagina(e)}})}excluirPagina(e){e.id&&this.paginaService.deletarPagina(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"P\xe1gina exclu\xedda com sucesso"}),this.carregarPaginas()},error:o=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao excluir p\xe1gina"})}})}visualizarPagina(e){e.link&&window.open(e.link,"_blank")}criarPagina(){localStorage.removeItem("paginaEdit"),localStorage.removeItem("pagebuilder-save");const e=this.router.createUrlTree(["/page-builder"]),o=this.router.serializeUrl(e);window.open(o,"_blank")}editarPagina(e){if(localStorage.setItem("paginaEdit",JSON.stringify(e)),e.conteudo){const i={elements:[],html:e.conteudo,timestamp:(new Date).toISOString()};localStorage.setItem("pagebuilder-save",JSON.stringify(i))}const o=this.router.createUrlTree(["/page-builder"]),n=this.router.serializeUrl(o);window.open(n,"_blank")}trackByPaginaId(e,o){return o.id}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(Pn.q),t.rXU(m.bg),t.rXU(m.td),t.rXU(M.Ix),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-paginas-lista"]],features:[t.Jv_([m.bg,m.td])],decls:30,vars:11,consts:[[1,"adm-pages"],[1,"page-container"],[1,"faq-header-card","d-flex","align-items-center","justify-content-between","mb-4",2,"background","linear-gradient(90deg, #1565c0 60%, #42a5f5 100%)","border-radius","18px","padding","24px 32px 24px 24px"],[1,"d-flex","align-items-center"],[1,"header-icon","mr-3",2,"background","#fff","border-radius","50%","width","56px","height","56px","display","flex","align-items","center","justify-content","center"],[1,"pi","pi-file",2,"font-size","2rem","color","#1565c0"],[1,"page-title","mb-1",2,"color","#fff","font-size","2rem","font-weight","700"],[1,"page-subtitle","mb-0",2,"color","#e3f2fd","font-size","1.1rem"],["pButton","","type","button","label","Criar P\xe1gina","icon","pi pi-plus",1,"p-button-success",2,"min-width","180px","font-weight","600","font-size","1rem","background","#00c853","border","none",3,"click"],[1,"bg-white","rounded-4","shadow-sm","px-4","py-4","mb-4",2,"border-radius","18px"],[1,"filter-form"],[1,"row","align-items-end","g-3"],[1,"col-12","col-md-8","col-lg-9"],["for","search",1,"form-label","mb-1",2,"font-weight","600","color","#1565c0"],[1,"position-relative"],[1,"pi","pi-search","position-absolute",2,"left","12px","top","50%","transform","translateY(-50%)","color","#90caf9"],["pInputText","","id","search","placeholder","T\xedtulo, descri\xe7\xe3o...",1,"form-control","ps-5","py-2",2,"border-radius","8px","border","1px solid #e3eaf3","background","#f8fafc",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"col-12","col-md-4","col-lg-3","d-flex","justify-content-end","gap-2","mt-3","mt-md-0"],["pButton","","type","button","label","Pesquisar","icon","pi pi-search",1,"p-button-primary","px-4",3,"click"],["pButton","","type","button","label","Limpar","icon","pi pi-refresh",1,"p-button-outlined","p-button-secondary","px-4",3,"click"],[1,"paginas-table"],["scrollHeight","400px","responsiveLayout","scroll","selectionMode","single","currentPageReportTemplate","{first} - {last} de {totalRecords}","sortMode","multiple",3,"value","scrollable","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","title",2,"width","30%"],["field","title"],["pSortableColumn","descricao",2,"width","40%"],["field","descricao"],[2,"width","20%"],[1,"d-flex","align-items-center","align-content-center"],["pTooltip","Visualizar","tooltipPosition","top",1,"pi","pi-eye","mr-3",3,"click"],["pTooltip","Editar","tooltipPosition","top",1,"pi","pi-pen-to-square","mr-3",3,"click"],["class","pi pi-trash","pTooltip","Excluir","tooltipPosition","top",3,"click",4,"ngIf"],["pTooltip","Excluir","tooltipPosition","top",1,"pi","pi-trash",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.k0s(),t.j41(6,"div")(7,"h1",6),t.EFF(8,"P\xe1ginas"),t.k0s(),t.j41(9,"p",7),t.EFF(10,"Gerencie p\xe1ginas din\xe2micas do sistema"),t.k0s()()(),t.j41(11,"button",8),t.bIt("click",function(){return n.criarPagina()}),t.k0s()(),t.j41(12,"div",9)(13,"form",10)(14,"div",11)(15,"div",12)(16,"label",13),t.EFF(17,"Buscar P\xe1gina"),t.k0s(),t.j41(18,"div",14),t.nrm(19,"i",15),t.j41(20,"input",16),t.bIt("ngModelChange",function(r){return n.searchTerm=r})("keyup.enter",function(){return n.buscar()}),t.k0s()()(),t.j41(21,"div",17)(22,"button",18),t.bIt("click",function(){return n.buscar()}),t.k0s(),t.j41(23,"button",19),t.bIt("click",function(){return n.limparFiltros()}),t.k0s()()()()(),t.j41(24,"div",20)(25,"p-table",21),t.DNE(26,Mn,9,0,"ng-template",22),t.DNE(27,On,10,3,"ng-template",23),t.k0s()()()(),t.nrm(28,"p-toast")(29,"p-confirmDialog")),2&o&&(t.R7$(20),t.Y8G("ngModel",n.searchTerm)("ngModelOptions",t.lJ4(9,jn)),t.R7$(5),t.Y8G("value",n.paginasFiltradas)("scrollable",!0)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.lJ4(10,En))("loading",n.loading))},dependencies:[s.qT,s.me,s.BC,s.cb,m.Ei,T.T,h._f,f.XI,f.Tg,f.yc,_.S,C.y8,w.m,b.bT,s.vS,s.cV],styles:['@charset "UTF-8";.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#0D4A8A 0%,#1B6BA8 100%);border-radius:12px;box-shadow:0 20px 50px #0d4a8a26;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:rgba(255,255,255,.05);border-radius:50%;z-index:1}.page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:12px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{font-weight:700;font-size:28px;margin-bottom:.5rem;color:#fff;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;max-width:460px;font-size:14px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981 0%,#059669 100%)!important;border-color:transparent!important;box-shadow:0 6px 20px #10b98159!important;border-radius:8px!important;font-family:Raleway,sans-serif!important;font-weight:600!important;transition:all .3s ease!important}.page-header[_ngcontent-%COMP%]   .p-button.p-button-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#059669 0%,#047857 100%)!important;transform:translateY(-2px)!important;box-shadow:0 8px 28px #10b98173!important}.paginas-table[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ffffff,#fafbfc);border-radius:16px;padding:2.5rem;box-shadow:0 10px 40px #0d4a8a14,0 2px 8px #0000000a;border:1px solid #e8eef7;font-family:Raleway,sans-serif;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}  .paginas-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-family:Raleway,sans-serif!important;font-size:13px!important;text-transform:uppercase!important;letter-spacing:.5px!important;border-color:#e8eef7!important;padding:1.25rem!important}  .paginas-table .p-datatable .p-datatable-tbody>tr>td{padding:1.25rem!important;border-color:#e8eef7!important;color:#0f1724!important;font-family:Raleway,sans-serif!important}  .paginas-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .paginas-table .p-paginator{background:transparent!important;border-color:#e8eef7!important}  .paginas-table .p-paginator .p-paginator-current{color:#0f1724!important;font-family:Raleway,sans-serif!important}.paginas-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:gray;cursor:pointer;transition:all .3s ease}.paginas-table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.paginas-table[_ngcontent-%COMP%]   i.mr-3[_ngcontent-%COMP%]{margin-right:.75rem}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;gap:2rem}.page-header[_ngcontent-%COMP%]{padding:2rem;flex-direction:column;text-align:left}.page-header[_ngcontent-%COMP%]:before, .page-header[_ngcontent-%COMP%]:after{display:none}.header-content[_ngcontent-%COMP%]{gap:1.5rem}.header-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:24px}.page-title[_ngcontent-%COMP%]{font-size:26px}.page-subtitle[_ngcontent-%COMP%]{font-size:13px}.paginas-table[_ngcontent-%COMP%]{padding:2rem}  .page-actions{width:100%;gap:.5rem}  .page-actions .p-button{flex:1;min-width:120px}}']})}}return a})();function Tn(a,l){1&a&&(t.j41(0,"small",10),t.EFF(1,"Informe o t\xedtulo do modelo."),t.k0s())}function Rn(a,l){1&a&&(t.j41(0,"small",10),t.EFF(1,"Informe o conte\xfado JSON."),t.k0s())}function In(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.cancelar())}),t.k0s(),t.j41(2,"button",13),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.salvar())}),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("disabled",e.form.invalid)}}function Dn(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",11)(1,"button",14),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.fechar())}),t.k0s()()}}let H=(()=>{class a{constructor(e,o,n){this.fb=e,this.dialogConfig=o,this.dialogRef=n,this.somenteLeitura=!1}ngOnInit(){const e=this.dialogConfig.data||{};this.somenteLeitura=!!e?.somenteLeitura;const o=e;this.form=this.fb.group({id:[o?.id],tituloTema:[o?.tituloTema||"",[s.k0.required,s.k0.maxLength(150)]],descricao:[o?.descricao||"",[s.k0.maxLength(300)]],conteudoJson:[o?.conteudoJson||"[]",[s.k0.required]]}),this.somenteLeitura&&this.form.disable()}salvar(){this.form.invalid?this.form.markAllAsTouched():this.dialogRef.close(this.form.value)}cancelar(){this.dialogRef.close()}fechar(){this.dialogRef.close()}controlInvalid(e){const o=this.form.get(e);return!!o&&o.touched&&o.invalid}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(u.sb),t.rXU(u.Pw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-modelo-pagina-form-dialog"]],decls:17,vars:5,consts:[[1,"modelo-form",3,"formGroup"],[1,"form-field"],["for","tituloTema"],["id","tituloTema","type","text","pInputText","","formControlName","tituloTema"],["class","p-error",4,"ngIf"],["for","descricao"],["id","descricao","type","text","pInputText","","formControlName","descricao"],["for","conteudoJson"],["id","conteudoJson","pInputTextarea","","rows","8","formControlName","conteudoJson"],["class","dialog-actions",4,"ngIf"],[1,"p-error"],[1,"dialog-actions"],["type","button","pButton","","label","Cancelar",1,"p-button-text",3,"click"],["type","button","pButton","","label","Salvar",3,"disabled","click"],["type","button","pButton","","label","Fechar",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"form",0)(1,"div",1)(2,"label",2),t.EFF(3,"T\xedtulo *"),t.k0s(),t.nrm(4,"input",3),t.DNE(5,Tn,2,0,"small",4),t.k0s(),t.j41(6,"div",1)(7,"label",5),t.EFF(8,"Descri\xe7\xe3o"),t.k0s(),t.nrm(9,"input",6),t.k0s(),t.j41(10,"div",1)(11,"label",7),t.EFF(12,"Conte\xfado JSON *"),t.k0s(),t.nrm(13,"textarea",8),t.DNE(14,Rn,2,0,"small",4),t.k0s(),t.DNE(15,In,3,1,"div",9),t.DNE(16,Dn,2,0,"div",9),t.k0s()),2&o&&(t.Y8G("formGroup",n.form),t.R7$(5),t.Y8G("ngIf",n.controlInvalid("tituloTema")),t.R7$(9),t.Y8G("ngIf",n.controlInvalid("conteudoJson")),t.R7$(1),t.Y8G("ngIf",!n.somenteLeitura),t.R7$(1),t.Y8G("ngIf",n.somenteLeitura))},dependencies:[b.bT,h._f,_.S,F.Z,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:[".modelo-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}textarea[_ngcontent-%COMP%]{font-family:monospace}.dialog-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:flex-end;gap:.5rem}"]})}}return a})(),Bn=(()=>{class a{constructor(e){this.http=e,this.apiUrl=`${k.H}api/v1/modelos-pagina`,this.consultaUrl=`${this.apiUrl}/consulta`}listarTodos(){return this.http.get(this.apiUrl)}consultar(e){const o=new URLSearchParams;Object.entries(e).forEach(([i,r])=>{null!=r&&""!==r&&o.append(i,String(r))});const n=o.toString()?`${this.consultaUrl}?${o}`:this.consultaUrl;return this.http.get(n)}obterPorId(e){return this.http.get(`${this.apiUrl}/${e}`)}criar(e){return this.http.post(this.apiUrl,e)}atualizar(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deletar(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(x.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function $n(a,l){1&a&&(t.j41(0,"tr")(1,"th",23),t.EFF(2,"T\xedtulo"),t.k0s(),t.j41(3,"th",23),t.EFF(4,"Descri\xe7\xe3o"),t.k0s(),t.j41(5,"th",24),t.EFF(6,"A\xe7\xf5es"),t.k0s()())}function An(a,l){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"div",25)(7,"i",26),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deletarModelo(i))}),t.k0s()()()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.tituloTema||"-"),t.R7$(2),t.JRh(e.descricao||"-")}}function Gn(a,l){1&a&&(t.j41(0,"tr")(1,"td",27),t.EFF(2,"Nenhum modelo encontrado."),t.k0s()())}const zn=function(){return[10,25,50]},Un=[{path:"",component:it,children:[{path:"user-management",component:zt,title:"Gerenciamento de Usu\xe1rios"},{path:"menu-list",component:mn.t,title:"Menus",data:{showAddButton:!0}},{path:"pagina",component:Xt.a,title:"P\xe1ginas"},{path:"corpo-diretivo-form",component:Vt.J,title:"Corpo Diretivo",data:{showAddButton:!0}},{path:"posts",component:X,title:"Posts",data:{showAddButton:!0}},{path:"posts/:postId",component:Ut.U,title:"Detalhes do Post"},{path:"setor-list",component:oe,title:"Setor",data:{showAddButton:!0}},{path:"cargo-list",component:ue,title:"Cargo",data:{showAddButton:!0}},{path:"avisos",component:zo,title:"Avisos",data:{showAddButton:!1}},{path:"banners",component:on,title:"Banners",data:{showAddButton:!0}},{path:"footers",component:dn,title:"Footers",data:{showAddButton:!1}},{path:"faq-list",component:Me,title:"FAQ",data:{showAddButton:!0}},{path:"parceiros-list",component:Ue,title:"Parceiros",data:{showAddButton:!0}},{path:"app-usuarios",component:no,title:"Usu\xe1rios",data:{showAddButton:!0}},{path:"categorias",component:uo,title:"Categorias",data:{showAddButton:!0}},{path:"modelos-pagina",component:(()=>{class a{constructor(e,o,n,i,r){this.fb=e,this.service=o,this.dialogService=n,this.modalCommunicationService=i,this.messageService=r,this.modelos=[],this.filteredElements=[],this.loading=!1}ngOnInit(){this.initializeFilterForm(),this.buscarModelos(),this.addButtonSubscription=this.modalCommunicationService.addButtonClick$.subscribe(()=>{this.adicionarModelo()})}ngOnDestroy(){this.addButtonSubscription?.unsubscribe(),this.ref?.close()}initializeFilterForm(){this.filterForm=this.fb.group({tituloTema:[""]})}buscarModelos(){const e=this.buildFiltro();this.loading=!0,this.service.consultar(e).subscribe({next:o=>{this.modelos=this.normalizarResposta(o),this.filteredElements=[...this.modelos],this.loading=!1},error:o=>{console.error("Erro ao consultar modelos:",o),this.loading=!1,this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel consultar os modelos de p\xe1gina."})}})}buildFiltro(){const{tituloTema:e}=this.filterForm.value,o={};return e&&e.trim()&&(o.tituloTema=e.trim()),o}normalizarResposta(e){return Array.isArray(e)?e:Array.isArray(e?.content)?e.content:Array.isArray(e?.data)?e.data:[]}adicionarModelo(e){const o=e?{...e}:{conteudoJson:"[]"};this.ref=this.dialogService.open(H,{header:e?"Editar Modelo":"Novo Modelo",width:"55vw",modal:!0,breakpoints:{"960px":"75vw","640px":"95vw"},data:o}),this.ref.onClose.subscribe(i=>{i&&(e&&e.id?this.atualizarModelo(e.id,i):this.criarModelo(i))})}visualizarModelo(e){if(!e)return;const o={header:"Visualizar Modelo",width:"55vw",modal:!0,closable:!0,breakpoints:{"960px":"75vw","640px":"95vw"},data:{...e,somenteLeitura:!0}};this.ref=this.dialogService.open(H,o)}criarModelo(e){this.service.criar(e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Modelo criado com sucesso."}),this.buscarModelos()},error:o=>{console.error("Erro ao criar modelo:",o),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel criar o modelo."})}})}atualizarModelo(e,o){const n={...o};delete n.id,this.service.atualizar(e,n).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Modelo atualizado com sucesso."}),this.buscarModelos()},error:i=>{console.error("Erro ao atualizar modelo:",i),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel atualizar o modelo."})}})}deletarModelo(e){!e.id||!confirm(`Deseja realmente remover o modelo "${e.tituloTema}"?`)||this.service.deletar(e.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Sucesso",detail:"Modelo removido com sucesso."}),this.buscarModelos()},error:n=>{console.error("Erro ao remover modelo:",n),this.messageService.add({severity:"error",summary:"Erro",detail:"N\xe3o foi poss\xedvel remover o modelo."})}})}aplicarFiltros(){this.buscarModelos()}limparFiltros(){this.filterForm.reset({tituloTema:""}),this.buscarModelos()}jsonPreview(e){if(!e)return"-";const o=e.replace(/\s+/g," ").trim();return o.length>120?`${o.substring(0,120)}...`:o}copiarJson(e){if(!e.conteudoJson)return;if(navigator?.clipboard?.writeText)return void navigator.clipboard.writeText(e.conteudoJson).then(()=>{this.messageService.add({severity:"success",summary:"Copiado",detail:"Conte\xfado JSON copiado para a \xe1rea de transfer\xeancia."})}).catch(n=>{console.error("Erro ao copiar JSON:",n),this.messageService.add({severity:"warn",summary:"Aviso",detail:"N\xe3o foi poss\xedvel copiar o JSON automaticamente."})});const o=document.createElement("textarea");o.value=e.conteudoJson,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),this.messageService.add({severity:"success",summary:"Copiado",detail:"Conte\xfado JSON copiado para a \xe1rea de transfer\xeancia."})}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(s.ok),t.rXU(Bn),t.rXU(u.o3),t.rXU(P.j),t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-modelo-pagina"]],features:[t.Jv_([u.o3,m.bg])],decls:28,vars:8,consts:[[1,"adm-pages"],[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"header-icon"],[1,"pi","pi-clone"],[1,"page-title"],[1,"page-subtitle"],[1,"filters-card"],[1,"filter-form",3,"formGroup"],[1,"filter-input"],["for","tituloTema"],[1,"input-wrapper"],[1,"pi","pi-search"],["type","text","id","tituloTema","pInputText","","formControlName","tituloTema","placeholder","T\xedtulo, descri\xe7\xe3o..."],[1,"filter-actions"],["type","button","pButton","","label","Filtrar","icon","pi pi-search",1,"p-button-primary",3,"click"],["type","button","pButton","","label","Limpar","icon","pi pi-refresh",1,"p-button-outlined","p-button-secondary",3,"click"],[1,"modelos-table"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","{first} - {last} de {totalRecords}",3,"value","loading","rows","paginator","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","30%"],[2,"width","10%"],[1,"table-actions"],["pTooltip","Excluir","tooltipPosition","top",1,"pi","pi-trash",3,"click"],["colspan","4",1,"text-center"]],template:function(o,n){1&o&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.nrm(6,"i",5),t.k0s(),t.j41(7,"div")(8,"h1",6),t.EFF(9,"Modelos de P\xe1gina"),t.k0s(),t.j41(10,"p",7),t.EFF(11,"Gerencie templates prontos para cria\xe7\xe3o r\xe1pida de p\xe1ginas."),t.k0s()()()(),t.j41(12,"div",8)(13,"form",9)(14,"div",10)(15,"label",11),t.EFF(16,"Buscar Modelo"),t.k0s(),t.j41(17,"div",12),t.nrm(18,"i",13)(19,"input",14),t.k0s()(),t.j41(20,"div",15)(21,"button",16),t.bIt("click",function(){return n.aplicarFiltros()}),t.k0s(),t.j41(22,"button",17),t.bIt("click",function(){return n.limparFiltros()}),t.k0s()()()(),t.j41(23,"div",18)(24,"p-table",19),t.DNE(25,$n,7,0,"ng-template",20),t.DNE(26,An,8,2,"ng-template",21),t.DNE(27,Gn,3,0,"ng-template",22),t.k0s()()()()),2&o&&(t.R7$(13),t.Y8G("formGroup",n.filterForm),t.R7$(11),t.Y8G("value",n.filteredElements)("loading",n.loading)("rows",10)("paginator",!0)("rowsPerPageOptions",t.lJ4(7,zn))("showCurrentPageReport",!0))},dependencies:[m.Ei,h._f,f.XI,_.S,C.y8,w.m,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['.adm-pages[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc 0%,#eef2ff 100%);min-height:100vh;padding:0}.page-container[_ngcontent-%COMP%]{max-width:100%;margin:0;display:flex;flex-direction:column;gap:2rem;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:2rem;padding:2.5rem;background:linear-gradient(135deg,#1565c0 0%,#1b6ba8 100%);border-radius:16px;box-shadow:0 22px 45px #1565c033;position:relative;overflow:hidden}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40%;right:-15%;width:360px;height:360px;border-radius:50%;background:rgba(255,255,255,.08)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;z-index:2;flex:1}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;background:rgba(255,255,255,.15);border-radius:14px;color:#fff;font-size:28px;box-shadow:inset 0 2px 8px #0000001a}.page-title[_ngcontent-%COMP%]{margin:0 0 .25rem;color:#fff;font-size:28px;font-weight:700;font-family:Raleway,sans-serif}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#ffffffd9;font-size:15px;font-family:Raleway,sans-serif}.page-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;z-index:2}.page-header[_ngcontent-%COMP%]   .p-button-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00c853 0%,#02a043 100%)!important;border:0!important;box-shadow:0 10px 25px #00c85359!important;font-weight:600!important;border-radius:10px!important;padding:.75rem 1.5rem!important}.filters-card[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 15px 40px #0f172414;padding:1.75rem}.filter-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;align-items:flex-end}.filter-input[_ngcontent-%COMP%]{flex:1 1 300px;display:flex;flex-direction:column;gap:.5rem}.filter-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#1b3a57;font-size:.95rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:.85rem;top:50%;transform:translateY(-50%);color:#94a3b8}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-left:2.5rem;border-radius:10px;border:1px solid #e2e8f0;background:#f8fafc}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.modelos-table[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff 0%,#f4f6fb 100%);border-radius:18px;padding:2.25rem;box-shadow:0 18px 55px #0f192817;border:1px solid #dde7f6}.json-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.5rem;word-break:break-all}.json-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.json-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#1b6ba8;cursor:pointer;transition:color .2s ease,transform .2s ease}.json-preview[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.05)}.table-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem}.table-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;color:#94a3b8;cursor:pointer;transition:color .2s ease,transform .2s ease}.table-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0d4a8a;transform:scale(1.1)}.table-actions[_ngcontent-%COMP%]   i.pi-trash[_ngcontent-%COMP%]:hover{color:#d32f2f}  .modelos-table .p-datatable .p-datatable-thead>tr>th{background:#f8fafc!important;color:#0d4a8a!important;font-weight:700!important;font-size:13px!important;border-color:#dde7f6!important;padding:1.25rem!important;text-transform:uppercase;letter-spacing:.4px}  .modelos-table .p-datatable .p-datatable-tbody>tr>td{border-color:#dde7f6!important;padding:1.25rem!important;color:#0f172a!important}  .modelos-table .p-datatable .p-datatable-tbody>tr:hover{background:#f8fafc!important}  .modelos-table .p-paginator{border:none!important;background:transparent!important}  .modelos-table .p-button-text.p-button-danger{color:#d32f2f!important}  .modelos-table .pi{font-family:PrimeIcons!important}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.page-header[_ngcontent-%COMP%]{padding:2rem;text-align:left}.filters-card[_ngcontent-%COMP%], .modelos-table[_ngcontent-%COMP%]{padding:1.5rem}.filter-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}']})}}return a})(),title:"Modelos de P\xe1gina",data:{showAddButton:!0}},{path:"temas",component:ko,title:"Temas",data:{showAddButton:!0}},{path:"paginas-lista",component:Sn,title:"Lista de P\xe1ginas",data:{showAddButton:!1}},{path:"funcionarios",component:Io,title:"Funcion\xe1rios",data:{showAddButton:!0}},{path:"configuracoes",component:kn,title:"Configura\xe7\xf5es",data:{showAddButton:!1}},{path:"associados",loadChildren:()=>Promise.all([c.e(566),c.e(29)]).then(c.bind(c,7029)).then(a=>a.AssociadosModule)},{path:"enquadramentos",loadChildren:()=>c.e(673).then(c.bind(c,673)).then(a=>a.EnquadramentoModule)},{path:"",component:X,title:"Posts"}]}];let Xn=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[Nt.G,b.MD,rt.r,s.YN,M.iI.forChild(Un)]})}}return a})()}}]);